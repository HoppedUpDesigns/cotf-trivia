/*! For license information please see main.e01fa0fd.js.LICENSE.txt */
!function(){var e={110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var s=u(t),v=u(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!s||!s[y])){var g=h(n,y);try{c(t,y,g)}catch(b){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function k(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case s:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case u:return e;default:return t}}case i:return t}}}function x(e){return k(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||k(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return k(e)===c},t.isContextProvider=function(e){return k(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return k(e)===h},t.isFragment=function(e){return k(e)===a},t.isLazy=function(e){return k(e)===m},t.isMemo=function(e){return k(e)===v},t.isPortal=function(e){return k(e)===i},t.isProfiler=function(e){return k(e)===s},t.isStrictMode=function(e){return k(e)===o},t.isSuspense=function(e){return k(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===s||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===b||e.$$typeof===w||e.$$typeof===y)},t.typeOf=k},309:function(e,t,n){"use strict";e.exports=n(746)},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),_=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),M=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var L,F=Object.assign;function B(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var z=!1;function V(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function j(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case x:return"Portal";case T:return"Profiler";case C:return"StrictMode";case A:return"Suspense";case D:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case _:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case M:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function U(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function Q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=Q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function H(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){J(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&H(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Se=null,Ce=null;function Te(e){if(e=bi(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=ki(t),xe(e.stateNode,e.type,t))}}function Ee(e){Se?Ce?Ce.push(e):Ce=[e]:Se=e}function _e(){if(Se){var e=Se,t=Ce;if(Ce=Se=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function Ie(e,t){return e(t)}function Ae(){}var De=!1;function Ne(e,t,n){if(De)return e(t,n);De=!0;try{return Ie(e,t,n)}finally{De=!1,(null!==Se||null!==Ce)&&(Ae(),_e())}}function Me(e,t){var n=e.stateNode;if(null===n)return null;var r=ki(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Pe=!1;if(l)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(le){Pe=!1}function Re(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Le=!1,Fe=null,Be=!1,ze=null,Ve={onError:function(e){Le=!0,Fe=e}};function je(e,t,n,r,i,a,o,s,u){Le=!1,Fe=null,Re.apply(Ve,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ue(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(qe(e)!==e)throw Error(a(188))}function Qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,He=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,$e=i.unstable_requestPaint,Je=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ft(s):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var kt,xt,St,Ct,Tt,Et=!1,_t=[],It=null,At=null,Dt=null,Nt=new Map,Mt=new Map,Pt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Dt=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mt.delete(t.pointerId)}}function Lt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ue(n)))return e.blockedOn=t,void Tt(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function zt(e,t,n){Bt(e)&&n.delete(t)}function Vt(){Et=!1,null!==It&&Bt(It)&&(It=null),null!==At&&Bt(At)&&(At=null),null!==Dt&&Bt(Dt)&&(Dt=null),Nt.forEach(zt),Mt.forEach(zt)}function jt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function qt(e){function t(t){return jt(t,e)}if(0<_t.length){jt(_t[0],e);for(var n=1;n<_t.length;n++){var r=_t[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&jt(It,e),null!==At&&jt(At,e),null!==Dt&&jt(Dt,e),Nt.forEach(t),Mt.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Pt.shift()}var Ut=w.ReactCurrentBatchConfig,Wt=!0;function Qt(e,t,n,r){var i=bt,a=Ut.transition;Ut.transition=null;try{bt=1,Kt(e,t,n,r)}finally{bt=i,Ut.transition=a}}function Gt(e,t,n,r){var i=bt,a=Ut.transition;Ut.transition=null;try{bt=4,Kt(e,t,n,r)}finally{bt=i,Ut.transition=a}}function Kt(e,t,n,r){if(Wt){var i=Yt(e,t,n,r);if(null===i)Wr(e,t,r,Ht,n),Rt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Lt(It,e,t,n,r,i),!0;case"dragenter":return At=Lt(At,e,t,n,r,i),!0;case"mouseover":return Dt=Lt(Dt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Nt.set(a,Lt(Nt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Mt.set(a,Lt(Mt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Rt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&kt(a),null===(a=Yt(e,t,n,r))&&Wr(e,t,r,Ht,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Ht=null;function Yt(e,t,n,r){if(Ht=null,null!==(e=gi(e=ke(r))))if(null===(t=qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ue(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ht=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),mn=an(F({},fn,{relatedTarget:0})),yn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(gn),wn=an(F({},cn,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Tn(){return Cn}var En=F({},fn,{key:function(e){if(e.key){var t=kn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),_n=an(En),In=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),Dn=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mn=an(Nn),Pn=[9,13,27,32],On=l&&"CompositionEvent"in window,Rn=null;l&&"documentMode"in document&&(Rn=document.documentMode);var Ln=l&&"TextEvent"in window&&!Rn,Fn=l&&(!On||Rn&&8<Rn&&11>=Rn),Bn=String.fromCharCode(32),zn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var Un={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Un[e.type]:"textarea"===t}function Qn(e,t,n,r){Ee(r),0<(t=Gr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Kn=null;function Hn(e){Br(e,0)}function Yn(e){if(K(wi(e)))return e}function $n(e,t){if("change"===e)return t}var Jn=!1;if(l){var Xn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Jn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Kn=Gn=null)}function nr(e){if("value"===e.propertyName&&Yn(Kn)){var t=[];Qn(t,Kn,e,ke(e)),Ne(Hn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Kn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=H();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=H((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==H(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&ur(gr,r)||(gr=r,0<(r=Gr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function kr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionend:kr("Transition","TransitionEnd")},Sr={},Cr={};function Tr(e){if(Sr[e])return Sr[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Cr)return Sr[e]=n[t];return e}l&&(Cr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Er=Tr("animationend"),_r=Tr("animationiteration"),Ir=Tr("animationstart"),Ar=Tr("transitionend"),Dr=new Map,Nr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mr(e,t){Dr.set(e,t),u(t,[e])}for(var Pr=0;Pr<Nr.length;Pr++){var Or=Nr[Pr];Mr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Mr(Er,"onAnimationEnd"),Mr(_r,"onAnimationIteration"),Mr(Ir,"onAnimationStart"),Mr("dblclick","onDoubleClick"),Mr("focusin","onFocus"),Mr("focusout","onBlur"),Mr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(je.apply(this,arguments),Le){if(!Le)throw Error(a(198));var l=Fe;Le=!1,Fe=null,Be||(Be=!0,ze=l)}}(r,t,void 0,e),e.currentTarget=null}function Br(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Fr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Fr(i,s,c),a=u}}}if(Be)throw e=ze,Be=!1,ze=null,e}function zr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(Ur(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),Ur(n,e,r,t)}var jr="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[jr]){e[jr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[jr]||(t[jr]=!0,Vr("selectionchange",!1,t))}}function Ur(e,t,n,r){switch($t(t)){case 1:var i=Qt;break;case 4:i=Gt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=gi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Ne((function(){var r=a,i=ke(n),o=[];e:{var s=Dr.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=_n;break;case"focusin":c="focus",u=mn;break;case"focusout":c="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=An;break;case Er:case _r:case Ir:u=yn;break;case Ar:u=Dn;break;case"scroll":u=hn;break;case"wheel":u=Mn;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=In}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Me(p,h))&&l.push(Qr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=In,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:wi(u),d=null==c?s:wi(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Kr(d))p++;for(d=0,v=h;v;v=Kr(v))d++;for(;0<p-d;)l=Kr(l),p--;for(;0<d-p;)h=Kr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Kr(l),h=Kr(h)}l=null}else l=null;null!==u&&Hr(o,s,u,l,!1),null!==c&&null!==f&&Hr(o,f,c,l,!0)}if("select"===(u=(s=r?wi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=$n;else if(Wn(s))if(Jn)m=or;else{m=ir;var y=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Qn(o,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?wi(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":wr(o,n,i)}var g;if(On)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else qn?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(qn||"onCompositionStart"!==b?"onCompositionEnd"===b&&qn&&(g=en()):(Xt="value"in(Jt=i)?Jt.value:Jt.textContent,qn=!0)),0<(y=Gr(r,b)).length&&(b=new wn(b,e,null,n,i),o.push({event:b,listeners:y}),g?b.data=g:null!==(g=jn(n))&&(b.data=g))),(g=Ln?function(e,t){switch(e){case"compositionend":return jn(t);case"keypress":return 32!==t.which?null:(zn=!0,Bn);case"textInput":return(e=t.data)===Bn&&zn?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!On&&Vn(e,t)?(e=en(),Zt=Xt=Jt=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Br(o,t)}))}function Qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Me(e,n))&&r.unshift(Qr(e,a,i)),null!=(a=Me(e,t))&&r.push(Qr(e,a,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Hr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Me(n,a))&&o.unshift(Qr(n,u,s)):i||null!=(u=Me(n,a))&&o.push(Qr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace($r,"")}function Xr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void qt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);qt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function ki(e){return e[di]||null}var xi=[],Si=-1;function Ci(e){return{current:e}}function Ti(e){0>Si||(e.current=xi[Si],xi[Si]=null,Si--)}function Ei(e,t){Si++,xi[Si]=e.current,e.current=t}var _i={},Ii=Ci(_i),Ai=Ci(!1),Di=_i;function Ni(e,t){var n=e.type.contextTypes;if(!n)return _i;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Mi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){Ti(Ai),Ti(Ii)}function Oi(e,t,n){if(Ii.current!==_i)throw Error(a(168));Ei(Ii,t),Ei(Ai,n)}function Ri(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,U(e)||"Unknown",i));return F({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_i,Di=Ii.current,Ei(Ii,e),Ei(Ai,Ai.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Ri(e,t,Di),r.__reactInternalMemoizedMergedChildContext=e,Ti(Ai),Ti(Ii),Ei(Ii,e)):Ti(Ai),Ei(Ai,n)}var Bi=null,zi=!1,Vi=!1;function ji(e){null===Bi?Bi=[e]:Bi.push(e)}function qi(){if(!Vi&&null!==Bi){Vi=!0;var e=0,t=bt;try{var n=Bi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Bi=null,zi=!1}catch(i){throw null!==Bi&&(Bi=Bi.slice(e+1)),Ke(Ze,qi),i}finally{bt=t,Vi=!1}}return null}var Ui=[],Wi=0,Qi=null,Gi=0,Ki=[],Hi=0,Yi=null,$i=1,Ji="";function Xi(e,t){Ui[Wi++]=Gi,Ui[Wi++]=Qi,Qi=e,Gi=t}function Zi(e,t,n){Ki[Hi++]=$i,Ki[Hi++]=Ji,Ki[Hi++]=Yi,Yi=e;var r=$i;e=Ji;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$i=1<<32-ot(t)+i|n<<i|r,Ji=a+e}else $i=1<<a|n<<i|r,Ji=e}function ea(e){null!==e.return&&(Xi(e,1),Zi(e,1,0))}function ta(e){for(;e===Qi;)Qi=Ui[--Wi],Ui[Wi]=null,Gi=Ui[--Wi],Ui[Wi]=null;for(;e===Yi;)Yi=Ki[--Hi],Ki[Hi]=null,Ji=Ki[--Hi],Ki[Hi]=null,$i=Ki[--Hi],Ki[Hi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Mc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:$i,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Mc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=w.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Ci(null),ga=null,ba=null,wa=null;function ka(){wa=ba=ga=null}function xa(e){var t=ya.current;Ti(ya),e._currentValue=t}function Sa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ca(e,t){ga=e,wa=ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ws=!0),e.firstContext=null)}function Ta(e){var t=e._currentValue;if(wa!==e)if(e={context:e,memoizedValue:t,next:null},null===ba){if(null===ga)throw Error(a(308));ba=e,ga.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var Ea=null;function _a(e){null===Ea?Ea=[e]:Ea.push(e)}function Ia(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,_a(t)):(n.next=i.next,i.next=n),t.interleaved=n,Aa(e,r)}function Aa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Da=!1;function Na(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ma(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Oa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Au)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Aa(e,n)}return null===(i=r.interleaved)?(t.next=t,_a(r)):(t.next=i.next,i.next=t),r.interleaved=t,Aa(e,n)}function Ra(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function La(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Da=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===o?a=c:o.next=c,o=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==a){var f=i.baseState;for(o=0,l=c=u=null,s=a;;){var h=s.lane,d=s.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Da=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=d,u=f):l=l.next=d,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Fu|=o,e.lanes=o,e.memoizedState=f}}function Ba(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var za=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ja={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Pa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(rc(t,e,i,r),Ra(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Pa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(rc(t,e,i,r),Ra(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Pa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Oa(e,i,r))&&(rc(t,e,r,n),Ra(t,e,r))}};function qa(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function Ua(e,t,n){var r=!1,i=_i,a=t.contextType;return"object"===typeof a&&null!==a?a=Ta(a):(i=Mi(t)?Di:Ii.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ni(e,i):_i),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ja,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ja.enqueueReplaceState(t,t.state,null)}function Qa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=za,Na(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ta(a):(a=Mi(t)?Di:Ii.current,i.context=Ni(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ja.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ga(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===za&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ka(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ha(e){return(0,e._init)(e._payload)}function Ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Bc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===S?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===M&&Ha(a)===t.type)?((r=i(t,n.props)).ref=Ga(e,t,n),r.return=e,r):((r=Rc(n.type,n.key,n.props,null,e.mode,r)).ref=Ga(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=zc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Bc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case k:return(n=Rc(t.type,t.key,t.props,null,e.mode,n)).ref=Ga(e,null,t),n.return=e,n;case x:return(t=zc(t,e.mode,n)).return=e,t;case M:return h(e,(0,t._init)(t._payload),n)}if(te(t)||R(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Ka(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case k:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case M:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||R(n))return null!==i?null:f(e,t,n,r,null);Ka(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case k:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case M:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||R(r))return f(t,e=e.get(n)||null,r,i,null);Ka(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,s[v],u);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===s.length)return n(i,f),ia&&Xi(i,v),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Xi(i,v),c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Xi(i,v),c}function m(i,s,u,c){var l=R(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var b=d(i,v,g.value,c);if(null===b){null===v&&(v=y);break}e&&v&&null===b.alternate&&t(i,v),s=o(b,s,m),null===f?l=b:f.sibling=b,f=b,v=y}if(g.done)return n(i,v),ia&&Xi(i,m),l;if(null===v){for(;!g.done;m++,g=u.next())null!==(g=h(i,g.value,c))&&(s=o(g,s,m),null===f?l=g:f.sibling=g,f=g);return ia&&Xi(i,m),l}for(v=r(i,v);!g.done;m++,g=u.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=o(g,s,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Xi(i,m),l}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===S&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case k:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===S){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===M&&Ha(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ga(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===S?((a=Lc(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Rc(o.type,o.key,o.props,null,r.mode,u)).ref=Ga(r,a,o),u.return=r,r=u)}return s(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=zc(o,r.mode,u)).return=r,r=a}return s(r);case M:return e(r,a,(l=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(R(o))return m(r,a,o,u);Ka(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Bc(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var $a=Ya(!0),Ja=Ya(!1),Xa={},Za=Ci(Xa),eo=Ci(Xa),to=Ci(Xa);function no(e){if(e===Xa)throw Error(a(174));return e}function ro(e,t){switch(Ei(to,t),Ei(eo,e),Ei(Za,Xa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ti(Za),Ei(Za,t)}function io(){Ti(Za),Ti(eo),Ti(to)}function ao(e){no(to.current);var t=no(Za.current),n=ue(t,e.type);t!==n&&(Ei(eo,e),Ei(Za,n))}function oo(e){eo.current===e&&(Ti(Za),Ti(eo))}var so=Ci(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=w.ReactCurrentDispatcher,ho=w.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,bo=!1,wo=0,ko=0;function xo(){throw Error(a(321))}function So(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Co(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),bo){o=0;do{if(bo=!1,wo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cs,e=n(r,i)}while(bo)}if(fo.current=os,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function To(){var e=0!==wo;return wo=0,e}function Eo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function _o(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Io(e,t){return"function"===typeof t?t(e):t}function Ao(e){var t=_o(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=h,s=r):c=c.next=h,vo.lanes|=f,Fu|=f}l=l.next}while(null!==l&&l!==o);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(ws=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Fu|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Do(e){var t=_o(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(ws=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function No(){}function Mo(e,t){var n=vo,r=_o(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,ws=!0),r=r.queue,Wo(Ro.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,zo(9,Oo.bind(null,n,r,i,t),void 0,null),null===Du)throw Error(a(349));0!==(30&po)||Po(n,t,i)}return i}function Po(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Oo(e,t,n,r){t.value=n,t.getSnapshot=r,Lo(t)&&Fo(e)}function Ro(e,t,n){return n((function(){Lo(t)&&Fo(e)}))}function Lo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Fo(e){var t=Aa(e,1);null!==t&&rc(t,e,1,-1)}function Bo(e){var t=Eo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function zo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return _o().memoizedState}function jo(e,t,n,r){var i=Eo();vo.flags|=e,i.memoizedState=zo(1|t,n,void 0,void 0===r?null:r)}function qo(e,t,n,r){var i=_o();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&So(r,o.deps))return void(i.memoizedState=zo(t,n,a,r))}vo.flags|=e,i.memoizedState=zo(1|t,n,a,r)}function Uo(e,t){return jo(8390656,8,e,t)}function Wo(e,t){return qo(2048,8,e,t)}function Qo(e,t){return qo(4,2,e,t)}function Go(e,t){return qo(4,4,e,t)}function Ko(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ho(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,qo(4,4,Ko.bind(null,t,e),n)}function Yo(){}function $o(e,t){var n=_o();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&So(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Jo(e,t){var n=_o();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&So(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,ws=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,Fu|=n,e.baseState=!0),t)}function Zo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{bt=n,ho.transition=r}}function es(){return _o().memoizedState}function ts(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Ia(e,t,n,r))){rc(n,e,r,tc()),as(n,t,r)}}function ns(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,_a(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ia(e,t,i,r))&&(rc(n,e,r,i=tc()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){bo=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var os={readContext:Ta,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},ss={readContext:Ta,useCallback:function(e,t){return Eo().memoizedState=[e,void 0===t?null:t],e},useContext:Ta,useEffect:Uo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,jo(4194308,4,Ko.bind(null,t,e),n)},useLayoutEffect:function(e,t){return jo(4194308,4,e,t)},useInsertionEffect:function(e,t){return jo(4,2,e,t)},useMemo:function(e,t){var n=Eo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Eo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Eo().memoizedState=e},useState:Bo,useDebugValue:Yo,useDeferredValue:function(e){return Eo().memoizedState=e},useTransition:function(){var e=Bo(!1),t=e[0];return e=Zo.bind(null,e[1]),Eo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Eo();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Du)throw Error(a(349));0!==(30&po)||Po(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Uo(Ro.bind(null,r,o,e),[e]),r.flags|=2048,zo(9,Oo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Eo(),t=Du.identifierPrefix;if(ia){var n=Ji;t=":"+t+"R"+(n=($i&~(1<<32-ot($i)-1)).toString(32)+n),0<(n=wo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ko++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Ta,useCallback:$o,useContext:Ta,useEffect:Wo,useImperativeHandle:Ho,useInsertionEffect:Qo,useLayoutEffect:Go,useMemo:Jo,useReducer:Ao,useRef:Vo,useState:function(){return Ao(Io)},useDebugValue:Yo,useDeferredValue:function(e){return Xo(_o(),mo.memoizedState,e)},useTransition:function(){return[Ao(Io)[0],_o().memoizedState]},useMutableSource:No,useSyncExternalStore:Mo,useId:es,unstable_isNewReconciler:!1},cs={readContext:Ta,useCallback:$o,useContext:Ta,useEffect:Wo,useImperativeHandle:Ho,useInsertionEffect:Qo,useLayoutEffect:Go,useMemo:Jo,useReducer:Do,useRef:Vo,useState:function(){return Do(Io)},useDebugValue:Yo,useDeferredValue:function(e){var t=_o();return null===mo?t.memoizedState=e:Xo(t,mo.memoizedState,e)},useTransition:function(){return[Do(Io)[0],_o().memoizedState]},useMutableSource:No,useSyncExternalStore:Mo,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=j(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Pa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Qu||(Qu=!0,Gu=r),hs(0,t)},n}function vs(e,t,n){(n=Pa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Ku?Ku=new Set([this]):Ku.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function ys(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Pa(-1,1)).tag=2,Oa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bs=w.ReactCurrentOwner,ws=!1;function ks(e,t,n,r){t.child=null===e?Ja(t,null,n,r):$a(t,e.child,n,r)}function xs(e,t,n,r,i){n=n.render;var a=t.ref;return Ca(t,i),r=Co(e,t,n,r,a,i),n=To(),null===e||ws?(ia&&n&&ea(t),t.flags|=1,ks(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Qs(e,t,i))}function Ss(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Pc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Cs(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Qs(e,t,i)}return t.flags|=1,(e=Oc(a,r)).ref=t.ref,e.return=t,t.child=e}function Cs(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(ws=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Qs(e,t,i);0!==(131072&e.flags)&&(ws=!0)}}return _s(e,t,n,r,i)}function Ts(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Ou,Pu),Pu|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Ou,Pu),Pu|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ei(Ou,Pu),Pu|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ei(Ou,Pu),Pu|=r;return ks(e,t,i,n),t.child}function Es(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function _s(e,t,n,r,i){var a=Mi(n)?Di:Ii.current;return a=Ni(t,a),Ca(t,i),n=Co(e,t,n,r,a,i),r=To(),null===e||ws?(ia&&r&&ea(t),t.flags|=1,ks(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Qs(e,t,i))}function Is(e,t,n,r,i){if(Mi(n)){var a=!0;Li(t)}else a=!1;if(Ca(t,i),null===t.stateNode)Ws(e,t),Ua(t,n,r),Qa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ta(c):c=Ni(t,c=Mi(n)?Di:Ii.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&Wa(t,o,r,c),Da=!1;var h=t.memoizedState;o.state=h,Fa(t,r,o,i),u=t.memoizedState,s!==r||h!==u||Ai.current||Da?("function"===typeof l&&(Va(t,n,l,r),u=t.memoizedState),(s=Da||qa(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ma(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ma(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Ta(u):u=Ni(t,u=Mi(n)?Di:Ii.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&Wa(t,o,r,u),Da=!1,h=t.memoizedState,o.state=h,Fa(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||Ai.current||Da?("function"===typeof d&&(Va(t,n,d,r),p=t.memoizedState),(c=Da||qa(t,n,c,r,h,p,u)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return As(e,t,n,r,a,i)}function As(e,t,n,r,i,a){Es(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Qs(e,t,a);r=t.stateNode,bs.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=$a(t,e.child,null,a),t.child=$a(t,null,s,a)):ks(e,t,s,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Ds(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),ro(e,t.containerInfo)}function Ns(e,t,n,r,i){return da(),pa(i),t.flags|=256,ks(e,t,n,r),t.child}var Ms,Ps,Os,Rs,Ls={dehydrated:null,treeContext:null,retryLane:0};function Fs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Bs(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ei(so,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Fc(u,i,0,null),e=Lc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Fs(n),t.memoizedState=Ls,e):zs(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Vs(e,t,s,r=fs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Fc({mode:"visible",children:r.children},i,0,null),(o=Lc(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&$a(t,e.child,null,s),t.child.memoizedState=Fs(s),t.memoizedState=Ls,o);if(0===(1&t.mode))return Vs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Vs(e,t,s,r=fs(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),ws||u){if(null!==(r=Du)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Aa(e,i),rc(r,e,i,-1))}return mc(),Vs(e,t,s,r=fs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Ic.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Ki[Hi++]=$i,Ki[Hi++]=Ji,Ki[Hi++]=Yi,$i=e.id,Ji=e.overflow,Yi=t),t=zs(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Oc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Oc(r,s):(s=Lc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Fs(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ls,i}return e=(s=e.child).sibling,i=Oc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function zs(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vs(e,t,n,r){return null!==r&&pa(r),$a(t,e.child,null,n),(e=zs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function js(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Sa(e.return,t,n)}function qs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Us(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ks(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&js(e,n,t);else if(19===e.tag)js(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),qs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}qs(t,!0,n,null,a);break;case"together":qs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ws(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Qs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Gs(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ks(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Hs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ks(t),null;case 1:case 17:return Mi(t.type)&&Pi(),Ks(t),null;case 3:return r=t.stateNode,io(),Ti(Ai),Ti(Ii),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(sc(aa),aa=null))),Ps(e,t),Ks(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Os(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ks(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(i=0;i<Rr.length;i++)zr(Rr[i],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":$(r,o),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},zr("invalid",r);break;case"textarea":ie(r,o),zr("invalid",r)}for(var u in ge(n,o),i=null,o)if(o.hasOwnProperty(u)){var c=o[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&zr("scroll",r)}switch(n){case"input":G(r),Z(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[hi]=t,e[di]=r,Ms(e,t,!1,!1),t.stateNode=e;e:{switch(u=be(n,r),n){case"dialog":zr("cancel",e),zr("close",e),i=r;break;case"iframe":case"object":case"embed":zr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Rr.length;i++)zr(Rr[i],e);i=r;break;case"source":zr("error",e),i=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),i=r;break;case"details":zr("toggle",e),i=r;break;case"input":$(e,r),i=Y(e,r),zr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),zr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),zr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=l&&"onScroll"===o&&zr("scroll",e):null!=l&&b(e,o,l,u))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ks(t),null;case 6:if(e&&null!=t.stateNode)Rs(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ks(t),null;case 13:if(Ti(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ks(t),o=!1}else null!==aa&&(sc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Ru&&(Ru=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ks(t),null);case 4:return io(),Ps(e,t),null===e&&qr(t.stateNode.containerInfo),Ks(t),null;case 10:return xa(t.type._context),Ks(t),null;case 19:if(Ti(so),null===(o=t.memoizedState))return Ks(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Gs(o,!1);else{if(0!==Ru||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Gs(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>Uu&&(t.flags|=128,r=!0,Gs(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Gs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Ks(t),null}else 2*Je()-o.renderingStartTime>Uu&&1073741824!==n&&(t.flags|=128,r=!0,Gs(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=so.current,Ei(so,r?1&n|2:1&n),t):(Ks(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pu)&&(Ks(t),6&t.subtreeFlags&&(t.flags|=8192)):Ks(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Ys(e,t){switch(ta(t),t.tag){case 1:return Mi(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ti(Ai),Ti(Ii),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ti(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ti(so),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Ms=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ps=function(){},Os=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&zr("scroll",e),o||u===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Rs=function(e,t,n,r){n!==r&&(t.flags|=4)};var $s=!1,Js=!1,Xs="function"===typeof WeakSet?WeakSet:Set,Zs=null;function eu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Tc(e,t,r)}else n.current=null}function tu(e,t,n){try{n()}catch(r){Tc(e,t,r)}}var nu=!1;function ru(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&tu(t,n,a)}i=i.next}while(i!==r)}}function iu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function au(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ou(e){var t=e.alternate;null!==t&&(e.alternate=null,ou(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function su(e){return 5===e.tag||3===e.tag||4===e.tag}function uu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||su(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}var fu=null,hu=!1;function du(e,t,n){for(n=n.child;null!==n;)pu(e,t,n),n=n.sibling}function pu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Js||eu(n,t);case 6:var r=fu,i=hu;fu=null,du(e,t,n),hu=i,null!==(fu=r)&&(hu?(e=fu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fu.removeChild(n.stateNode));break;case 18:null!==fu&&(hu?(e=fu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),qt(e)):ui(fu,n.stateNode));break;case 4:r=fu,i=hu,fu=n.stateNode.containerInfo,hu=!0,du(e,t,n),fu=r,hu=i;break;case 0:case 11:case 14:case 15:if(!Js&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&tu(n,t,o),i=i.next}while(i!==r)}du(e,t,n);break;case 1:if(!Js&&(eu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Tc(n,t,s)}du(e,t,n);break;case 21:du(e,t,n);break;case 22:1&n.mode?(Js=(r=Js)||null!==n.memoizedState,du(e,t,n),Js=r):du(e,t,n);break;default:du(e,t,n)}}function vu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xs),t.forEach((function(t){var r=Ac.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function mu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:fu=u.stateNode,hu=!1;break e;case 3:case 4:fu=u.stateNode.containerInfo,hu=!0;break e}u=u.return}if(null===fu)throw Error(a(160));pu(o,s,i),fu=null,hu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Tc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yu(t,e),t=t.sibling}function yu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mu(t,e),gu(e),4&r){try{ru(3,e,e.return),iu(3,e)}catch(m){Tc(e,e.return,m)}try{ru(5,e,e.return)}catch(m){Tc(e,e.return,m)}}break;case 1:mu(t,e),gu(e),512&r&&null!==n&&eu(n,n.return);break;case 5:if(mu(t,e),gu(e),512&r&&null!==n&&eu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Tc(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===o.type&&null!=o.name&&J(i,o),be(u,s);var l=be(u,o);for(s=0;s<c.length;s+=2){var f=c[s],h=c[s+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):b(i,f,h,l)}switch(u){case"input":X(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Tc(e,e.return,m)}}break;case 6:if(mu(t,e),gu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Tc(e,e.return,m)}}break;case 3:if(mu(t,e),gu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(m){Tc(e,e.return,m)}break;case 4:default:mu(t,e),gu(e);break;case 13:mu(t,e),gu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(qu=Je())),4&r&&vu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Js=(l=Js)||f,mu(t,e),Js=l):mu(t,e),gu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Zs=e,f=e.child;null!==f;){for(h=Zs=f;null!==Zs;){switch(p=(d=Zs).child,d.tag){case 0:case 11:case 14:case 15:ru(4,d,d.return);break;case 1:eu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Tc(r,n,m)}}break;case 5:eu(d,d.return);break;case 22:if(null!==d.memoizedState){xu(h);continue}}null!==p?(p.return=d,Zs=p):xu(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ve("display",s))}catch(m){Tc(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Tc(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:mu(t,e),gu(e),4&r&&vu(e);case 21:}}function gu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(su(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),lu(e,uu(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cu(e,uu(e),o);break;default:throw Error(a(161))}}catch(s){Tc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bu(e,t,n){Zs=e,wu(e,t,n)}function wu(e,t,n){for(var r=0!==(1&e.mode);null!==Zs;){var i=Zs,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||$s;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Js;s=$s;var c=Js;if($s=o,(Js=u)&&!c)for(Zs=i;null!==Zs;)u=(o=Zs).child,22===o.tag&&null!==o.memoizedState?Su(i):null!==u?(u.return=o,Zs=u):Su(i);for(;null!==a;)Zs=a,wu(a,t,n),a=a.sibling;Zs=i,$s=s,Js=c}ku(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Zs=a):ku(e)}}function ku(e){for(;null!==Zs;){var t=Zs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Js||iu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Js)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Ba(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ba(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&qt(h)}}}break;default:throw Error(a(163))}Js||512&t.flags&&au(t)}catch(d){Tc(t,t.return,d)}}if(t===e){Zs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zs=n;break}Zs=t.return}}function xu(e){for(;null!==Zs;){var t=Zs;if(t===e){Zs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zs=n;break}Zs=t.return}}function Su(e){for(;null!==Zs;){var t=Zs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{iu(4,t)}catch(u){Tc(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Tc(t,i,u)}}var a=t.return;try{au(t)}catch(u){Tc(t,a,u)}break;case 5:var o=t.return;try{au(t)}catch(u){Tc(t,o,u)}}}catch(u){Tc(t,t.return,u)}if(t===e){Zs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Zs=s;break}Zs=t.return}}var Cu,Tu=Math.ceil,Eu=w.ReactCurrentDispatcher,_u=w.ReactCurrentOwner,Iu=w.ReactCurrentBatchConfig,Au=0,Du=null,Nu=null,Mu=0,Pu=0,Ou=Ci(0),Ru=0,Lu=null,Fu=0,Bu=0,zu=0,Vu=null,ju=null,qu=0,Uu=1/0,Wu=null,Qu=!1,Gu=null,Ku=null,Hu=!1,Yu=null,$u=0,Ju=0,Xu=null,Zu=-1,ec=0;function tc(){return 0!==(6&Au)?Je():-1!==Zu?Zu:Zu=Je()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Au)&&0!==Mu?Mu&-Mu:null!==va.transition?(0===ec&&(ec=vt()),ec):0!==(e=bt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function rc(e,t,n,r){if(50<Ju)throw Ju=0,Xu=null,Error(a(185));yt(e,n,r),0!==(2&Au)&&e===Du||(e===Du&&(0===(2&Au)&&(Bu|=n),4===Ru&&uc(e,Mu)),ic(e,r),1===n&&0===Au&&0===(1&t.mode)&&(Uu=Je()+500,zi&&qi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===Du?Mu:0);if(0===r)null!==n&&He(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&He(n),1===t)0===e.tag?function(e){zi=!0,ji(e)}(cc.bind(null,e)):ji(cc.bind(null,e)),oi((function(){0===(6&Au)&&qi()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Dc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Zu=-1,ec=0,0!==(6&Au))throw Error(a(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var r=ht(e,e===Du?Mu:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=Au;Au|=2;var o=vc();for(Du===e&&Mu===t||(Wu=null,Uu=Je()+500,dc(e,t));;)try{bc();break}catch(u){pc(e,u)}ka(),Eu.current=o,Au=i,null!==Nu?t=0:(Du=null,Mu=0,t=Ru)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Lu,dc(e,0),uc(e,r),ic(e,Je()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Lu,dc(e,0),uc(e,r),ic(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:xc(e,ju,Wu);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=qu+500-Je())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xc.bind(null,e,ju,Wu),t);break}xc(e,ju,Wu);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Tu(r/1960))-r)){e.timeoutHandle=ri(xc.bind(null,e,ju,Wu),r);break}xc(e,ju,Wu);break;default:throw Error(a(329))}}}return ic(e,Je()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=Vu;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=ju,ju=n,null!==t&&sc(t)),e}function sc(e){null===ju?ju=e:ju.push.apply(ju,e)}function uc(e,t){for(t&=~zu,t&=~Bu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Au))throw Error(a(327));Sc();var t=ht(e,0);if(0===(1&t))return ic(e,Je()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Lu,dc(e,0),uc(e,t),ic(e,Je()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,ju,Wu),ic(e,Je()),null}function lc(e,t){var n=Au;Au|=1;try{return e(t)}finally{0===(Au=n)&&(Uu=Je()+500,zi&&qi())}}function fc(e){null!==Yu&&0===Yu.tag&&0===(6&Au)&&Sc();var t=Au;Au|=1;var n=Iu.transition,r=bt;try{if(Iu.transition=null,bt=1,e)return e()}finally{bt=r,Iu.transition=n,0===(6&(Au=t))&&qi()}}function hc(){Pu=Ou.current,Ti(Ou)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Nu)for(n=Nu.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:io(),Ti(Ai),Ti(Ii),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ti(so);break;case 10:xa(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Du=e,Nu=e=Oc(e.current,null),Mu=Pu=t,Ru=0,Lu=null,zu=Bu=Fu=0,ju=Vu=null,null!==Ea){for(t=0;t<Ea.length;t++)if(null!==(r=(n=Ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ea=null}return e}function pc(e,t){for(;;){var n=Nu;try{if(ka(),fo.current=os,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,bo=!1,wo=0,_u.current=null,null===n||null===n.return){Ru=1,Lu=t,Nu=null;break}e:{var o=e,s=n.return,u=n,c=t;if(t=Mu,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=u,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=ys(s);if(null!==p){p.flags&=-257,gs(p,s,u,0,t),1&p.mode&&ms(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){ms(o,l,t),mc();break e}c=Error(a(426))}else if(ia&&1&u.mode){var y=ys(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gs(y,s,u,0,t),pa(ls(c,u));break e}}o=c=ls(c,u),4!==Ru&&(Ru=2),null===Vu?Vu=[o]:Vu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,La(o,ps(0,c,t));break e;case 1:u=c;var g=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Ku||!Ku.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,La(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}kc(n)}catch(w){t=w,Nu===n&&null!==n&&(Nu=n=n.return);continue}break}}function vc(){var e=Eu.current;return Eu.current=os,null===e?os:e}function mc(){0!==Ru&&3!==Ru&&2!==Ru||(Ru=4),null===Du||0===(268435455&Fu)&&0===(268435455&Bu)||uc(Du,Mu)}function yc(e,t){var n=Au;Au|=2;var r=vc();for(Du===e&&Mu===t||(Wu=null,dc(e,t));;)try{gc();break}catch(i){pc(e,i)}if(ka(),Au=n,Eu.current=r,null!==Nu)throw Error(a(261));return Du=null,Mu=0,Ru}function gc(){for(;null!==Nu;)wc(Nu)}function bc(){for(;null!==Nu&&!Ye();)wc(Nu)}function wc(e){var t=Cu(e.alternate,e,Pu);e.memoizedProps=e.pendingProps,null===t?kc(e):Nu=t,_u.current=null}function kc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Hs(n,t,Pu)))return void(Nu=n)}else{if(null!==(n=Ys(n,t)))return n.flags&=32767,void(Nu=n);if(null===e)return Ru=6,void(Nu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Nu=t);Nu=t=e}while(null!==t);0===Ru&&(Ru=5)}function xc(e,t,n){var r=bt,i=Iu.transition;try{Iu.transition=null,bt=1,function(e,t,n,r){do{Sc()}while(null!==Yu);if(0!==(6&Au))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Du&&(Nu=Du=null,Mu=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Hu||(Hu=!0,Dc(tt,(function(){return Sc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Iu.transition,Iu.transition=null;var s=bt;bt=1;var u=Au;Au|=4,_u.current=null,function(e,t){if(ei=Wt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(k){n=null;break e}var s=0,u=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(u=s+i),h!==o||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(u=s),d===o&&++f===r&&(c=s),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Zs=t;null!==Zs;)if(e=(t=Zs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zs=e;else for(;null!==Zs;){t=Zs;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(a(163))}}catch(k){Tc(t,t.return,k)}if(null!==(e=t.sibling)){e.return=t.return,Zs=e;break}Zs=t.return}v=nu,nu=!1}(e,n),yu(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,bu(n,e,i),$e(),Au=u,bt=s,Iu.transition=o}else e.current=n;if(Hu&&(Hu=!1,Yu=e,$u=i),o=e.pendingLanes,0===o&&(Ku=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Qu)throw Qu=!1,e=Gu,Gu=null,e;0!==(1&$u)&&0!==e.tag&&Sc(),o=e.pendingLanes,0!==(1&o)?e===Xu?Ju++:(Ju=0,Xu=e):Ju=0,qi()}(e,t,n,r)}finally{Iu.transition=i,bt=r}return null}function Sc(){if(null!==Yu){var e=wt($u),t=Iu.transition,n=bt;try{if(Iu.transition=null,bt=16>e?16:e,null===Yu)var r=!1;else{if(e=Yu,Yu=null,$u=0,0!==(6&Au))throw Error(a(331));var i=Au;for(Au|=4,Zs=e.current;null!==Zs;){var o=Zs,s=o.child;if(0!==(16&Zs.flags)){var u=o.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Zs=l;null!==Zs;){var f=Zs;switch(f.tag){case 0:case 11:case 15:ru(8,f,o)}var h=f.child;if(null!==h)h.return=f,Zs=h;else for(;null!==Zs;){var d=(f=Zs).sibling,p=f.return;if(ou(f),f===l){Zs=null;break}if(null!==d){d.return=p,Zs=d;break}Zs=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Zs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Zs=s;else e:for(;null!==Zs;){if(0!==(2048&(o=Zs).flags))switch(o.tag){case 0:case 11:case 15:ru(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Zs=g;break e}Zs=o.return}}var b=e.current;for(Zs=b;null!==Zs;){var w=(s=Zs).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,Zs=w;else e:for(s=b;null!==Zs;){if(0!==(2048&(u=Zs).flags))try{switch(u.tag){case 0:case 11:case 15:iu(9,u)}}catch(x){Tc(u,u.return,x)}if(u===s){Zs=null;break e}var k=u.sibling;if(null!==k){k.return=u.return,Zs=k;break e}Zs=u.return}}if(Au=i,qi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{bt=n,Iu.transition=t}}return!1}function Cc(e,t,n){e=Oa(e,t=ps(0,t=ls(n,t),1),1),t=tc(),null!==e&&(yt(e,1,t),ic(e,t))}function Tc(e,t,n){if(3===e.tag)Cc(e,e,n);else for(;null!==t;){if(3===t.tag){Cc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ku||!Ku.has(r))){t=Oa(t,e=vs(t,e=ls(n,e),1),1),e=tc(),null!==t&&(yt(t,1,e),ic(t,e));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Du===e&&(Mu&n)===n&&(4===Ru||3===Ru&&(130023424&Mu)===Mu&&500>Je()-qu?dc(e,0):zu|=n),ic(e,t)}function _c(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Aa(e,t))&&(yt(e,t,n),ic(e,n))}function Ic(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),_c(e,n)}function Ac(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),_c(e,n)}function Dc(e,t){return Ke(e,t)}function Nc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mc(e,t,n,r){return new Nc(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Mc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Pc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Lc(n.children,i,o,t);case C:s=8,i|=8;break;case T:return(e=Mc(12,n,t,2|i)).elementType=T,e.lanes=o,e;case A:return(e=Mc(13,n,t,i)).elementType=A,e.lanes=o,e;case D:return(e=Mc(19,n,t,i)).elementType=D,e.lanes=o,e;case P:return Fc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:s=10;break e;case _:s=9;break e;case I:s=11;break e;case N:s=14;break e;case M:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Mc(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lc(e,t,n,r){return(e=Mc(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=Mc(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Bc(e,t,n){return(e=Mc(6,e,null,t)).lanes=n,e}function zc(e,t,n){return(t=Mc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function jc(e,t,n,r,i,a,o,s,u){return e=new Vc(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Mc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Na(a),e}function qc(e){if(!e)return _i;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Mi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Mi(n))return Ri(e,n,t)}return t}function Uc(e,t,n,r,i,a,o,s,u){return(e=jc(n,r,!0,e,0,a,0,s,u)).context=qc(null),n=e.current,(a=Pa(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Oa(n,a,i),e.current.lanes=i,yt(e,i,r),ic(e,r),e}function Wc(e,t,n,r){var i=t.current,a=tc(),o=nc(i);return n=qc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Pa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Oa(i,t,o))&&(rc(e,i,o,a),Ra(e,i,o)),o}function Qc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}Cu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)ws=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ws=!1,function(e,t,n){switch(t.tag){case 3:Ds(t),da();break;case 5:ao(t);break;case 1:Mi(t.type)&&Li(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Bs(e,t,n):(Ei(so,1&so.current),null!==(e=Qs(e,t,n))?e.sibling:null);Ei(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Us(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Ts(e,t,n)}return Qs(e,t,n)}(e,t,n);ws=0!==(131072&e.flags)}else ws=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ws(e,t),e=t.pendingProps;var i=Ni(t,Ii.current);Ca(t,n),i=Co(null,t,r,e,i,n);var o=To();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Mi(r)?(o=!0,Li(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Na(t),i.updater=ja,t.stateNode=i,i._reactInternals=t,Qa(t,r,e,n),t=As(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),ks(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ws(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===N)return 14}return 2}(r),e=ma(r,e),i){case 0:t=_s(null,t,r,e,n);break e;case 1:t=Is(null,t,r,e,n);break e;case 11:t=xs(null,t,r,e,n);break e;case 14:t=Ss(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,_s(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Is(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Ds(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ma(e,t),Fa(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ns(e,t,r,n,i=ls(Error(a(423)),t));break e}if(r!==i){t=Ns(e,t,r,n,i=ls(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ja(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Qs(e,t,n);break e}ks(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Es(e,t),ks(e,t,s,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Bs(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$a(t,null,r,n):ks(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return ks(e,t,t.pendingProps,n),t.child;case 8:case 12:return ks(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ei(ya,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ai.current){t=Qs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Pa(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Sa(o.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Sa(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ks(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ca(t,n),r=r(i=Ta(i)),t.flags|=1,ks(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),Ss(e,t,r,i=ma(r.type,i),n);case 15:return Cs(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Ws(e,t),t.tag=1,Mi(r)?(e=!0,Li(t)):e=!1,Ca(t,n),Ua(t,r,i),Qa(t,r,i,n),As(null,t,r,!0,e,n);case 19:return Us(e,t,n);case 22:return Ts(e,t,n)}throw Error(a(156,t.tag))};var Hc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Qc(o);s.call(e)}}Wc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Qc(o);a.call(e)}}var o=Uc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,qr(8===e.nodeType?e.parentNode:e),fc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Qc(u);s.call(e)}}var u=jc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=u,e[pi]=u.current,qr(8===e.nodeType?e.parentNode:e),fc((function(){Wc(t,u,n,r)})),u}(n,t,e,i,r);return Qc(o)}$c.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wc(e,t,null,null)},$c.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fc((function(){Wc(null,e,null,null)})),t[pi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ct();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Ft(e)}},kt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),ic(t,Je()),0===(6&Au)&&(Uu=Je()+500,qi()))}break;case 13:fc((function(){var t=Aa(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Kc(e,1)}},xt=function(e){if(13===e.tag){var t=Aa(e,134217728);if(null!==t)rc(t,e,134217728,tc());Kc(e,134217728)}},St=function(e){if(13===e.tag){var t=nc(e),n=Aa(e,t);if(null!==n)rc(n,e,t,tc());Kc(e,t)}},Ct=function(){return bt},Tt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},xe=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ki(r);if(!i)throw Error(a(90));K(r),X(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=lc,Ae=fc;var tl={usingClientEntryPoint:!1,Events:[bi,wi,ki,Ee,_e,lc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Qe(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(a(299));var n=!1,r="",i=Hc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=jc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,qr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Qe(t))?null:e.stateNode},t.flushSync=function(e){return fc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Hc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Uc(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,qr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(a(40));return!!e._reactRootContainer&&(fc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},372:function(e,t){"use strict";var n=60103,r=60106,i=60107,a=60108,o=60114,s=60109,u=60110,c=60112,l=60113,f=60120,h=60115,d=60116,p=60121,v=60122,m=60117,y=60129,g=60131;if("function"===typeof Symbol&&Symbol.for){var b=Symbol.for;n=b("react.element"),r=b("react.portal"),i=b("react.fragment"),a=b("react.strict_mode"),o=b("react.profiler"),s=b("react.provider"),u=b("react.context"),c=b("react.forward_ref"),l=b("react.suspense"),f=b("react.suspense_list"),h=b("react.memo"),d=b("react.lazy"),p=b("react.block"),v=b("react.server.block"),m=b("react.fundamental"),y=b("react.debug_trace_mode"),g=b("react.legacy_hidden")}function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case a:case l:case f:return e;default:switch(e=e&&e.$$typeof){case u:case c:case d:case h:case s:return e;default:return t}}case r:return t}}}t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===o||e===y||e===a||e===l||e===f||e===g||"object"===typeof e&&null!==e&&(e.$$typeof===d||e.$$typeof===h||e.$$typeof===s||e.$$typeof===u||e.$$typeof===c||e.$$typeof===m||e.$$typeof===p||e[0]===v)},t.typeOf=w},441:function(e,t,n){"use strict";e.exports=n(372)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var w=b.prototype=new g;w.constructor=b,v(w,y.prototype),w.isPureReactComponent=!0;var k=Array.isArray,x=Object.prototype.hasOwnProperty,S={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!C.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:S.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var _=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+I(u,0):a,k(o)?(i="",null!=e&&(i=e.replace(_,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(_,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",k(e))for(var c=0;c<e.length;c++){var l=a+I(s=e[c],c);u+=A(s,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=A(s=s.value,t,i,l=a+I(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function D(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var M={current:null},P={transition:null},O={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:P,ReactCurrentOwner:S};t.Children={map:D,forEach:function(e,t,n){D(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return D(e,(function(){t++})),t},toArray:function(e){return D(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=S.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)x.call(t,c)&&!C.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return M.current.useCallback(e,t)},t.useContext=function(e){return M.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return M.current.useDeferredValue(e)},t.useEffect=function(e,t){return M.current.useEffect(e,t)},t.useId=function(){return M.current.useId()},t.useImperativeHandle=function(e,t,n){return M.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return M.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return M.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return M.current.useMemo(e,t)},t.useReducer=function(e,t,n){return M.current.useReducer(e,t,n)},t.useRef=function(e){return M.current.useRef(e)},t.useState=function(e){return M.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return M.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return M.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>a(u,n))c<i&&0>a(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function k(e){if(m=!1,w(e),!v)if(null!==r(c))v=!0,P(x);else{var t=r(l);null!==t&&O(k,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(E),E=-1),p=!0;var a=d;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!A());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),w(n)}else i(c);h=r(c)}if(null!==h)var u=!0;else{var f=r(l);null!==f&&O(k,f.startTime-n),u=!1}return u}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,C=!1,T=null,E=-1,_=5,I=-1;function A(){return!(t.unstable_now()-I<_)}function D(){if(null!==T){var e=t.unstable_now();I=e;var n=!0;try{n=T(!0,e)}finally{n?S():(C=!1,T=null)}}else C=!1}if("function"===typeof b)S=function(){b(D)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,M=N.port2;N.port1.onmessage=D,S=function(){M.postMessage(null)}}else S=function(){y(D,0)};function P(e){T=e,C||(C=!0,S())}function O(e,n){E=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,P(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(E),E=-1):m=!0,O(k,a-o))):(e.sortIndex=s,n(c,e),v||p||(v=!0,P(x))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<a.length;u++){var c=a[u];if(!s(c))return!1;var l=e[c],f=t[c];if(!1===(i=n?n.call(r,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".caaf11a9.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="COTF-Trivia:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var s,u;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){s=f;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var h=function(t,n){s.onerror=s.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],s=r[1],u=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkCOTF_Trivia=self.webpackChunkCOTF_Trivia||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),n.nc=void 0,function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return xi},SDK_VERSION:function(){return Ea},_DEFAULT_ENTRY_NAME:function(){return da},_addComponent:function(){return ya},_addOrOverwriteComponent:function(){return ga},_apps:function(){return va},_clearComponents:function(){return xa},_components:function(){return ma},_getProvider:function(){return wa},_registerComponent:function(){return ba},_removeServiceInstance:function(){return ka},deleteApp:function(){return Da},getApp:function(){return Ia},getApps:function(){return Aa},initializeApp:function(){return _a},onLog:function(){return Pa},registerVersion:function(){return Ma},setLogLevel:function(){return Oa}});var t=n(791),r=n(250);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){if(e){if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var s=n(441),u=n(613),c=n.n(u);var l=function(e){function t(e,r,u,c,h){for(var d,p,v,m,w,x=0,S=0,C=0,T=0,E=0,M=0,O=v=d=0,L=0,F=0,B=0,z=0,V=u.length,j=V-1,q="",U="",W="",Q="";L<V;){if(p=u.charCodeAt(L),L===j&&0!==S+T+C+x&&(0!==S&&(p=47===S?10:47),T=C=x=0,V++,j++),0===S+T+C+x){if(L===j&&(0<F&&(q=q.replace(f,"")),0<q.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:q+=u.charAt(L)}p=59}switch(p){case 123:for(d=(q=q.trim()).charCodeAt(0),v=1,z=++L;L<V;){switch(p=u.charCodeAt(L)){case 123:v++;break;case 125:v--;break;case 47:switch(p=u.charCodeAt(L+1)){case 42:case 47:e:{for(O=L+1;O<j;++O)switch(u.charCodeAt(O)){case 47:if(42===p&&42===u.charCodeAt(O-1)&&L+2!==O){L=O+1;break e}break;case 10:if(47===p){L=O+1;break e}}L=O}}break;case 91:p++;case 40:p++;case 34:case 39:for(;L++<j&&u.charCodeAt(L)!==p;);}if(0===v)break;L++}if(v=u.substring(z,L),0===d&&(d=(q=q.replace(l,"").trim()).charCodeAt(0)),64===d){switch(0<F&&(q=q.replace(f,"")),p=q.charCodeAt(1)){case 100:case 109:case 115:case 45:F=r;break;default:F=N}if(z=(v=t(r,F,v,p,h+1)).length,0<P&&(w=s(3,v,F=n(N,q,B),r,I,_,z,p,h,c),q=F.join(""),void 0!==w&&0===(z=(v=w.trim()).length)&&(p=0,v="")),0<z)switch(p){case 115:q=q.replace(k,o);case 100:case 109:case 45:v=q+"{"+v+"}";break;case 107:v=(q=q.replace(y,"$1 $2"))+"{"+v+"}",v=1===D||2===D&&a("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=q+v,112===c&&(U+=v,v="")}else v=""}else v=t(r,n(r,q,B),v,c,h+1);W+=v,v=B=F=O=d=0,q="",p=u.charCodeAt(++L);break;case 125:case 59:if(1<(z=(q=(0<F?q.replace(f,""):q).trim()).length))switch(0===O&&(d=q.charCodeAt(0),45===d||96<d&&123>d)&&(z=(q=q.replace(" ",":")).length),0<P&&void 0!==(w=s(1,q,r,e,I,_,U.length,c,h,c))&&0===(z=(q=w.trim()).length)&&(q="\0\0"),d=q.charCodeAt(0),p=q.charCodeAt(1),d){case 0:break;case 64:if(105===p||99===p){Q+=q+u.charAt(L);break}default:58!==q.charCodeAt(z-1)&&(U+=i(q,d,p,q.charCodeAt(2)))}B=F=O=d=0,q="",p=u.charCodeAt(++L)}}switch(p){case 13:case 10:47===S?S=0:0===1+d&&107!==c&&0<q.length&&(F=1,q+="\0"),0<P*R&&s(0,q,r,e,I,_,U.length,c,h,c),_=1,I++;break;case 59:case 125:if(0===S+T+C+x){_++;break}default:switch(_++,m=u.charAt(L),p){case 9:case 32:if(0===T+x+S)switch(E){case 44:case 58:case 9:case 32:m="";break;default:32!==p&&(m=" ")}break;case 0:m="\\0";break;case 12:m="\\f";break;case 11:m="\\v";break;case 38:0===T+S+x&&(F=B=1,m="\f"+m);break;case 108:if(0===T+S+x+A&&0<O)switch(L-O){case 2:112===E&&58===u.charCodeAt(L-3)&&(A=E);case 8:111===M&&(A=M)}break;case 58:0===T+S+x&&(O=L);break;case 44:0===S+C+T+x&&(F=1,m+="\r");break;case 34:case 39:0===S&&(T=T===p?0:0===T?p:T);break;case 91:0===T+S+C&&x++;break;case 93:0===T+S+C&&x--;break;case 41:0===T+S+x&&C--;break;case 40:if(0===T+S+x){if(0===d)if(2*E+3*M===533);else d=1;C++}break;case 64:0===S+C+T+x+O+v&&(v=1);break;case 42:case 47:if(!(0<T+x+C))switch(S){case 0:switch(2*p+3*u.charCodeAt(L+1)){case 235:S=47;break;case 220:z=L,S=42}break;case 42:47===p&&42===E&&z+2!==L&&(33===u.charCodeAt(z+2)&&(U+=u.substring(z,L+1)),m="",S=0)}}0===S&&(q+=m)}M=E,E=p,L++}if(0<(z=U.length)){if(F=r,0<P&&(void 0!==(w=s(2,U,F,e,I,_,z,c,h,c))&&0===(U=w).length))return Q+U+W;if(U=F.join(",")+"{"+U+"}",0!==D*A){switch(2!==D||a(U,2)||(A=0),A){case 111:U=U.replace(b,":-moz-$1")+U;break;case 112:U=U.replace(g,"::-webkit-input-$1")+U.replace(g,"::-moz-$1")+U.replace(g,":-ms-input-$1")+U}A=0}}return Q+U+W}function n(e,t,n){var i=t.trim().split(v);t=i;var a=i.length,o=e.length;switch(o){case 0:case 1:var s=0;for(e=0===o?"":e[0]+" ";s<a;++s)t[s]=r(e,t[s],n).trim();break;default:var u=s=0;for(t=[];s<a;++s)for(var c=0;c<o;++c)t[u++]=r(e[c]+" ",i[s],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(m,"$1"+e.trim());case 58:return e.trim()+t.replace(m,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(m,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var o=e+";",s=2*t+3*n+4*r;if(944===s){e=o.indexOf(":",9)+1;var u=o.substring(e,o.length-1).trim();return u=o.substring(0,e).trim()+u+";",1===D||2===D&&a(u,1)?"-webkit-"+u+u:u}if(0===D||2===D&&!a(o,1))return o;switch(s){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(E,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(u=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+u+o;case 1005:return d.test(o)?o.replace(h,":-webkit-")+o.replace(h,":-moz-")+o:o;case 1e3:switch(t=(u=o.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(t)){case 226:u=o.replace(w,"tb");break;case 232:u=o.replace(w,"tb-rl");break;case 220:u=o.replace(w,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+u+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,s=(u=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:o=o.replace(u,"-webkit-"+u)+";"+o;break;case 207:case 102:o=o.replace(u,"-webkit-"+(102<s?"inline-":"")+"box")+";"+o.replace(u,"-webkit-"+u)+";"+o.replace(u,"-ms-"+u+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return u=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+u+"-ms-flex-"+u+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(S,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(S,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===T.test(e))return 115===(u=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):o.replace(u,"-webkit-"+u)+o.replace(u,"-moz-"+u.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===n+r&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+o}return o}function a(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),O(2!==t?r:r.replace(C,"$1"),n,t)}function o(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(x," or ($1)").substring(4):"("+t+")"}function s(e,t,n,r,i,a,o,s,u,l){for(var f,h=0,d=t;h<P;++h)switch(f=M[h].call(c,e,d,n,r,i,a,o,s,u,l)){case void 0:case!1:case!0:case null:break;default:d=f}if(d!==t)return d}function u(e){return void 0!==(e=e.prefix)&&(O=null,e?"function"!==typeof e?D=1:(D=2,O=e):D=0),u}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<P){var i=s(-1,n,r,r,I,_,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var a=t(N,r,n,0,0);return 0<P&&(void 0!==(i=s(-2,a,r,r,I,_,a.length,0,0,0))&&(a=i)),"",A=0,_=I=1,a}var l=/^\0+/g,f=/[\0\r\f]/g,h=/: */g,d=/zoo|gra/,p=/([,: ])(transform)/g,v=/,\r+?/g,m=/([\t\r\n ])*\f?&/g,y=/@(k\w+)\s*(\S*)\s*/,g=/::(place)/g,b=/:(read-only)/g,w=/[svh]\w+-[tblr]{2}/,k=/\(\s*(.*)\s*\)/g,x=/([\s\S]*?);/g,S=/-self|flex-/g,C=/[^]*?(:[rp][el]a[\w-]+)[^]*/,T=/stretch|:\s*\w+\-(?:conte|avail)/,E=/([^-])(image-set\()/,_=1,I=1,A=0,D=1,N=[],M=[],P=0,O=null,R=0;return c.use=function e(t){switch(t){case void 0:case null:P=M.length=0;break;default:if("function"===typeof t)M[P++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else R=0|!!t}return e},c.set=u,void 0!==e&&u(e),c},f={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var h=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,d=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){return h.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),p=n(110),v=n.n(p);function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var y=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},g=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,s.typeOf)(e)},b=Object.freeze([]),w=Object.freeze({});function k(e){return"function"==typeof e}function x(e){return e.displayName||e.name||"Component"}function S(e){return e&&"string"==typeof e.styledComponentId}var C="undefined"!=typeof process&&({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",T="undefined"!=typeof window&&"HTMLElement"in window,E=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY)),_={};function I(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var A=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&I(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),s=0,u=t.length;s<u;s++)this.tag.insertRule(o,t[s])&&(this.groupSizes[e]++,o++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+=this.tag.getRule(a)+"/*!sc*/\n";return t},e}(),D=new Map,N=new Map,M=1,P=function(e){if(D.has(e))return D.get(e);for(;N.has(M);)M++;var t=M++;return D.set(e,t),N.set(t,e),t},O=function(e){return N.get(e)},R=function(e,t){t>=M&&(M=t+1),D.set(e,t),N.set(t,e)},L="style["+C+'][data-styled-version="5.3.6"]',F=new RegExp("^"+C+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),B=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},z=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,a=n.length;i<a;i++){var o=n[i].trim();if(o){var s=o.match(F);if(s){var u=0|parseInt(s[1],10),c=s[2];0!==u&&(R(c,u),B(e,c,s[3]),e.getTag().insertRules(u,r)),r.length=0}else r.push(o)}}},V=function(){return n.nc},j=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(C))return r}}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(C,"active"),r.setAttribute("data-styled-version","5.3.6");var o=V();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},q=function(){function e(e){var t=this.element=j(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}I(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),U=function(){function e(e){var t=this.element=j(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),W=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),Q=T,G={isServer:!T,useCSSOMInjection:!E},K=function(){function e(e,t,n){void 0===e&&(e=w),void 0===t&&(t={}),this.options=m({},G,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&T&&Q&&(Q=!1,function(e){for(var t=document.querySelectorAll(L),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(C)&&(z(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return P(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(m({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new W(i):r?new q(i):new U(i),new A(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(P(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(P(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(P(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var a=O(i);if(void 0!==a){var o=e.names.get(a),s=t.getGroup(i);if(o&&s&&o.size){var u=C+".g"+i+'[id="'+a+'"]',c="";void 0!==o&&o.forEach((function(e){e.length>0&&(c+=e+",")})),r+=""+s+u+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),H=/(a)(d)/gi,Y=function(e){return String.fromCharCode(e+(e>25?39:97))};function $(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=Y(t%52)+n;return(Y(t%52)+n).replace(H,"$1-$2")}var J=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},X=function(e){return J(5381,e)};function Z(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(k(n)&&!S(n))return!1}return!0}var ee=X("5.3.6"),te=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&Z(e),this.componentId=t,this.baseHash=J(ee,t),this.baseStyle=n,K.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var a=be(this.rules,e,t,n).join(""),o=$(J(this.baseHash,a)>>>0);if(!t.hasNameForId(r,o)){var s=n(a,"."+o,void 0,r);t.insertRules(r,o,s)}i.push(o),this.staticRulesId=o}else{for(var u=this.rules.length,c=J(this.baseHash,n.hash),l="",f=0;f<u;f++){var h=this.rules[f];if("string"==typeof h)l+=h;else if(h){var d=be(h,e,t,n),p=Array.isArray(d)?d.join(""):d;c=J(c,p+f),l+=p}}if(l){var v=$(c>>>0);if(!t.hasNameForId(r,v)){var m=n(l,"."+v,void 0,r);t.insertRules(r,v,m)}i.push(v)}}return i.join(" ")},e}(),ne=/^\s*\/\/.*$/gm,re=[":","[",".","#"];function ie(e){var t,n,r,i,a=void 0===e?w:e,o=a.options,s=void 0===o?w:o,u=a.plugins,c=void 0===u?b:u,f=new l(s),h=[],d=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,a,o,s,u,c,l,f){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+r),"";default:return r+(0===f?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){h.push(e)})),p=function(e,r,a){return 0===r&&-1!==re.indexOf(a[n.length])||a.match(i)?e:"."+t};function v(e,a,o,s){void 0===s&&(s="&");var u=e.replace(ne,""),c=a&&o?o+" "+a+" { "+u+" }":u;return t=s,n=a,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),f(o||!a?"":a,c)}return f.use([].concat(c,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,p))},d,function(e){if(-2===e){var t=h;return h=[],t}}])),v.hash=c.length?c.reduce((function(e,t){return t.name||I(15),J(e,t.name)}),5381).toString():"",v}var ae=t.createContext(),oe=(ae.Consumer,t.createContext()),se=(oe.Consumer,new K),ue=ie();function ce(){return(0,t.useContext)(ae)||se}function le(){return(0,t.useContext)(oe)||ue}function fe(e){var n=(0,t.useState)(e.stylisPlugins),r=n[0],i=n[1],a=ce(),o=(0,t.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),s=(0,t.useMemo)((function(){return ie({options:{prefix:!e.disableVendorPrefixes},plugins:r})}),[e.disableVendorPrefixes,r]);return(0,t.useEffect)((function(){c()(r,e.stylisPlugins)||i(e.stylisPlugins)}),[e.stylisPlugins]),t.createElement(ae.Provider,{value:o},t.createElement(oe.Provider,{value:s},e.children))}var he=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=ue);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return I(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=ue),this.name+e.hash},e}(),de=/([A-Z])/,pe=/([A-Z])/g,ve=/^ms-/,me=function(e){return"-"+e.toLowerCase()};function ye(e){return de.test(e)?e.replace(pe,me).replace(ve,"-ms-"):e}var ge=function(e){return null==e||!1===e||""===e};function be(e,t,n,r){if(Array.isArray(e)){for(var i,a=[],o=0,s=e.length;o<s;o+=1)""!==(i=be(e[o],t,n,r))&&(Array.isArray(i)?a.push.apply(a,i):a.push(i));return a}return ge(e)?"":S(e)?"."+e.styledComponentId:k(e)?"function"!=typeof(u=e)||u.prototype&&u.prototype.isReactComponent||!t?e:be(e(t),t,n,r):e instanceof he?n?(e.inject(n,r),e.getName(r)):e:g(e)?function e(t,n){var r,i,a=[];for(var o in t)t.hasOwnProperty(o)&&!ge(t[o])&&(Array.isArray(t[o])&&t[o].isCss||k(t[o])?a.push(ye(o)+":",t[o],";"):g(t[o])?a.push.apply(a,e(t[o],o)):a.push(ye(o)+": "+(r=o,(null==(i=t[o])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in f?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(a,["}"]):a}(e):e.toString();var u}var we=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function ke(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return k(e)||g(e)?we(be(y(b,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:we(be(y(e,n)))}new Set;var xe=function(e,t,n){return void 0===n&&(n=w),e.theme!==n.theme&&e.theme||t||n.theme},Se=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Ce=/(^-|-$)/g;function Te(e){return e.replace(Se,"-").replace(Ce,"")}var Ee=function(e){return $(X(e)>>>0)};function _e(e){return"string"==typeof e&&!0}var Ie=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},Ae=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function De(e,t,n){var r=e[n];Ie(t)&&Ie(r)?Ne(r,t):e[n]=t}function Ne(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];if(Ie(o))for(var s in o)Ae(s)&&De(e,o[s],s)}return e}var Me=t.createContext();Me.Consumer;function Pe(e){var n=(0,t.useContext)(Me),r=(0,t.useMemo)((function(){return function(e,t){return e?k(e)?e(t):Array.isArray(e)||"object"!=typeof e?I(8):t?m({},t,{},e):e:I(14)}(e.theme,n)}),[e.theme,n]);return e.children?t.createElement(Me.Provider,{value:r},e.children):null}var Oe={};function Re(e,n,r){var i=S(e),a=!_e(e),o=n.attrs,s=void 0===o?b:o,u=n.componentId,c=void 0===u?function(e,t){var n="string"!=typeof e?"sc":Te(e);Oe[n]=(Oe[n]||0)+1;var r=n+"-"+Ee("5.3.6"+n+Oe[n]);return t?t+"-"+r:r}(n.displayName,n.parentComponentId):u,l=n.displayName,f=void 0===l?function(e){return _e(e)?"styled."+e:"Styled("+x(e)+")"}(e):l,h=n.displayName&&n.componentId?Te(n.displayName)+"-"+n.componentId:n.componentId||c,p=i&&e.attrs?Array.prototype.concat(e.attrs,s).filter(Boolean):s,y=n.shouldForwardProp;i&&e.shouldForwardProp&&(y=n.shouldForwardProp?function(t,r,i){return e.shouldForwardProp(t,r,i)&&n.shouldForwardProp(t,r,i)}:e.shouldForwardProp);var g,C=new te(r,h,i?e.componentStyle:void 0),T=C.isStatic&&0===s.length,E=function(e,n){return function(e,n,r,i){var a=e.attrs,o=e.componentStyle,s=e.defaultProps,u=e.foldedComponentIds,c=e.shouldForwardProp,l=e.styledComponentId,f=e.target,h=function(e,t,n){void 0===e&&(e=w);var r=m({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,a,o=e;for(t in k(o)&&(o=o(r)),o)r[t]=i[t]="className"===t?(n=i[t],a=o[t],n&&a?n+" "+a:n||a):o[t]})),[r,i]}(xe(n,(0,t.useContext)(Me),s)||w,n,a),p=h[0],v=h[1],y=function(e,t,n,r){var i=ce(),a=le();return t?e.generateAndInjectStyles(w,i,a):e.generateAndInjectStyles(n,i,a)}(o,i,p),g=r,b=v.$as||n.$as||v.as||n.as||f,x=_e(b),S=v!==n?m({},n,{},v):n,C={};for(var T in S)"$"!==T[0]&&"as"!==T&&("forwardedAs"===T?C.as=S[T]:(c?c(T,d,b):!x||d(T))&&(C[T]=S[T]));return n.style&&v.style!==n.style&&(C.style=m({},n.style,{},v.style)),C.className=Array.prototype.concat(u,l,y!==l?y:null,n.className,v.className).filter(Boolean).join(" "),C.ref=g,(0,t.createElement)(b,C)}(g,e,n,T)};return E.displayName=f,(g=t.forwardRef(E)).attrs=p,g.componentStyle=C,g.displayName=f,g.shouldForwardProp=y,g.foldedComponentIds=i?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):b,g.styledComponentId=h,g.target=i?e.target:e,g.withComponent=function(e){var t=n.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(n,["componentId"]),a=t&&t+"-"+(_e(e)?e:Te(x(e)));return Re(e,m({},i,{attrs:p,componentId:a}),r)},Object.defineProperty(g,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=i?Ne({},e.defaultProps,t):t}}),g.toString=function(){return"."+g.styledComponentId},a&&v()(g,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),g}var Le=function(e){return function e(t,n,r){if(void 0===r&&(r=w),!(0,s.isValidElementType)(n))return I(1,String(n));var i=function(){return t(n,r,ke.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,n,m({},r,{},i))},i.attrs=function(i){return e(t,n,m({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(Re,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){Le[e]=Le(e)}));var Fe=function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=Z(e),K.registerId(this.componentId+1)}var t=e.prototype;return t.createStyles=function(e,t,n,r){var i=r(be(this.rules,t,n,r).join(""),""),a=this.componentId+e;n.insertRules(a,a,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&K.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)},e}();function Be(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=ke.apply(void 0,[e].concat(n)).join(""),a=Ee(i);return new he(a,i)}!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=V();return"<style "+[n&&'nonce="'+n+'"',C+'="true"','data-styled-version="5.3.6"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?I(2):e._emitSheetCSS()},this.getStyleElement=function(){var n;if(e.sealed)return I(2);var r=((n={})[C]="",n["data-styled-version"]="5.3.6",n.dangerouslySetInnerHTML={__html:e.instance.toString()},n),i=V();return i&&(r.nonce=i),[t.createElement("style",m({},r,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new K({isServer:!0}),this.sealed=!1}var n=e.prototype;n.collectStyles=function(e){return this.sealed?I(2):t.createElement(fe,{sheet:this.instance},e)},n.interleaveWithNodeStream=function(e){return I(3)}}();var ze=Le;function Ve(e){return Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ve(e)}function je(e){var t=function(e,t){if("object"!==Ve(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ve(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ve(t)?t:String(t)}function qe(e,t,n){return(t=je(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ue,We={"AMORY WARS":{topic:"AMORY WARS",totalQuestions:40,totalTime:3600,questions:[{question:"Which of these inhabitants of Heaven's Fence are NOT catalogued?",choices:["Men","The Narrows","The Mage","The Prise"],type:"MCQs",correctAnswers:["The Narrows"]},{question:"What is the name of Dr. Sirius Amory's wife?",choices:["Mirriam","Meri","Mandy","Martha"],type:"MCQs",correctAnswers:["Meri"]},{question:"What are the names of Coheed and Cambria's twins?",choices:["Mike and Melinda","Claudio and Josephine","Leonard and Holly","Matthew and Maria"],type:"MCQs",correctAnswers:["Matthew and Maria"]},{question:"How did Coheed kill his youngest children?",choices:["Poisoned Them","Chocked Them","Shot Them","Drowned Them"],type:"MCQs",correctAnswers:["Poisoned Them"]},{question:"How did Coheed kill his oldest child?",choices:["Bullet To The Head","Hammer Blow To The Head","Burned Her To Eeath","Drowned Her"],type:"MCQs",correctAnswers:["Hammer Blow To The Head"]},{question:"What is the name of Josephine's boyfriend?",choices:["Johnny","Cecil","Patrick","Travis"],type:"MCQs",correctAnswers:["Patrick"]},{question:"What is the name of Claudio's girlfriend?",choices:["Newo","Sara","Penny","Rachel"],type:"MCQs",correctAnswers:["Newo"]},{question:"What is the name of the religious text that outlines the structure and destiny of Heaven's Fence?",choices:["The Creation of the Worlds","The Prophecies of Heaven's Fence","God's Design","Ghansgraad"],type:"MCQs",correctAnswers:["Ghansgraad"]},{question:"What is the name of the uncatalogued inhabitant that Claudio meets in Si-Revody?",choices:["Victor","Sizer","Cecil","Patrick"],type:"MCQs",correctAnswers:["Cecil"]},{question:"What is the name of the only Admiral in the United Red Army?",choices:["Mayo Deftinwolf","Covent Marth","Michael Todd","Vielar Crom"],type:"MCQs",correctAnswers:["Vielar Crom"]},{question:"Who is the leader of the rebellion against Wilhelm Ryan?",choices:["Mariah Antillarea","Cecil B. Deville","Inferno","Vielar Crom"],type:"MCQs",correctAnswers:["Mariah Antillarea"]},{question:"What is another name for the prophecy of The Crowing?",choices:["Son of Three","Guardians","God's Warrior","Ghansgraad"],type:"MCQs",correctAnswers:["Son of Three"]},{question:"What is the name of the camp Claudio was forced to work in on Shylos X?",choices:["Crystal Lake","Si-Revody ","Apity Prime","Paris: Earth"],type:"MCQs",correctAnswers:["Si-Revody "]},{question:"What is the name of the mysterious energy being that guides Sirius Amory?",choices:["The Prize Fighter Inferno","Sirius Amory","The All-Mother","The Ghost of Wilhelm Ryan"],type:"MCQs",correctAnswers:["The All-Mother"]},{question:"What is the name of Coheed and Cambria's home planet?",choices:["Hetricus","Apity Prime","Cobalt and Calcium","Star IV"],type:"MCQs",correctAnswers:["Hetricus"]},{question:"What is the name of the gang that attacked Josephine?",choices:["Jersey City Devils","Jersey City Angels","Jersey City Demons","Jersey City Priests"],type:"MCQs",correctAnswers:["Jersey City Devils"]},{question:"What is the name of the character who is a key figure in 'The Unheavenly Creatures' narrative?",choices:["Creature","Vaxis","Gutter","Senorita Erminia"],type:"MCQs",correctAnswers:["Vaxis"]},{question:"In the false memory that Inferno implanted in Cambria, what was her occupation?",choices:["Lawyer","Nurse","Shop Owner","Professor"],type:"MCQs",correctAnswers:["Nurse"]},{question:"Where did Mayo Deftinwolf discard Sizer's body?",choices:["House Atlantic","Donar","Grail Arbor","Godder Damm"],type:"MCQs",correctAnswers:["Godder Damm"]},{question:"What is the name of Inferno's spaceship?",choices:["Sizer","Chase","The Dark Sentencer","Grail Arbor"],type:"MCQs",correctAnswers:["Grail Arbor"]},{question:"On which planet was Mariah killed?",choices:["Kalline","Shylos X","Paris:Earth","Dil-Ariuth IX"],type:"MCQs",correctAnswers:["Paris:Earth"]},{question:"What is the name of the spacecraft that Sirius Amory uses to reach the Keywork in 'The Afterman: Ascension'?",choices:["The Dark Sentencer","The Willing Well","The Vaxis","The Meriwell"],type:"MCQs",correctAnswers:["The Meriwell"]},{question:"What is the name of the city that Wilhelm Ryan released the new and improved dragonfiles on?",choices:["Bendelesh","Valley's Hill","Sinosure","Kalline"],type:"MCQs",correctAnswers:["Kalline"]},{question:"What is the Dark Sentencer?",choices:["Spaceship","Nickname for Mayo Deftinwolf","Prison Planet","A Weapon"],type:"MCQs",correctAnswers:["Prison Planet"]},{question:"What is the name of the home planet of The Narrows?",choices:["Hilmgore","Javan III","Donar","Howling Earth"],type:"MCQs",correctAnswers:["Hilmgore"]},{question:"What is the The Camper Velorium?",choices:["A Weapon","A Spaceship","A Religious Artifact","A Secret Organization"],type:"MCQs",correctAnswers:["A Spaceship"]},{question:"What is the name of Vaxis' mother?",choices:["Ambellina","Nia Worn","Meri Amory","Ruetama Galadoline"],type:"MCQs",correctAnswers:["Nia Worn"]},{question:"Who is the leader of the Liars Club?",choices:["Vaxis","Candelaria","HOSS","Nostrand Crane"],type:"MCQs",correctAnswers:["Candelaria"]},{question:"What is the Keywork?",choices:["A Weapon","A Celestial Event","A Spaceship","Interconnecting Beams of Energy"],type:"MCQs",correctAnswers:["Interconnecting Beams of Energy"]},{question:"What is the name of Ryder's ex-girlfriend?",choices:["Ambellina","Mariah","Meriwell","Erica"],type:"MCQs",correctAnswers:["Erica"]},{question:"In The Amory Wars, what is the name of the collection of 78 planets and seven stars held in place by interconnecting beams of energy?",choices:["Heaven's Fence","Heavenly Collection","Keywork","Magical Nexus"],type:"MCQs",correctAnswers:["Heaven's Fence"]},{question:"Who is the Supreme Tri-Mage?",choices:["Claudio Kilgannon","The Crowing","Wilhelm Ryan","Creature"],type:"MCQs",correctAnswers:["Wilhelm Ryan"]},{question:"What was the first graphic series related to the Amory Wars published in 2004?",choices:["The Amory Wars: Good Apollo, I'm Burning Star IV","The Second Stage Turbine Blade Ultimate Edition","The Bag.On.Line. Adventures: The Second Stage Turbine Blade","Evil Ink\u2019s The Amory Wars"],type:"MCQs",correctAnswers:["The Bag.On.Line. Adventures: The Second Stage Turbine Blade"]},{question:"Who co-wrote the novel included in the deluxe edition of 'Year of the Black Rainbow'?",choices:["Wes Abbott","Christopher Shy","Peter David","Claudio Sanchez"],type:"MCQs",correctAnswers:["Peter David"]},{question:"What is the Great Crash?",choices:["Cosmological Event","Spacecraft","A Great Battle","Weapon"],type:"MCQs",correctAnswers:["Cosmological Event"]},{question:"What are the Unheavenly Creatures?",choices:["A Gang","K.B.I","The Prise","Star System"],type:"MCQs",correctAnswers:["A Gang"]},{question:"What is the name of a mythical monster with a centipede-like body?",choices:["The Narrows","Keneyto","Scolorustia","Crosif"],type:"MCQs",correctAnswers:["Scolorustia"]},{question:"What was the name given to Cambria, Coheed, and Inferno?",choices:["K.B.I.","Red Army","Sinstar","The Prise"],type:"MCQs",correctAnswers:["K.B.I."]},{question:"How many sectors are there in Heaven's Fence?",choices:["4","12","11","10"],type:"MCQs",correctAnswers:["12"]},{question:"On December 2, 2012, who announced he would be producing a film adaptation of The Amory Wars?",choices:["Peter David","Christopher Nolan","Dwayne Johnson","Mark Wahlberg"],type:"MCQs",correctAnswers:["Mark Wahlberg"]}]},"Coheed and Cambria":{topic:"Coheed and Cambria",totalQuestions:100,totalTime:3600,questions:[{question:"What was Coheed and Cambria's first single?",choices:["Junesong Provision","Time Consumer","Devil In Jersey City","Hearshot Kid Disaster"],type:"MCQs",correctAnswers:["Devil In Jersey City"]},{question:"What is the name of Coheed and Cambria's first studio album?",choices:["The Second Stage Turbine Blade","Good Apollo, I'm Burning Star IV, Vol. 1","The Color Before the Sun","Good Apollo, I'm Burning Star IV, Vol. 2"],type:"MCQs",correctAnswers:["The Second Stage Turbine Blade"]},{question:"What year was 'The Second Stage Turbine Blade' released?",choices:["2003","2001","2004","2002"],type:"MCQs",correctAnswers:["2002"]},{question:"What year was I'n Keeping Secrets of Silent Earth: 3' released?",choices:["2003","2004","2005","2006"],type:"MCQs",correctAnswers:["2003"]},{question:"What year was 'Good Apollo, I'm Burning Star IV, Vol. 1' released?",choices:["2004","2005","2006","2007"],type:"MCQs",correctAnswers:["2005"]},{question:"What year was 'Good Apollo, I'm Burning Star IV, Vol. 2' released?",choices:["2005","2006","2007","2008"],type:"MCQs",correctAnswers:["2007"]},{question:"What year was 'Year of the Black Rainbow' released?",choices:["2010","2008","2009","2011"],type:"MCQs",correctAnswers:["2010"]},{question:"What year was 'The Afterman: Ascension' released?",choices:["2012","2011","2010","2013"],type:"MCQs",correctAnswers:["2012"]},{question:"What year was 'The Afterman: Descension' released?",choices:["2012","2010","2013","2014"],type:"MCQs",correctAnswers:["2013"]},{question:"What year was 'The Color Before the Sun' released?",choices:["2011","2012","2015","2016"],type:"MCQs",correctAnswers:["2015"]},{question:"In what year was Coheed and Cambria formed?",choices:["1998","2001","2003","2005"],type:"MCQs",correctAnswers:["1998"]},{question:"Who are the founding members of Coheed and Cambria?",choices:["Claudio Sanchez and Josh Eppard","Claudio Sanchez and Travis Stever","Travis Stever and Josh Eppard","Claudio Sanchez, Travis Stever, and Michael Todd"],type:"MCQs",correctAnswers:["Claudio Sanchez and Travis Stever"]},{question:"What is the name of the band that Claudio and Travis were in that broke up in 1995?",choices:["Delirium Trigger","Toxic Parents","Beautiful Loser","Shab\xfctie"],type:"MCQs",correctAnswers:["Toxic Parents"]},{question:"What is the title of Coheed and Cambria's debut album?",choices:["The Second Stage Turbine Blade","In Keeping Secrets of Silent Earth: 3","Good Apollo, I'm Burning Star IV","The Afterman: Ascension"],type:"MCQs",correctAnswers:["The Second Stage Turbine Blade"]},{question:"Which member of the band joined after the release of their debut album?",choices:["Travis Stever","Josh Eppard","Michael Todd","Zach Cooper"],type:"MCQs",correctAnswers:["Josh Eppard"]},{question:"What is the name of Coheed and Cambria's official fan club?",choices:["The Prize Fighter Inferno","The Children of the Fence","The Keywork Collective","The Amory Guild"],type:"MCQs",correctAnswers:["The Children of the Fence"]},{question:"Which member of Coheed and Cambria temporarily left the band but later returned?",choices:["Josh Eppard","Travis Stever","Michael Todd","Chris Pennie"],type:"MCQs",correctAnswers:["Josh Eppard"]},{question:"What significant event led to the formation of Coheed and Cambria?",choices:["A shared vision","A chance meeting","A high school friendship","A mutual love for progressive rock"],type:"MCQs",correctAnswers:["A high school friendship"]},{question:"In what city did Claudio Sanchez and Travis Stever form the band Coheed and Cambria?",choices:["Nyack","Boston","Los Angeles","Seattle"],type:"MCQs",correctAnswers:["Nyack"]},{question:"Which Coheed and Cambria album serves as the prequel to The Amory Wars and provides insights into the origins of the storyline?",choices:["In Keeping Secrets of Silent Earth: 3","Year of the Black Rainbow","The Afterman: Ascension","The Second Stage Turbine Blade"],type:"MCQs",correctAnswers:["Year of the Black Rainbow"]},{question:"What inspired Claudio Sanchez to create the character 'Coheed Kilgannon'?",choices:["A family member","A friend","A comic book character","A historical figure"],type:"MCQs",correctAnswers:["A family member"]},{question:"Which album marked the return of Josh Eppard to Coheed and Cambria after a temporary departure?",choices:["The Afterman: Descension","Good Apollo, I'm Burning Star IV","Vaxis - Act I: The Unheavenly Creatures","No World for Tomorrow"],type:"MCQs",correctAnswers:["The Afterman: Descension"]},{question:"In 2012, which member of Coheed and Cambria was replaced by Zach Cooper?",choices:["Michael Todd","Chris Pennie","Travis Stever","Josh Eppard"],type:"MCQs",correctAnswers:["Michael Todd"]},{question:"What event served as the catalyst for Claudio Sanchez to start writing the story of The Amory Wars?",choices:["A personal tragedy","A dream","A science fiction movie","A road trip"],type:"MCQs",correctAnswers:["A personal tragedy"]},{question:"Which song by Coheed and Cambria is considered a tribute to Claudio Sanchez's dog, Apollo?",choices:["Welcome Home","The Suffering","Feathers","The Running Free"],type:"MCQs",correctAnswers:["Feathers"]},{question:"What role did Nate Kelley play in the early years of Coheed and Cambria?",choices:["Lead vocalist","Drummer","Bassist","Lead guitarist"],type:"MCQs",correctAnswers:["Drummer"]},{question:"What was the original name of Coheed and Cambria before they changed it to the current name?",choices:["Shab\xfctie","The Prize Fighter Inferno","Weerd Science","The Amory Wars"],type:"MCQs",correctAnswers:["Shab\xfctie"]},{question:"During their early years, what genre of music did Coheed and Cambria primarily identify with?",choices:["Punk rock","Post-hardcore","Progressive metal","Emo"],type:"MCQs",correctAnswers:["Punk rock"]},{question:"Which venue played a crucial role in Coheed and Cambria's early success in the New York music scene?",choices:["CBGB","Whisky a Go Go","The Roxy Theatre","The Troubadour"],type:"MCQs",correctAnswers:["CBGB"]},{question:"In what year did Coheed and Cambria sign their first major record deal?",choices:["1998","2001","2003","2005"],type:"MCQs",correctAnswers:["2003"]},{question:"Which influential producer worked with Coheed and Cambria on their breakthrough album 'In Keeping Secrets of Silent Earth: 3'?",choices:["Butch Vig","David Bottrill","Chris Bittner","Michael Birnbaum"],type:"MCQs",correctAnswers:["Michael Birnbaum"]},{question:"What is the significance of the song 'The Camper Velourium III: Al the Killer' in Coheed and Cambria's discography?",choices:["It's a tribute to a fan","It's a concept for a movie","It's part of The Amory Wars storyline","It's a cover song"],type:"MCQs",correctAnswers:["It's part of The Amory Wars storyline"]},{question:"Which album marked the departure of drummer Josh Eppard and the temporary inclusion of drummer Taylor Hawkins?",choices:["Good Apollo, I'm Burning Star IV","The Afterman: Ascension","Year of the Black Rainbow","Vaxis - Act I: The Unheavenly Creatures"],type:"MCQs",correctAnswers:["Good Apollo, I'm Burning Star IV"]},{question:"What notable event in 2004 boosted Coheed and Cambria's mainstream visibility?",choices:["A Grammy Award nomination","A performance on Saturday Night Live","A collaboration with a popular artist","A cover feature in Rolling Stone"],type:"MCQs",correctAnswers:["A Grammy Award nomination"]},{question:"Which member of Coheed and Cambria took on the persona of 'Sirius Amory' during 'The Amory Wars' concept?",choices:["Claudio Sanchez","Travis Stever","Josh Eppard","Zach Cooper"],type:"MCQs",correctAnswers:["Travis Stever"]},{question:"In 2007, Coheed and Cambria contributed a song to the soundtrack of which film?",choices:["Star Wars: The Force Awakens","Blade Runner 2049","Transformers","Ender's Game"],type:"MCQs",correctAnswers:["Transformers"]},{question:"Which album by Coheed and Cambria marked a return to The Amory Wars concept after a brief departure?",choices:["Year of the Black Rainbow","The Afterman: Descension","Vaxis - Act I: The Unheavenly Creatures","Good Apollo, I'm Burning Star IV"],type:"MCQs",correctAnswers:["Vaxis - Act I: The Unheavenly Creatures"]},{question:"What is the title of the documentary that provides insights into the making of Coheed and Cambria's album 'The Color Before the Sun'?",choices:["Beyond the Fence","The Afterman Chronicles","Unheavenly Creatures Unleashed","Making Colors"],type:"MCQs",correctAnswers:["Beyond the Fence"]},{question:"Which song by Coheed and Cambria was inspired by Claudio Sanchez's experience with sleep paralysis?",choices:["Gravity's Union","The Hard Sell","The Crowing","Ghost"],type:"MCQs",correctAnswers:["Gravity's Union"]},{question:"During the recording of 'Year of the Black Rainbow,' which member of the band temporarily left, leading to Chris Pennie joining the band?",choices:["Josh Eppard","Travis Stever","Michael Todd","Claudio Sanchez"],type:"MCQs",correctAnswers:["Josh Eppard"]},{question:"In 2022, Coheed and Cambria celebrated the anniversary of which album with a special re-release?",choices:["Good Apollo, I'm Burning Star IV","The Second Stage Turbine Blade","In Keeping Secrets of Silent Earth: 3","Year of the Black Rainbow"],type:"MCQs",correctAnswers:["In Keeping Secrets of Silent Earth: 3"]},{question:"What was the title of Shab\xfctie's first demo album released in 1999?",choices:["The Second Stage Turbine Blade","Plan to Take Over the World","The Penelope EP","The Delirium Trigger EP"],type:"MCQs",correctAnswers:["Plan to Take Over the World"]},{question:"What music festival did Coheed and Cambria headline in 2008?",choices:["Coachella","Burning Man","Lollapalooza","Bamboozle"],type:"MCQs",correctAnswers:["Bamboozle"]},{question:"In 2005, Coheed and Cambria released a limited-edition graphic novel accompanying which album?",choices:["Good Apollo, I'm Burning Star IV","In Keeping Secrets of Silent Earth: 3","The Afterman: Ascension","Vaxis - Act I: The Unheavenly Creatures"],type:"MCQs",correctAnswers:["Good Apollo, I'm Burning Star IV"]},{question:"Which song by Coheed and Cambria served as the theme for the animated series 'American Dad!'?",choices:["A Favor House Atlantic","The Suffering","Welcome Home","Feathers"],type:"MCQs",correctAnswers:["Welcome Home"]},{question:"What is the significance of the song 'The Willing Well IV: The Final Cut' in Coheed and Cambria's discography?",choices:["It's a cover song","It's a live recording","It's the last track on their debut album","It's part of The Amory Wars storyline"],type:"MCQs",correctAnswers:["It's part of The Amory Wars storyline"]},{question:"In 2015, Coheed and Cambria launched a record label. What is the name of this label?",choices:["Evil Ink Records","Keywork Records","Heed Your Call Records","Amory Music"],type:"MCQs",correctAnswers:["Evil Ink Records"]},{question:"During the early years, what pseudonym did Claudio Sanchez use?",choices:["Sirius Amory","The Crowing","The Prize Fighter Inferno","The Running Free"],type:"MCQs",correctAnswers:["The Prize Fighter Inferno"]},{question:"Which Coheed and Cambria album features the single 'The Running Free'?",choices:["The Afterman: Descension","Year of the Black Rainbow","Good Apollo, I'm Burning Star IV, Volume Two: No World for Tomorrow","Vaxis - Act I: The Unheavenly Creatures"],type:"MCQs",correctAnswers:["Good Apollo, I'm Burning Star IV, Volume Two: No World for Tomorrow"]},{question:"In 2004, Coheed and Cambria joined the lineup of which major music festival, boosting their exposure?",choices:["Coachella","Lollapalooza","Reading Festival","Bonnaroo"],type:"MCQs",correctAnswers:["Lollapalooza"]},{question:"What is the title of Coheed and Cambria's first music video, released in 2002?",choices:["The Suffering","A Favor House Atlantic","Devil in Jersey City","Blood Red Summer"],type:"MCQs",correctAnswers:["A Favor House Atlantic"]},{question:"In 2004, Coheed and Cambria released a live DVD capturing a performance in New York. What is the title of this DVD?",choices:["Live at the Roxy","Neverender: Children of the Fence Edition","The Last Supper: Live at Hammerstein Ballroom","Good Apollo, I'm Burning Star IV Live"],type:"MCQs",correctAnswers:["The Last Supper: Live at Hammerstein Ballroom"]},{question:"What is the name of Coheed and Cambria's fifth studio album, released in 2010?",choices:["The Afterman: Ascension","Year of the Black Rainbow","Vaxis - Act I: The Unheavenly Creatures","The Color Before the Sun"],type:"MCQs",correctAnswers:["Year of the Black Rainbow"]},{question:"What year was Live at the Starland Ballroom released?",choices:["2006","2003","2005","2004"],type:"MCQs",correctAnswers:["2005"]},{question:"During the early years, Coheed and Cambria released music under the name Shab\xfctie. What inspired the name change?",choices:["A legal dispute","A desire for a fresh start","A suggestion from a fan","A change in musical direction"],type:"MCQs",correctAnswers:["A legal dispute"]},{question:"Which song by Coheed and Cambria is known for its extended guitar solo and was released as a single in 2005?",choices:["The Crowing","Welcome Home","The Suffering","Feathers"],type:"MCQs",correctAnswers:["The Suffering"]},{question:"What is the name of Coheed and Cambria's first-ever headlining tour, launched in 2004?",choices:["The Unheavenly Tour","The Neverender Tour","The Amory Wars Tour","The Coheed Chronicles Tour"],type:"MCQs",correctAnswers:["The Neverender Tour"]},{question:"In 2013, Coheed and Cambria released a concept album that served as a prequel to 'The Amory Wars' storyline. What is the title of this album?",choices:["Good Apollo, I'm Burning Star IV","Year of the Black Rainbow","The Afterman: Ascension","The Afterman: Descension"],type:"MCQs",correctAnswers:["The Afterman: Ascension"]},{question:"Which member of Coheed and Cambria originally played bass guitar and later switched to lead guitar?",choices:["Claudio Sanchez","Travis Stever","Zach Cooper","Josh Eppard"],type:"MCQs",correctAnswers:["Travis Stever"]},{question:"What is the name of the character who serves as the protagonist in 'The Amory Wars' narrative?",choices:["Coheed Kilgannon","Sirius Amory","The Crowing","Ambellina"],type:"MCQs",correctAnswers:["The Crowing"]},{question:"Which album features a song inspired by the film 'The NeverEnding Story.'?",choices:["Year of the Black Rainbow","The Afterman: Descension","Good Apollo, I'm Burning Star IV","No World for Tomorrow"],type:"MCQs",correctAnswers:["Good Apollo, I'm Burning Star IV"]},{question:"Which record label signed Coheed and Cambria for their debut album 'The Second Stage Turbine Blade'?",choices:["Columbia Records","Equal Vision Records","Roadrunner Records","Atlantic Records"],type:"MCQs",correctAnswers:["Equal Vision Records"]},{question:"In 2018, Coheed and Cambria collaborated with a popular rapper on the song 'The Dark Sentencer.' Who was the rapper?",choices:["Eminem","Travis Scott","Kid Cudi","Logic"],type:"MCQs",correctAnswers:["Travis Scott"]},{question:"What is the title of Coheed and Cambria's first live album, released in 2004?",choices:["Live at the Apollo","Live at the Roxy","The Last Supper: Live at Hammerstein Ballroom","Live at CBGB"],type:"MCQs",correctAnswers:["Live at the Roxy"]},{question:"In 2017, Coheed and Cambria released a single that was also featured in the soundtrack of a popular animated film. What is the title of this single?",choices:["Old Flames","You Got Spirit, Kid","Here to Mars","The Afterman"],type:"MCQs",correctAnswers:["You Got Spirit, Kid"]},{question:"Which Coheed and Cambria album features the character 'Ambellina,' a prominent figure in 'The Amory Wars' storyline?",choices:["Vaxis - Act I: The Unheavenly Creatures","Good Apollo, I'm Burning Star IV","Year of the Black Rainbow","In Keeping Secrets of Silent Earth: 3"],type:"MCQs",correctAnswers:["In Keeping Secrets of Silent Earth: 3"]},{question:"In 2018, Coheed and Cambria embarked on a tour named after a significant element in 'The Amory Wars' universe. What was the title of this tour?",choices:["The Keywork Chronicles Tour","The Vaxis Voyage Tour","The Amory Wars Tour","The Unheavenly Creatures Tour"],type:"MCQs",correctAnswers:["The Unheavenly Creatures Tour"]},{question:"In 2015, Coheed and Cambria released an album that marked a departure from 'The Amory Wars' concept. What is the title of this album?",choices:["Vaxis - Act I: The Unheavenly Creatures","The Afterman: Descension","The Color Before the Sun","Year of the Black Rainbow"],type:"MCQs",correctAnswers:["The Color Before the Sun"]},{question:"In 2006, Coheed and Cambria released an exclusive track for the soundtrack of a popular video game. Which game featured their song 'Welcome Home'?",choices:["Guitar Hero III: Legends of Rock","Fallout 3","Halo 3","Rock Band"],type:"MCQs",correctAnswers:["Guitar Hero III: Legends of Rock"]},{question:"Coheed and Cambria's song 'The Suffering' gained significant radio play. In which year was it released as a single?",choices:["2003","2005","2007","2009"],type:"MCQs",correctAnswers:["2005"]},{question:"Which famous comic book artist collaborated with Claudio Sanchez on 'The Amory Wars' comic book series?",choices:["Jim Lee","Todd McFarlane","Alex Ross","Brian Bolland"],type:"MCQs",correctAnswers:["Jim Lee"]},{question:"Coheed and Cambria released a live album in 2009, capturing performances from their 'Neverender' tour. What is the title of this live album?",choices:["The Unheavenly Creatures Tour: Live","Neverender: Children of the Fence Edition","Live at the Apollo","The Last Supper: Live at Hammerstein Ballroom"],type:"MCQs",correctAnswers:["Neverender: Children of the Fence Edition"]},{question:"What is the title of the song that served as the lead single for Coheed and Cambria's album 'Vaxis - Act I: The Unheavenly Creatures'?",choices:["The Dark Sentencer","The Gutter","Old Flames","Unheavenly Creatures"],type:"MCQs",correctAnswers:["The Dark Sentencer"]},{question:"Coheed and Cambria's fourth studio album, 'No World for Tomorrow,' was released in 2007. What is the title of the opening track on this album?",choices:["Feathers","The End Complete I: The Fall of House Atlantic","No World for Tomorrow","The Hound (Of Blood and Rank)"],type:"MCQs",correctAnswers:["The End Complete I: The Fall of House Atlantic"]},{question:"In 2010, Coheed and Cambria performed a series of concerts called 'Neverender: SSTB.' What album did they play in its entirety during this tour?",choices:["Year of the Black Rainbow","Good Apollo, I'm Burning Star IV","In Keeping Secrets of Silent Earth: 3","The Second Stage Turbine Blade"],type:"MCQs",correctAnswers:["The Second Stage Turbine Blade"]},{question:"Which member of Coheed and Cambria joined the band in 2007, filling the role of bassist?",choices:["Zach Cooper","Michael Todd","Josh Eppard","Travis Stever"],type:"MCQs",correctAnswers:["Michael Todd"]},{question:"What is the title of the song that served as the lead single for Coheed and Cambria's album 'Good Apollo, I'm Burning Star IV: Vol. 2 \u2013 No World for Tomorrow'?",choices:["The Running Free","Feathers","Mother Superior","The End Complete III: The End Complete"],type:"MCQs",correctAnswers:["The Running Free"]},{question:"Coheed and Cambria's song 'Welcome Home' gained popularity as the soundtrack for a trailer of a highly anticipated video game. Which game featured this trailer?",choices:["Gears of War","Halo 2","Assassin's Creed","Fallout 3"],type:"MCQs",correctAnswers:["Gears of War"]},{question:"Coheed and Cambria's album 'The Afterman: Descension' continues the story of a character introduced in 'The Afterman: Ascension.' What is the name of this character?",choices:["Sirius Amory","The Writer","The Keywork","Al the Killer"],type:"MCQs",correctAnswers:["The Writer"]},{question:"In 2017, Coheed and Cambria announced their collaboration with a brewery to release a signature beer. What is the name of this beer?",choices:["Welcome Home Wheat","Unheavenly Brew","Gravity's Union IPA","Keywork Lager"],type:"MCQs",correctAnswers:["Unheavenly Brew"]},{question:"What is the title of the documentary film released in 2009 that provides a behind-the-scenes look at Coheed and Cambria's tour life?",choices:["The Fiction Will See the Real","Neverender: Children of the Fence Edition","On the Road with Coheed and Cambria","Behind the Keywork"],type:"MCQs",correctAnswers:["Neverender: Children of the Fence Edition"]},{question:"Coheed and Cambria's album 'The Afterman: Ascension' features a song with a guest appearance by which famous musician?",choices:["Serj Tankian","Maynard James Keenan","Chino Moreno","Corey Taylor"],type:"MCQs",correctAnswers:["Serj Tankian"]},{question:"Coheed and Cambria's album 'Vaxis - Act I: The Unheavenly Creatures' was released in 2018. What is the name of the character introduced in this album?",choices:["Sirius Amory","The Gutter","Vic the Butcher","Creature"],type:"MCQs",correctAnswers:["Vic the Butcher"]},{question:"In 2004, Coheed and Cambria released a live DVD featuring footage from a concert in New York City. What is the title of this live DVD?",choices:["Live at the Roxy","The Last Supper: Live at Hammerstein Ballroom","Live at CBGB","Neverender: Children of the Fence Edition"],type:"MCQs",correctAnswers:["Live at the Hammerstein Ballroom"]},{question:"Coheed and Cambria's album 'No World for Tomorrow' features a song with a guest appearance by which famous musician?",choices:["Maynard James Keenan","Serj Tankian","Chino Moreno","Corey Taylor"],type:"MCQs",correctAnswers:["Maynard James Keenan"]},{question:"In 2015, Coheed and Cambria released an animated video for the song 'You Got Spirit, Kid.' Who directed this animated video?",choices:["Wes Anderson","Robert Rodriguez","Claudio Sanchez","Jon Schnepp"],type:"MCQs",correctAnswers:["Claudio Sanchez"]},{question:"In 2014, Coheed and Cambria released a song that was used as the end credits theme for a popular animated TV series. What is the title of this song?",choices:["Here to Mars","Island","Colors","The Hard Sell"],type:"MCQs",correctAnswers:["Island"]},{question:"Who were the founding members of the band Beautiful Loser after Toxic Parents split?",choices:["Claudio Sanchez, Travis Stever, and Shawna Wirkus","Claudio Sanchez, Travis Stever, and Nate Kelley","Claudio Sanchez, Travis Stever, and Jon Carleo","Claudio Sanchez, Travis Stever, and Michael Todd"],type:"MCQs",correctAnswers:["Claudio Sanchez, Travis Stever, and Shawna Wirkus"]},{question:"What led to the breakup of the band Beautiful Loser in June 1995?",choices:["Creative differences","Argument over gas money","Lack of interest in music","Disagreement on the band's name"],type:"MCQs",correctAnswers:["Argument over gas money"]},{question:"What African tribe chant inspired the band name Shab\xfctie?",choices:["Maasai","Zulu","Himba","Xhosa"],type:"MCQs",correctAnswers:["Maasai"]},{question:"Who replaced Jon Carleo on bass when he left the band in August 1996?",choices:["Nate Kelley","Michael Todd","Josh Eppard","Chris Pennie"],type:"MCQs",correctAnswers:["Michael Todd"]},{question:"Who made a guest appearance on Coheed and Cambria's first studio album?",choices:["John A. Hanson","Claudio Sanchez","Travis Stever","Dr. Know"],type:"MCQs",correctAnswers:["Dr. Know"]},{question:"Who recorded the drums for Coheed and Cambria's fourth studio album?",choices:["Josh Eppard","Chris Pennie","Taylor Hawkins","Michael Petrak"],type:"MCQs",correctAnswers:["Taylor Hawkins"]},{question:"Who replaced Josh Eppard and Michael Todd in early November 2006?",choices:["Matt Williams and Michael Petrak","Chris Pennie and Taylor Hawkins","Josh Eppard and Michael Todd","Zachary Cooper and Chondra Echert"],type:"MCQs",correctAnswers:["Matt Williams and Michael Petrak"]},{question:"Who joined Coheed and Cambria as its drummer in June 2008?",choices:["Nate Kelley","Chris Pennie","Taylor Hawkins","Josh Eppard"],type:"MCQs",correctAnswers:["Chris Pennie"]},{question:"What was the name of the band formed by Claudio Sanchez, Travis Stever, and Shawna Wirkus after Toxic Parents split in March 1995?",choices:["Beautiful Loser","Shab\xfctie","Toxic Trio","Naked Prey"],type:"MCQs",correctAnswers:["Beautiful Loser"]},{question:"Which band member left Shab\xfctie after an argument over gas money, leading to the formation of the trio named Shab\xfctie?",choices:["Claudio Sanchez","Travis Stever","Nate Kelley","Jon Carleo"],type:"MCQs",correctAnswers:["Travis Stever"]},{question:"What word, meaning 'naked prey' became the name of the trio formed after the breakup of Beautiful Loser?",choices:["Shab\xfctie","Toxic","Prey Trio","Naked Losers"],type:"MCQs",correctAnswers:["Shab\xfctie"]},{question:"Which member joined Shab\xfctie in August 1996, replacing Jon Carleo on bass?",choices:["Michael Todd","Nate Kelley","Josh Eppard","Travis Stever"],type:"MCQs",correctAnswers:["Michael Todd"]},{question:"What is the name of the manager who started working with Coheed and Cambria in August 2002?",choices:["Blaze James","Nick Raskulinecz","Shawna Wirkus","Michael Todd"],type:"MCQs",correctAnswers:["Blaze James"]}]},"Side Projects":{topic:"Side Projects",totalQuestions:30,totalTime:3600,questions:[{question:"What is the name of the 2nd full-length album by The Prize Fighter Inferno?",choices:["Half Measures","The City Introvert","My Brother's Blood Machine","Before They Bury Me"],type:"MCQs",correctAnswers:["The City Introvert"]},{question:"Fire Deuce is a side project of which member of Coheed and Cambria?",choices:["Claudio Sanchez","Travis Stever","Josh Eppard","Zach Cooper"],type:"MCQs",correctAnswers:["Travis Stever"]},{question:"What was the name Travis Stever went by in the band Fire Deuce?",choices:["Cleveland Stever","Travis Stever","Boston Strangler","Yankee Dandy"],type:"MCQs",correctAnswers:["Cleveland Stever"]},{question:"What was the original name of Davenport Cabinet?",choices:["The Pink Panther","The English Panther","Deuce Cabinet","Weerd Science"],type:"MCQs",correctAnswers:["The English Panther"]},{question:"Who is the rapper Weerd Science?",choices:["Travis Stever","Joey Eppard","Zach Cooper","Josh Eppard"],type:"MCQs",correctAnswers:["Josh Eppard"]},{question:"Who is the lead singer of L.S. Dunes?",choices:["Anthony Green","Zach Cooper","Joey Eppard","Claudio Sanchez"],type:"MCQs",correctAnswers:["Anthony Green"]},{question:"What is the name of the boxer who goes by the name The Prize Fighter Inferno?",choices:["West Coast Devin","Mike Tyson","Jesse","Claudio"],type:"MCQs",correctAnswers:["Jesse"]},{question:"What other band is L.S. Dunes guitarist Frank Iero a member of?",choices:["Circa Survive","The Sound of Animals Fighting","Thursday","My Chemical Romance"],type:"MCQs",correctAnswers:["My Chemical Romance"]},{question:"What is the name of Davenport Cabinet's 2nd album?",choices:["Nostalgia In Stereo","Our Machine","Damned Renegades","Risks in Magic"],type:"MCQs",correctAnswers:["Nostalgia In Stereo"]},{question:"Whose side project is called The Prize Fighter Inferno?",choices:["Travis Stever","Zach Cooper","Josh Eppard","Claudio Sanchez"],type:"MCQs",correctAnswers:["Claudio Sanchez"]},{question:"What is the name of the band Zach Cooper was in before Coheed and Cambria?",choices:["Nirvana","Afterman","Inferno","Life Before This"],type:"MCQs",correctAnswers:["Life Before This"]},{question:"What is the title of The Prize Fighter Inferno's debut album, released in 2006?",choices:["Half Measures","My Brother's Blood Machine","The Going Price for Home","Gutter Phenomenon"],type:"MCQs",correctAnswers:["My Brother's Blood Machine"]},{question:"The Prize Fighter Inferno's song 'Easter' is part of a concept album. What is the title of this concept album?",choices:["The Afterman: Ascension","The Afterman: Descension","Good Apollo, I'm Burning Star IV","In Keeping Secrets of Silent Earth: 3"],type:"MCQs",correctAnswers:["The Afterman: Ascension"]},{question:"In The Prize Fighter Inferno's song 'The Margretville Dance,' the protagonist travels to a fictional place. What is the name of this place?",choices:["Margretville","Hell's Kitchen","The Dark Sentencer","Wonderland"],type:"MCQs",correctAnswers:["Margretville"]},{question:"The Prize Fighter Inferno released a Christmas-themed EP in 2009. What is the title of this EP?",choices:["Merry Christmas","The Christmas Chronicles","Deck the Halls","Half Measures"],type:"MCQs",correctAnswers:["Half Measures"]},{question:"What animated series inspired the  Prize Fighter Inferno song 'Gears'?",choices:["Rick and Morty","Adventure Time","The Simpsons","Futurama"],type:"MCQs",correctAnswers:["The Simpsons"]},{question:"In The Prize Fighter Inferno's song 'Pistol Pete Matty,' what instrument is prominently featured?",choices:["Banjo","Accordion","Mandolin","Trumpet"],type:"MCQs",correctAnswers:["Banjo"]},{question:"Davenport Cabinet is a side project led by which member of Coheed and Cambria?",choices:["Claudio Sanchez","Travis Stever","Josh Eppard","Zach Cooper"],type:"MCQs",correctAnswers:["Travis Stever"]},{question:"What is the name of the Prize Fighter Inferno EP that was available to people who ordered the fourth issue of 'Kill Audio'?",choices:["Beaver Records","Erizo Schultz","Who Watches The Watchmen","The Echomaker"],type:"MCQs",correctAnswers:["Beaver Records"]},{question:"What is the title of the first album under the Davenport Cabinet name?",choices:["Our Machine","Nostalgia in Stereo","Damned Renegades","Risk and Reward"],type:"MCQs",correctAnswers:["Nostalgia in Stereo"]},{question:"Davenport Cabinet's song 'Simple Worlds' was featured in the soundtrack of which video game?",choices:["Bioshock Infinite","The Elder Scrolls V: Skyrim","Red Dead Redemption 2","Fallout 4"],type:"MCQs",correctAnswers:["Fallout 4"]},{question:"In 2010, Davenport Cabinet released a split EP with another band. Which band was it?",choices:["Circa Survive","Thank You Scientist","One Small Step For Landmines","The Dear Hunter"],type:"MCQs",correctAnswers:["One Small Step For Landmines"]},{question:"Davenport Cabinet's song 'Sister Servant' is inspired by the works of which famous author?",choices:["J.R.R. Tolkien","H.P. Lovecraft","Ray Bradbury","Arthur C. Clarke"],type:"MCQs",correctAnswers:["H.P. Lovecraft"]},{question:"What is the significance of the title 'Davenport Cabinet' for the band?",choices:["It's named after a street in Claudio Sanchez's hometown","It's a tribute to a childhood friend","It's a reference to a historical event","It's a nod to a fictional character in 'The Amory Wars'"],type:"MCQs",correctAnswers:["It's named after a street in Claudio Sanchez's hometown"]},{question:"Weerd Science is a side project led by which member of Coheed and Cambria?",choices:["Claudio Sanchez","Travis Stever","Josh Eppard","Zach Cooper"],type:"MCQs",correctAnswers:["Josh Eppard"]},{question:"What is the title of Weerd Science's debut album, released in 2005?",choices:["The Waterfront EP","Friends and Nervous Breakdowns","Red Light Juliet","Sick Kids"],type:"MCQs",correctAnswers:["Friends and Nervous Breakdowns"]},{question:"Weerd Science's song 'Conspiracy Theories w/ out Mel Gibson' is part of which EP?",choices:["The Waterfront EP","Sick Kids","Red Light Juliet","Friends and Nervous Breakdowns"],type:"MCQs",correctAnswers:["Friends and Nervous Breakdowns"]},{question:"What is the title of Weerd Science's third full-length album, released in 2014?",choices:["The Waterfront EP","Red Light Juliet","Ruin Your Life","Red Light Juliet Part 2"],type:"MCQs",correctAnswers:["Red Light Juliet"]},{question:"Weerd Science's song 'Kill It With Fire' is part of the soundtrack for which video game?",choices:["Grand Theft Auto V","Call of Duty: Modern Warfare","Fallout 4","The Witcher 3: Wild Hunt"],type:"MCQs",correctAnswers:["Fallout 4"]},{question:"What is the title of Weerd Science's second full-length album, released in 2011?",choices:["Red Light Juliet","Sick Kids","The Waterfront EP","Ruin Your Life"],type:"MCQs",correctAnswers:["Sick Kids"]}]},"S.S. Neverender":{topic:"S.S. Neverender",totalQuestions:42,totalTime:3600,questions:[{question:"What is the name of the Norwegian Cruise Line ship for the 1st S.S. Neverender?",choices:["Pearl","Bliss","Gem","Diamond"],type:"MCQs",correctAnswers:["Gem"]},{question:"What is the name of the Norwegian Cruise Line ship for the 2nd S.S. Neverender?",choices:["Gem","Pearl","Bliss","Emerald"],type:"MCQs",correctAnswers:["Pearl"]},{question:"West Coast Devin played cowbell on what Coheed and Cambria song on the 2nd night of Coheed and Cambria's indoor show?",choices:["The Camper Velourium II: Backend of Forever","A Favor House Atlantic","Welcome Home","The Camper Velourium I: Faint of Hearts"],type:"MCQs",correctAnswers:["The Camper Velourium I: Faint of Hearts"]},{question:"What city did the 2nd S.S. Neverender visit?",choices:["Nassau, Bahamas","Puerto Plata, Dominican Republic","Cancun, Mexico","Oslo, Normay"],type:"MCQs",correctAnswers:["Puerto Plata, Dominican Republic"]},{question:"What is the name of the band who played the Port Show Kick-off on the 2nd S.S. Neverender?",choices:["Motion City Sounctrack","Animals As Leaders","Mannequin Pussy","Sunny Day Real Estate"],type:"MCQs",correctAnswers:["Motion City Sounctrack"]},{question:"What was the name of the special IPA that was available on the 2nd S.S. Neverender?",choices:["Jai Alai","Two-Hearted","The Liars Club","Freak of Nature"],type:"MCQs",correctAnswers:["The Liars Club"]},{question:"The 2023 guest named drink winner was?",choices:["Al the Painkiller","Ambellini","Godder Damm","Blood Red Summer"],type:"MCQs",correctAnswers:["Blood Red Summer"]},{question:"Mannequin Pussy's lead vocalist and guitarist is known by which name?",choices:["Missy Dabice","Marisa Dabice","Molly Dabice","Melissa Dabice"],type:"MCQs",correctAnswers:["Marisa Dabice"]},{question:"What is the title of Mannequin Pussy's critically acclaimed album released in 2019?",choices:["Romantic","Patience","Gypsy Pervert","Perfect"],type:"MCQs",correctAnswers:["Patience"]},{question:"What is the name of the band who played the Port Show Kick-off on the 1st S.S. Neverender?",choices:["Thank You Scientist","Hail The Sun","Taking Back Sunday","Fire Deuce"],type:"MCQs",correctAnswers:["Taking Back Sunday"]},{question:"Which band played at the Prom on the 1st S.S. Neverender?",choices:["Hail The Sun","Animals as Leaders","Thank You Scientist","Coheed and Cambria"],type:"MCQs",correctAnswers:["Thank You Scientist"]},{question:"What is the title of Sunny Day Real Estate's debut album, released in 1994?",choices:["How It Feels to Be Something On","The Rising Tide","Diary","Sunny Day Real Estate"],type:"MCQs",correctAnswers:["Diary"]},{question:"Sunny Day Real Estate's original lineup included which musician who later became a member of the Foo Fighters?",choices:["Dave Grohl","Nate Mendel","Taylor Hawkins","Chris Shiflett"],type:"MCQs",correctAnswers:["Nate Mendel"]},{question:"What is the title of Motion City Soundtrack's breakthrough album, released in 2005?",choices:["My Dinosaur Life","Even If It Kills Me","Commit This to Memory","Go"],type:"MCQs",correctAnswers:["Commit This to Memory"]},{question:"Motion City Soundtrack's song 'Everything Is Alright' gained popularity and is known for its inclusion in which popular video game?",choices:["Guitar Hero III: Legends of Rock","Tony Hawk's Pro Skater 4","Rock Band 2","Need for Speed: Most Wanted"],type:"MCQs",correctAnswers:["Guitar Hero III: Legends of Rock"]},{question:"Animals As Leaders is known for pioneering a fusion of progressive metal with which other musical genre?",choices:["Jazz Fusion","Country","Electronic Dance Music (EDM)","Blues"],type:"MCQs",correctAnswers:["Jazz Fusion"]},{question:"Tosin Abasi, the guitarist and founder of Animals As Leaders, is known for popularizing and mastering which unique playing technique?",choices:["Sweep Picking","Tapping","Chicken Picking","Hybrid Picking"],type:"MCQs",correctAnswers:["Tapping"]},{question:"Psychedelic Porn Crumpets originated from which city in Australia?",choices:["Sydney","Melbourne","Perth","Brisbane"],type:"MCQs",correctAnswers:["Perth"]},{question:"What is the title of Psychedelic Porn Crumpets' debut album, released in 2015?",choices:["High Visceral {Part 1}","And Now for the Whatchamacallit","It's Not What You Think","Old News for Young Souls"],type:"MCQs",correctAnswers:["High Visceral {Part 1}"]},{question:"Anthony Green is best known as the lead vocalist for which post-hardcore band?",choices:["Circa Survive","Thrice","Saosin","Chiodos"],type:"MCQs",correctAnswers:["Circa Survive"]},{question:"In addition to Circa Survive, Anthony Green is a former member of which experimental musical collective?",choices:["The Sound of Animals Fighting","Tides of Man","The Dear Hunter","Dance Gavin Dance"],type:"MCQs",correctAnswers:["The Sound of Animals Fighting"]},{question:"Hail The Sun's lead vocalist and drummer is known by which name?",choices:["Donovan Melero","Shane Gann","Aric Garcia","John Stirrat"],type:"MCQs",correctAnswers:["Donovan Melero"]},{question:"What is the title of Hail The Sun's debut full-length album, released in 2014?",choices:["Culture Scars","Wake","Elephantitis","Pow! Right in the Kisser!"],type:"MCQs",correctAnswers:["Wake"]},{question:"Prince Daddy & The Hyena's album 'Cosmic Thrill Seekers' was released in collaboration with which record label?",choices:["Run For Cover Records","Topshelf Records","Polyvinyl Record Co.","Counter Intuitive Records"],type:"MCQs",correctAnswers:["Counter Intuitive Records"]},{question:"What is the title of Prince Daddy & The Hyena's debut full-length album, released in 2016?",choices:["I Thought You Didn't Even Like Leaving","Adult Summers","Meet Me at The Mall, Pt. 2","Thrashville"],type:"MCQs",correctAnswers:["I Thought You Didn't Even Like Leaving"]},{question:"What is the title of Davenport Cabinet's EP released in 2014, featuring acoustic versions of previously released songs?",choices:["Nostalgia in Stereo","Our Machine II","Risks in Magic","Ruin Your Life"],type:"MCQs",correctAnswers:["Our Machine II"]},{question:"Joey Eppard is best known as the lead vocalist and guitarist for which progressive rock band?",choices:["Porcupine Tree","The Dear Hunter","Coheed and Cambria","3 (Three)"],type:"MCQs",correctAnswers:["3 (Three)"]},{question:"In addition to being a vocalist and guitarist, Joey Eppard is proficient in playing which instrument?",choices:["Keyboards","Drums","Bass Guitar","Violin"],type:"MCQs",correctAnswers:["Keyboards"]},{question:"Mac Sabbath is a parody band known for combining the music of Black Sabbath with the theme of which fast-food restaurant?",choices:["Burger King","McDonald's","KFC","Taco Bell"],type:"MCQs",correctAnswers:["McDonald's"]},{question:"What is the title of Mac Sabbath's debut album, released in 2015?",choices:["Forbidden Chicken","Master of Nuggets","Never Say Diet","Drive Thru Massacre"],type:"MCQs",correctAnswers:["Never Say Diet"]},{question:"What is the title of Pinkshift's debut EP, released in 2021?",choices:["Sacred Geometry","Pastel Clouds","Mars","Tainted Waters"],type:"MCQs",correctAnswers:["Sacred Geometry"]},{question:"Who is the lead vocalist of Pinkshift?",choices:["Ashrita Kumar","Paul Valle","Myron Houngbedji","Erich Weinroth"],type:"MCQs",correctAnswers:["Ashrita Kumar"]},{question:"Pinkshift's breakout single 'i'm gonna tell my therapist on you' gained popularity in which year?",choices:["2018","2019","2020","2021"],type:"MCQs",correctAnswers:["2020"]},{question:"Militarie Gun is a punk band formed by members of which other well-known punk group?",choices:["Dead Kennedys","Fugazi","Jawbreaker","Against Me!"],type:"MCQs",correctAnswers:["Against Me!"]},{question:"What is the title of Militarie Gun's debut album, released in 2021?",choices:["All Roads Lead to the Gun","All Across the Gun","All You Need is the Gun","All Roads Lead to the End"],type:"MCQs",correctAnswers:["All Roads Lead to the Gun"]},{question:"What is the title of Brand of Sacrifice's debut studio album, released in 2019?",choices:["Godhand","The Interstice","Eclipse","Lifeblood"],type:"MCQs",correctAnswers:["Godhand"]},{question:"Brand of Sacrifice collaborated with which iconic deathcore vocalist on the track 'Altered Eyes'?",choices:["Phil Bozeman","CJ McMahon","Alex Terrible","Dickie Allen"],type:"MCQs",correctAnswers:["CJ McMahon"]},{question:"What is the title of Kaonashi's debut full-length album, released in 2019?",choices:["Why Did You Do It?","Dear Lemon House, You Ruined Me: Senior Year","Enough to Make You Sick","A Place Where Nothing Matters"],type:"MCQs",correctAnswers:["Dear Lemon House, You Ruined Me: Senior Year"]},{question:"Kaonashi's name is derived from a character in which animated film by Studio Ghibli?",choices:["Princess Mononoke","Spirited Away","My Neighbor Totoro","Howl's Moving Castle"],type:"MCQs",correctAnswers:["Spirited Away"]},{question:"In 2020, Kaonashi released a split EP with another band. What is the title of that EP?",choices:["Brotherhood of the Snake","Crimson Thorn","Why Did You Do It?","Worlds I've Lost"],type:"MCQs",correctAnswers:["Worlds I've Lost"]},{question:"Proper. hails from which city in the United States?",choices:["Chicago","Los Angeles","New York","Philadelphia"],type:"MCQs",correctAnswers:["Philadelphia"]},{question:"What is the title of Proper.'s debut full-length album, released in 2019?",choices:["Always Something","It's Never Enough","Made Up Dreams","Be Your Own Someone"],type:"MCQs",correctAnswers:["Made Up Dreams"]}]}};!function(e){e[e.SplashScreen=0]="SplashScreen",e[e.QuizTopicsScreen=1]="QuizTopicsScreen",e[e.QuizDetailsScreen=2]="QuizDetailsScreen",e[e.QuestionScreen=3]="QuestionScreen",e[e.ResultScreen=4]="ResultScreen"}(Ue||(Ue={}));var Qe=n(184),Ge={currentScreen:Ue.SplashScreen,setCurrentScreen:function(){},quizTopic:"Coheed and Cambria",selectQuizTopic:function(){},questions:[],setQuestions:function(){},result:[],setResult:function(){},timer:15,setTimer:function(){},endTime:0,setEndTime:function(){},quizDetails:{totalQuestions:0,totalTime:0,selectedQuizTopic:"Coheed and Cambria"}},Ke=(0,t.createContext)(Ge);function He(){return(0,t.useContext)(Ke)}var Ye,$e,Je=function(e){var n=e.children,r=o((0,t.useState)(Ge.timer),2),i=r[0],a=r[1],s=o((0,t.useState)(Ge.endTime),2),u=s[0],c=s[1],l=o((0,t.useState)(Ge.quizTopic),2),f=l[0],h=l[1],d=o((0,t.useState)(Ge.result),2),p=d[0],v=d[1],m=o((0,t.useState)(Ge.currentScreen),2),y=m[0],g=m[1],b=o((0,t.useState)(We[Ge.quizTopic].questions),2),w=b[0],k=b[1],x=We[f],S=x.questions,C=x.totalQuestions,T=x.totalTime;(0,t.useEffect)((function(){a(T),k(S)}),[f]);var E={currentScreen:y,setCurrentScreen:g,quizTopic:f,selectQuizTopic:function(e){h(e)},questions:w,setQuestions:k,result:p,setResult:v,quizDetails:{totalQuestions:C,totalTime:T,selectedQuizTopic:f},timer:i,setTimer:a,endTime:u,setEndTime:c};return(0,Qe.jsx)(Ke.Provider,{value:E,children:n})};function Xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(n),!0).forEach((function(t){qe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function et(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tt(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var nt=["title","titleId"];function rt(){return rt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rt.apply(this,arguments)}function it(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function at(e,n){var r=e.title,i=e.titleId,a=it(e,nt);return t.createElement("svg",rt({xmlns:"http://www.w3.org/2000/svg",width:"133.000000pt",height:"144.000000pt",viewBox:"0 0 133.000000 144.000000",preserveAspectRatio:"xMidYMid meet",ref:n,"aria-labelledby":i},a),r?t.createElement("title",{id:i},r):null,Ye||(Ye=t.createElement("metadata",null,"\nCreated by potrace 1.10, written by Peter Selinger 2001-2011\n")),$e||($e=t.createElement("g",{transform:"translate(0.000000,144.000000) scale(0.100000,-0.100000)",fill:"#000000",stroke:"none"},t.createElement("path",{d:"M582 1364 c-12 -8 -22 -12 -22 -8 0 4 -9 -2 -20 -14 -12 -12 -25 -22 -30 -22 -5 0 -15 -7 -24 -15 -8 -8 -23 -16 -34 -18 -28 -4 -48 -23 -63 -60 -7 -18 -17 -35 -21 -38 -5 -3 -13 -45 -19 -92 -11 -80 -10 -89 6 -107 26 -29 11 -36 -21 -11 -56 44 -162 13 -203 -60 -26 -45 -24 -71 8 -143 18 -41 21 -43 81 -55 l63 -13 -34 -21 c-19 -11 -37 -20 -42 -19 -4 1 -7 -5 -7 -15 0 -9 -2 -14 -5 -11 -9 9 -65 -49 -65 -66 0 -9 -5 -16 -11 -16 -6 0 -8 -9 -4 -21 5 -16 3 -20 -6 -17 -8 3 -13 17 -12 32 1 14 -3 26 -8 26 -6 0 -8 -4 -4 -9 3 -5 -2 -16 -10 -24 -8 -9 -15 -32 -15 -53 0 -41 19 -104 32 -104 4 0 8 -8 8 -18 0 -10 8 -28 17 -42 9 -13 17 -35 17 -49 1 -39 95 -98 184 -115 75 -14 102 -10 200 30 32 13 42 8 22 -12 -16 -16 -15 -76 2 -109 24 -46 52 -66 100 -71 38 -3 39 -3 11 5 -38 10 -81 42 -76 57 2 7 -3 19 -12 27 -21 22 -19 59 6 91 20 25 47 38 33 15 -5 -8 -1 -8 14 0 12 6 24 16 27 21 15 24 95 2 127 -35 32 -38 11 -155 -29 -155 -6 0 -15 -4 -18 -10 -12 -19 48 10 68 33 27 32 49 77 37 77 -5 0 -10 8 -10 18 0 24 -56 108 -78 117 -22 10 -102 6 -124 -6 -11 -6 -5 10 18 48 19 31 34 63 34 70 0 7 8 13 18 13 17 0 57 -72 53 -97 -1 -6 2 -14 7 -17 9 -5 7 23 -4 79 l-5 30 143 2 143 2 23 28 c40 49 38 64 -17 136 -27 37 -59 77 -71 89 -11 12 -20 25 -20 30 0 12 28 10 35 -2 4 -6 15 -8 25 -5 10 3 21 2 24 -3 3 -5 16 -8 28 -5 42 7 100 -37 130 -97 32 -65 44 -178 22 -207 -7 -10 -14 -26 -14 -35 0 -25 -45 -73 -98 -104 -41 -25 -56 -28 -122 -26 -64 1 -88 3 -132 11 -5 0 -8 8 -8 16 0 9 -6 12 -15 9 -8 -4 -13 -10 -10 -14 8 -14 67 -40 75 -35 5 3 10 0 12 -6 2 -7 36 -11 88 -12 85 0 132 13 151 45 4 7 11 10 14 6 4 -3 -1 -19 -11 -34 -12 -18 -14 -26 -5 -23 7 3 12 8 11 13 -1 4 17 28 41 52 31 32 43 53 45 79 2 19 8 43 14 53 9 13 10 14 7 1 -3 -9 -2 -21 3 -28 5 -9 9 -4 12 13 3 15 1 29 -3 32 -5 3 -9 11 -9 17 0 7 4 6 10 -3 8 -12 10 -9 10 13 0 15 -1 28 -2 30 -1 1 3 11 9 22 8 15 8 30 -2 58 -10 29 -10 37 0 37 6 0 17 -10 22 -22 10 -20 11 -19 8 13 -2 42 -40 109 -61 109 -8 0 -14 3 -14 8 0 4 -8 12 -18 17 -44 24 -92 58 -92 64 0 4 11 14 25 21 45 24 62 134 28 190 -8 14 -26 33 -40 44 -34 25 -116 25 -152 -1 -54 -40 -82 -142 -54 -197 14 -27 14 -31 -3 -43 -25 -18 -30 -17 -54 17 -12 17 -26 30 -32 30 -7 0 -6 -5 2 -15 6 -8 9 -19 5 -25 -4 -6 -1 -9 6 -8 24 6 19 -19 -7 -31 -15 -6 -27 -10 -28 -9 -35 85 -77 113 -151 104 -87 -10 -108 -8 -100 11 3 8 5 17 5 19 0 2 7 4 15 4 8 0 15 5 15 10 0 6 12 10 27 10 24 0 25 1 10 13 -16 11 -16 14 -2 35 21 30 31 28 76 -13 22 -19 46 -35 54 -35 8 0 15 -7 15 -15 0 -8 7 -15 15 -15 19 0 19 16 0 24 -8 3 -14 11 -13 18 2 7 -2 12 -8 13 -5 0 -27 16 -49 37 -38 36 -38 36 -21 63 16 24 16 26 0 23 -9 -2 -19 3 -21 10 -3 6 2 12 11 12 9 0 16 7 16 15 0 11 -11 15 -40 15 -35 0 -39 -3 -37 -22 1 -14 -3 -22 -10 -21 -7 2 -17 -16 -24 -40 -6 -23 -17 -53 -25 -67 -8 -14 -19 -38 -24 -54 -10 -26 -12 -28 -26 -14 -8 8 -17 24 -18 34 -2 13 -10 18 -25 16 -14 -2 -24 4 -31 20 -6 13 -17 34 -25 48 -20 34 -19 106 2 141 10 16 21 29 25 29 4 0 5 6 2 14 -3 7 2 16 10 19 9 4 16 14 16 24 0 27 63 72 113 82 58 10 197 -11 197 -30 0 -5 5 -9 11 -9 17 0 74 -60 93 -98 9 -17 19 -58 22 -91 6 -54 3 -66 -27 -128 -18 -37 -35 -72 -38 -78 -2 -5 6 -1 19 10 32 27 80 137 80 180 0 20 -5 45 -10 56 -6 11 -8 24 -4 31 4 6 12 -1 20 -18 l13 -29 -6 30 c-8 44 -32 99 -40 92 -3 -4 0 -13 7 -21 6 -9 10 -21 8 -27 -2 -7 -16 8 -31 33 -15 25 -47 63 -73 84 -25 22 -53 46 -61 54 -17 15 -34 21 -70 24 -33 2 -28 26 5 27 l27 1 -25 8 c-42 14 -104 11 -128 -6z m-327 -384 c-3 -6 5 -10 19 -10 41 0 74 -21 86 -53 13 -38 13 -50 0 -42 -7 4 -10 -7 -8 -29 4 -64 -76 -114 -136 -84 -11 6 -27 14 -35 18 -22 10 -34 56 -27 104 7 45 32 66 77 66 16 0 19 5 14 20 -4 12 -2 20 5 20 6 0 8 -4 5 -10z m850 -20 c15 -6 29 -19 32 -30 3 -11 9 -20 14 -20 5 0 9 -7 9 -16 0 -8 -4 -13 -9 -9 -6 3 -11 -12 -13 -32 -2 -28 -9 -41 -26 -48 -12 -5 -25 -18 -28 -27 -6 -19 -11 -21 -64 -18 -52 3 -70 24 -70 82 0 53 19 101 47 117 23 13 75 14 108 1z m-630 -196 c-11 -17 -25 -24 -48 -24 -17 0 -42 -3 -54 -6 -14 -4 -23 -2 -23 5 0 6 10 11 23 11 16 0 18 3 9 9 -12 7 -11 14 2 39 9 17 16 42 16 56 0 24 2 23 46 -20 44 -44 45 -46 29 -70z m87 0 c6 -6 -13 -64 -22 -64 -22 1 -29 18 -17 43 11 25 27 34 39 21z m171 -12 c-2 -6 8 -19 22 -28 35 -23 32 -51 -12 -118 -33 -49 -41 -56 -70 -56 -18 0 -33 4 -33 10 0 5 -6 7 -13 4 -14 -5 -50 38 -62 76 l-8 24 38 -28 c27 -21 34 -24 27 -10 -6 11 -22 30 -36 43 -14 14 -26 30 -26 36 0 20 41 50 64 47 12 -2 33 2 46 7 32 13 66 9 63 -7z m-310 -54 c5 -15 -33 -86 -74 -140 -16 -20 -29 -40 -29 -44 0 -4 -7 -15 -15 -24 -14 -16 -14 -20 2 -48 17 -31 66 -57 84 -46 5 3 17 0 28 -6 13 -7 22 -7 26 0 8 12 195 13 195 1 0 -5 -7 -14 -15 -21 -8 -7 -15 -18 -15 -24 -1 -15 -44 -45 -72 -49 -15 -3 -23 -11 -23 -23 0 -28 -60 -54 -120 -52 -54 1 -74 10 -126 57 -18 17 -40 33 -49 36 -8 3 -24 24 -35 47 -25 51 -24 127 0 183 10 22 19 42 19 45 4 18 19 28 34 24 13 -5 14 -3 4 4 -10 7 -4 16 26 40 22 18 50 36 63 41 35 14 87 13 92 -1z m127 -58 c8 -23 20 -44 27 -47 7 -3 10 -9 7 -15 -8 -12 30 -40 75 -54 52 -16 54 -37 2 -32 -25 2 -42 -1 -45 -8 -6 -16 -104 -13 -115 4 -5 9 -20 10 -57 3 -56 -11 -63 -8 -46 19 7 11 12 25 12 31 0 6 21 44 46 85 53 83 70 86 94 14z m379 2 c7 -16 27 -46 46 -68 35 -40 47 -67 20 -44 -26 21 -16 -3 16 -40 23 -27 26 -29 14 -7 -21 33 -4 37 18 3 27 -41 5 -55 -88 -56 -81 -1 -102 1 -120 11 -5 4 -29 5 -52 4 -33 -1 -40 2 -36 14 11 37 27 61 40 61 16 0 17 12 1 28 -16 16 35 80 83 104 44 23 45 23 58 -10z m-543 -183 c19 -21 19 -21 -6 -18 -14 2 -26 12 -28 22 -5 23 11 22 34 -4z m332 -11 c21 -21 13 -27 -33 -24 -77 6 -72 16 16 35 3 0 10 -4 17 -11z"}))))}var ot,st,ut=t.forwardRef(at),ct=(n.p,["title","titleId"]);function lt(){return lt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lt.apply(this,arguments)}function ft(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ht(e,n){var r=e.title,i=e.titleId,a=ft(e,ct);return t.createElement("svg",lt({width:56,height:56,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":i},a),r?t.createElement("title",{id:i},r):null,ot||(ot=t.createElement("g",{clipPath:"url(#clip0_140_557)"},t.createElement("path",{d:"M1.5 28C1.5 13.3886 13.3886 1.5 28 1.5C42.6114 1.5 54.5 13.3886 54.5 28C54.5 42.6114 42.6114 54.5 28 54.5C13.3886 54.5 1.5 42.6114 1.5 28Z",stroke:"#800080",strokeWidth:3}),t.createElement("path",{d:"M42.1916 22.0662L27.0248 37.2325C26.5698 37.6876 25.9725 37.9166 25.3752 37.9166C24.778 37.9166 24.1807 37.6876 23.7256 37.2325L16.1425 29.6494C15.2299 28.7372 15.2299 27.2623 16.1425 26.3502C17.0546 25.4376 18.5291 25.4376 19.4416 26.3502L25.3752 32.2838L38.8925 18.767C39.8046 17.8544 41.279 17.8544 42.1916 18.767C43.1038 19.6791 43.1038 21.1536 42.1916 22.0662Z",fill:"#800080"}))),st||(st=t.createElement("defs",null,t.createElement("clipPath",{id:"clip0_140_557"},t.createElement("rect",{width:56,height:56,fill:"white"})))))}var dt,pt=t.forwardRef(ht),vt=(n.p,["title","titleId"]);function mt(){return mt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mt.apply(this,arguments)}function yt(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function gt(e,n){var r=e.title,i=e.titleId,a=yt(e,vt);return t.createElement("svg",mt({width:10,height:18,viewBox:"0 0 10 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":i},a),r?t.createElement("title",{id:i},r):null,dt||(dt=t.createElement("path",{d:"M6.87178 9.51297C6.8998 9.29313 6.8998 9.07068 6.87178 8.85084C6.82715 8.50072 6.65947 8.10978 6.17068 7.50115C5.6675 6.87459 4.92386 6.13514 3.83978 5.06068L1.1686 2.41324C0.72285 1.97144 0.71964 1.25195 1.16143 0.806192C1.60323 0.360437 2.32273 0.357229 2.76848 0.799023L5.48779 3.49417C6.51199 4.50923 7.34907 5.33885 7.94271 6.07805C8.56003 6.84672 9.0069 7.62694 9.12627 8.56348C9.17861 8.97412 9.17861 9.38969 9.12627 9.80033C9.0069 10.7369 8.56003 11.5171 7.94271 12.2858C7.34906 13.025 6.51198 13.8546 5.48777 14.8697L2.76848 17.5648C2.32273 18.0066 1.60323 18.0034 1.16143 17.5576C0.71964 17.1119 0.72285 16.3924 1.1686 15.9506L3.83977 13.3031C4.92386 12.2287 5.6675 11.4892 6.17068 10.8627C6.65947 10.254 6.82715 9.86309 6.87178 9.51297Z",fill:"#9fa3a9"})))}var bt,wt=t.forwardRef(gt),kt=(n.p,["title","titleId"]);function xt(){return xt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xt.apply(this,arguments)}function St(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ct(e,n){var r=e.title,i=e.titleId,a=St(e,kt);return t.createElement("svg",xt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 10 18",height:18,width:10,ref:n,"aria-labelledby":i},a),r?t.createElement("title",{id:i},r):null,bt||(bt=t.createElement("g",{xmlns:"http://www.w3.org/2000/svg",transform:"matrix(-1 0 0 -1 10 18)"},t.createElement("path",{d:"M6.87178 9.51297C6.8998 9.29313 6.8998 9.07068 6.87178 8.85084C6.82715 8.50072 6.65947 8.10978 6.17068 7.50115C5.6675 6.87459 4.92386 6.13514 3.83978 5.06068L1.1686 2.41324C0.72285 1.97144 0.71964 1.25195 1.16143 0.806192C1.60323 0.360437 2.32273 0.357229 2.76848 0.799023L5.48779 3.49417C6.51199 4.50923 7.34907 5.33885 7.94271 6.07805C8.56003 6.84672 9.0069 7.62694 9.12627 8.56348C9.17861 8.97412 9.17861 9.38969 9.12627 9.80033C9.0069 10.7369 8.56003 11.5171 7.94271 12.2858C7.34906 13.025 6.51198 13.8546 5.48777 14.8697L2.76848 17.5648C2.32273 18.0066 1.60323 18.0034 1.16143 17.5576C0.71964 17.1119 0.72285 16.3924 1.1686 15.9506L3.83977 13.3031C4.92386 12.2287 5.6675 11.4892 6.17068 10.8627C6.65947 10.254 6.82715 9.86309 6.87178 9.51297Z",fill:"#9fa3a9"}))))}var Tt,Et,_t,It=t.forwardRef(Ct),At=(n.p,["title","titleId"]);function Dt(){return Dt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dt.apply(this,arguments)}function Nt(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Mt(e,n){var r=e.title,i=e.titleId,a=Nt(e,At);return t.createElement("svg",Dt({width:26,height:26,viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":i},a),r?t.createElement("title",{id:i},r):null,Tt||(Tt=t.createElement("path",{d:"M12.9999 24.6459C7.36659 24.6459 2.79492 20.0634 2.79492 14.4409C2.79492 8.81843 7.36659 4.2251 12.9999 4.2251C14.1591 4.2251 15.2858 4.3876 16.3691 4.72343C16.8024 4.85343 17.0408 5.30843 16.9108 5.74176C16.7808 6.1751 16.3258 6.41343 15.8924 6.28343C14.9716 6.00176 13.9966 5.8501 12.9999 5.8501C8.26576 5.8501 4.41992 9.69593 4.41992 14.4301C4.41992 19.1643 8.26576 23.0101 12.9999 23.0101C17.7341 23.0101 21.5799 19.1643 21.5799 14.4301C21.5799 12.7184 21.0816 11.0718 20.1391 9.66343C19.8899 9.2951 19.9874 8.78593 20.3666 8.53676C20.7349 8.2876 21.2441 8.3851 21.4933 8.76426C22.6199 10.4434 23.2158 12.4043 23.2158 14.4409C23.2049 20.0634 18.6333 24.6459 12.9999 24.6459Z",fill:"white"})),Et||(Et=t.createElement("path",{d:"M17.4742 6.57573C17.2467 6.57573 17.0192 6.47823 16.8567 6.29407L13.7258 2.6974C13.4333 2.36157 13.4658 1.84157 13.8017 1.54907C14.1375 1.25657 14.6575 1.28907 14.95 1.6249L18.0808 5.22157C18.3733 5.5574 18.3408 6.0774 18.005 6.3699C17.8642 6.51073 17.6692 6.57573 17.4742 6.57573Z",fill:"white"})),_t||(_t=t.createElement("path",{d:"M13.8234 9.24089C13.5742 9.24089 13.3251 9.12172 13.1626 8.90505C12.9026 8.54755 12.9784 8.03839 13.3359 7.76755L16.9867 5.10255C17.3442 4.83172 17.8534 4.91839 18.1242 5.27589C18.3951 5.63339 18.3084 6.14255 17.9509 6.41339L14.3001 9.08922C14.1592 9.19755 13.9967 9.24089 13.8234 9.24089Z",fill:"white"})))}var Pt,Ot,Rt,Lt=t.forwardRef(Mt),Ft=(n.p,["title","titleId"]);function Bt(){return Bt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bt.apply(this,arguments)}function zt(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Vt(e,n){var r=e.title,i=e.titleId,a=zt(e,Ft);return t.createElement("svg",Bt({width:44,height:44,viewBox:"0 0 44 44",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":i},a),r?t.createElement("title",{id:i},r):null,Pt||(Pt=t.createElement("path",{d:"M21.9999 41.7083C12.3933 41.7083 4.58325 33.8983 4.58325 24.2917C4.58325 14.685 12.3933 6.875 21.9999 6.875C31.6066 6.875 39.4166 14.685 39.4166 24.2917C39.4166 33.8983 31.6066 41.7083 21.9999 41.7083ZM21.9999 9.625C13.9149 9.625 7.33325 16.2067 7.33325 24.2917C7.33325 32.3767 13.9149 38.9583 21.9999 38.9583C30.0849 38.9583 36.6666 32.3767 36.6666 24.2917C36.6666 16.2067 30.0849 9.625 21.9999 9.625Z",fill:"#800080"})),Ot||(Ot=t.createElement("path",{d:"M22 25.2084C21.2483 25.2084 20.625 24.5851 20.625 23.8334V14.6667C20.625 13.9151 21.2483 13.2917 22 13.2917C22.7517 13.2917 23.375 13.9151 23.375 14.6667V23.8334C23.375 24.5851 22.7517 25.2084 22 25.2084Z",fill:"#800080"})),Rt||(Rt=t.createElement("path",{d:"M27.5 5.04175H16.5C15.7483 5.04175 15.125 4.41841 15.125 3.66675C15.125 2.91508 15.7483 2.29175 16.5 2.29175H27.5C28.2517 2.29175 28.875 2.91508 28.875 3.66675C28.875 4.41841 28.2517 5.04175 27.5 5.04175Z",fill:"#800080"})))}var jt,qt=t.forwardRef(Vt),Ut=(n.p,["title","titleId"]);function Wt(){return Wt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wt.apply(this,arguments)}function Qt(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Gt(e,n){var r=e.title,i=e.titleId,a=Qt(e,Ut);return t.createElement("svg",Wt({width:18,height:20,viewBox:"0 0 18 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":i},a),r?t.createElement("title",{id:i},r):null,jt||(jt=t.createElement("path",{d:"M0.700012 4.02495V15.9875C0.700012 18.4375 3.36251 19.975 5.48751 18.75L10.675 15.7625L15.8625 12.7625C17.9875 11.5375 17.9875 8.47495 15.8625 7.24995L10.675 4.24995L5.48751 1.26245C3.36251 0.0374511 0.700012 1.56245 0.700012 4.02495Z",fill:"white"})))}var Kt,Ht,Yt,$t,Jt,Xt,Zt,en,tn,nn=t.forwardRef(Gt),rn=(n.p,["title","titleId"]);function an(){return an=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},an.apply(this,arguments)}function on(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function sn(e,n){var r=e.title,i=e.titleId,a=on(e,rn);return t.createElement("svg",an({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":i},a),r?t.createElement("title",{id:i},r):null,Kt||(Kt=t.createElement("path",{d:"M7.99967 0.833618C8.27582 0.833618 8.49967 1.05748 8.49967 1.33362V2.00028C8.49967 2.27643 8.27582 2.50028 7.99967 2.50028C7.72353 2.50028 7.49967 2.27643 7.49967 2.00028V1.33362C7.49967 1.05748 7.72353 0.833618 7.99967 0.833618Z",fill:"#E9EAF0"})),Ht||(Ht=t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.16634 8.00029C4.16634 5.88319 5.88258 4.16695 7.99967 4.16695C10.1168 4.16695 11.833 5.88319 11.833 8.00029C11.833 10.1174 10.1168 11.8336 7.99967 11.8336C5.88258 11.8336 4.16634 10.1174 4.16634 8.00029ZM7.99967 5.16695C6.43487 5.16695 5.16634 6.43548 5.16634 8.00029C5.16634 9.56509 6.43487 10.8336 7.99967 10.8336C9.56448 10.8336 10.833 9.56509 10.833 8.00029C10.833 6.43548 9.56448 5.16695 7.99967 5.16695Z",fill:"#E9EAF0"})),Yt||(Yt=t.createElement("path",{d:"M3.63919 2.9327C3.44393 2.73744 3.12735 2.73744 2.93209 2.9327C2.73682 3.12796 2.73682 3.44455 2.93209 3.63981L3.40349 4.11121C3.59875 4.30648 3.91533 4.30648 4.1106 4.11121C4.30586 3.91595 4.30586 3.59937 4.1106 3.40411L3.63919 2.9327Z",fill:"#E9EAF0"})),$t||($t=t.createElement("path",{d:"M15.1663 8.00029C15.1663 8.27643 14.9425 8.50029 14.6663 8.50029H13.9997C13.7235 8.50029 13.4997 8.27643 13.4997 8.00029C13.4997 7.72414 13.7235 7.50029 13.9997 7.50029H14.6663C14.9425 7.50029 15.1663 7.72414 15.1663 8.00029Z",fill:"#E9EAF0"})),Jt||(Jt=t.createElement("path",{d:"M13.0673 3.6398C13.2625 3.44454 13.2625 3.12796 13.0673 2.9327C12.872 2.73743 12.5554 2.73743 12.3602 2.9327L11.8887 3.4041C11.6935 3.59936 11.6935 3.91594 11.8887 4.11121C12.084 4.30647 12.4006 4.30647 12.5959 4.11121L13.0673 3.6398Z",fill:"#E9EAF0"})),Xt||(Xt=t.createElement("path",{d:"M7.99967 13.5003C8.27582 13.5003 8.49967 13.7241 8.49967 14.0003V14.667C8.49967 14.9431 8.27582 15.167 7.99967 15.167C7.72353 15.167 7.49967 14.9431 7.49967 14.667V14.0003C7.49967 13.7241 7.72353 13.5003 7.99967 13.5003Z",fill:"#E9EAF0"})),Zt||(Zt=t.createElement("path",{d:"M12.5959 11.8894C12.4006 11.6941 12.0841 11.6941 11.8888 11.8894C11.6935 12.0846 11.6935 12.4012 11.8888 12.5965L12.3602 13.0679C12.5555 13.2631 12.872 13.2631 13.0673 13.0679C13.2626 12.8726 13.2626 12.556 13.0673 12.3608L12.5959 11.8894Z",fill:"#E9EAF0"})),en||(en=t.createElement("path",{d:"M2.49967 8.00029C2.49967 8.27643 2.27582 8.50029 1.99967 8.50029H1.33301C1.05687 8.50029 0.833008 8.27643 0.833008 8.00029C0.833008 7.72414 1.05687 7.50029 1.33301 7.50029H1.99967C2.27582 7.50029 2.49967 7.72414 2.49967 8.00029Z",fill:"#E9EAF0"})),tn||(tn=t.createElement("path",{d:"M4.11055 12.5965C4.30581 12.4012 4.30581 12.0846 4.11055 11.8894C3.91529 11.6941 3.59871 11.6941 3.40345 11.8894L2.93204 12.3608C2.73678 12.556 2.73678 12.8726 2.93204 13.0679C3.1273 13.2631 3.44389 13.2631 3.63915 13.0679L4.11055 12.5965Z",fill:"#E9EAF0"})))}var un,cn=t.forwardRef(sn),ln=(n.p,["title","titleId"]);function fn(){return fn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fn.apply(this,arguments)}function hn(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function dn(e,n){var r=e.title,i=e.titleId,a=hn(e,ln);return t.createElement("svg",fn({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":i},a),r?t.createElement("title",{id:i},r):null,un||(un=t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.65784 3.17857C5.14829 3.35425 3.16699 5.44573 3.16699 7.99996C3.16699 10.6693 5.33095 12.8333 8.00033 12.8333C10.1389 12.8333 11.9535 11.4441 12.5902 9.51907C12.1001 9.72153 11.5631 9.83329 11.0003 9.83329C8.69914 9.83329 6.83366 7.96781 6.83366 5.66663C6.83366 4.73386 7.1404 3.87269 7.65784 3.17857ZM2.16699 7.99996C2.16699 4.7783 4.77866 2.16663 8.00033 2.16663C8.30007 2.16663 8.59484 2.18928 8.88296 2.23304C9.08227 2.26331 9.2439 2.41032 9.29289 2.60587C9.34188 2.80142 9.26863 3.00726 9.10714 3.12792C8.33315 3.70619 7.83366 4.62801 7.83366 5.66663C7.83366 7.41553 9.25142 8.83329 11.0003 8.83329C11.7565 8.83329 12.4495 8.56889 12.994 8.12705C13.1505 8.00009 13.3679 7.97945 13.5454 8.07469C13.723 8.16994 13.826 8.36245 13.8068 8.56303C13.5232 11.5208 11.0321 13.8333 8.00033 13.8333C4.77866 13.8333 2.16699 11.2216 2.16699 7.99996Z",fill:"#282526"})))}var pn=t.forwardRef(dn),vn=(n.p,function(e){return e>9?e:"0"+e});function mn(e){var t=Math.floor(e/60),n=e%60;return"".concat(t,":").concat(n.toString().padStart(2,"0"))}var yn,gn,bn,wn,kn,xn,Sn,Cn,Tn,En,_n,In,An,Dn,Nn,Mn,Pn,On,Rn,Ln,Fn,Bn,zn,Vn,jn,qn,Un,Wn,Qn,Gn,Kn,Hn,Yn,$n,Jn,Xn,Zn,er=function(e){var t=Math.floor(e/3600),n=Math.floor(e%3600/60),r=e%60,i=t>0?"".concat(t," hour").concat(t>1?"s":""):"",a=n>0?"".concat(n," minute").concat(n>1?"s":""):"",o=r>0?"".concat(r," second").concat(r>1?"s":""):"";return t>0?"".concat(i," : ").concat(a||"0 minute"," ").concat(o&&": ".concat(o)):!t&&n>0?"".concat(a," ").concat(o&&": ".concat(o)):o},tr=function(){var e=He(),n=e.setQuestions,r=e.currentScreen,i=e.questions;(0,t.useEffect)((function(){r===Ue.QuizDetailsScreen&&n(function(e){for(var t=et(e),n=t.length-1;n>0;n--){var r=Math.floor(Math.random()*(n+1)),i=[t[r],t[n]];t[n]=i[0],t[r]=i[1]}return t}(i))}),[r])},nr=function(e,n,r,i,a,o){(0,t.useEffect)((function(){if(e<=0){var t=n.totalTime;r(t),a(!0),i(0)}}),[e,n.totalTime,r,a,i]),(0,t.useEffect)((function(){if(!o){var e=setTimeout((function(){i((function(e){return e-1}))}),1e3);return function(){return clearTimeout(e)}}}),[e,i])},rr="600px",ir="900px",ar="1280px",or="1440px",sr="1920px",ur={xs:"(max-width: ".concat("400px",")"),sm:"(max-width: ".concat(rr,")"),md:"(max-width: ".concat(ir,")"),lg:"(max-width: ".concat(ar,")"),xl:"(max-width: ".concat(or,")"),xxl:"(max-width: ".concat(sr,")")},cr=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=ke.apply(void 0,[e].concat(r)),o="sc-global-"+Ee(JSON.stringify(a)),s=new Fe(a,o);function u(e){var n=ce(),r=le(),i=(0,t.useContext)(Me),a=(0,t.useRef)(n.allocateGSInstance(o)).current;return n.server&&c(a,e,n,i,r),(0,t.useLayoutEffect)((function(){if(!n.server)return c(a,e,n,i,r),function(){return s.removeStyles(a,n)}}),[a,e,n,i,r]),null}function c(e,t,n,r,i){if(s.isStatic)s.renderStyles(e,_,n,i);else{var a=m({},t,{theme:xe(t,r,u.defaultProps)});s.renderStyles(e,a,n,i)}}return t.memo(u)}(yn||(yn=tt(["\n "," // this works as a normal styled css\n \n/* Box sizing rules */\n*,\n*::before,\n*::after {\n  box-sizing: border-box;\n}\n\nhtml {\n  font-size: 100%;\n}\n\nbody {\n  margin: 0;\n  padding: 0;\n  overflow-x: hidden;\n  min-height: 100vh;\n  text-rendering: optimizeSpeed;\n  font-family: ",", sans-serif;\n  font-size: 1rem;\n  color: ",";\n  background: ",';\n  line-height: 1;\n  overflow-x: hidden;\n  position: relative;\n}\nh1,\nh2,\nh3,\nh4,\nh5,\nh6,\np,\nul,\nfigure,\nblockquote,\ndl,\ncaption,\ndd {\n  padding: 0;\n  margin: 0;\n}\nbutton {\n  border: none;\n  background-color: transparent;\n  font-family: inherit;\n  padding: 0;\n  cursor: pointer;\n}\n/* Remove list styles on ul, ol elements with a list role, which suggests default styling will be removed */\nul[role="list"],\nol[role="list"] {\n  list-style: none;\n}\nli {\n  list-style-type: none;\n}\n/* Set core root defaults */\nhtml:focus-within {\n  scroll-behavior: smooth;\n}\n/* A elements that don\'t have a class get default styles */\na:not([class]) {\n  text-decoration-skip-ink: auto;\n}\n\n/* Make images easier to work with */\nimg,\npicture {\n  max-width: 100%;\n  display: block;\n}\n/* Inherit fonts for inputs and buttons */\ninput,\nbutton,\ntextarea,\nselect {\n  font: inherit;\n}\n/* Remove all animations, transitions and smooth scroll for people that prefer not to see them */\n@media (prefers-reduced-motion: reduce) {\n  html:focus-within {\n    scroll-behavior: auto;\n  }\n\n  *,\n  *::before,\n  *::after {\n    animation-duration: 0.01ms !important;\n    animation-iteration-count: 1 !important;\n    transition-duration: 0.01ms !important;\n    scroll-behavior: auto !important;\n  }\n}\n'])),{},(function(e){return e.theme.fonts.anekMalayalam}),(function(e){return e.theme.colors.themeText}),(function(e){return e.theme.colors.background})),lr=(ze.div(gn||(gn=tt(["\n  width: 100%;\n  max-width: 1360px;\n  margin: 0 auto;\n  padding: 0 ",";\n"])),(function(e){return e.theme.paddings.container})),ze.div(bn||(bn=tt(["\n  margin-top: calc("," * 1px);\n  ","\n"])),(function(e){return e.mt}),(function(e){return e.flxRight&&ke(wn||(wn=tt(["\n      display: flex;\n      justify-content: flex-end;\n    "])))})),ze.div(kn||(kn=tt(["\n  background: ",";\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 20px;\n  padding-top: 50px;\n  // due to flex direction column\n  ","\n"])),(function(e){var t=e.light,n=e.theme;return"".concat(t?n.colors.background:n.colors.themeGradient)}),(function(e){return e.justifyCenter&&ke(xn||(xn=tt(["\n      justify-content: center;\n    "])))}))),fr=ze.div(Sn||(Sn=tt(["\n  display: flex;\n  ","\n  ","\n  ","\n  ","\n"])),(function(e){return e.center&&ke(Cn||(Cn=tt(["\n      justify-content: center;\n      align-items: center;\n    "])))}),(function(e){return e.spaceBetween&&ke(Tn||(Tn=tt(["\n      justify-content: space-between;\n      align-items: center;\n    "])))}),(function(e){return e.flxEnd&&ke(En||(En=tt(["\n      justify-content: flex-end;\n      align-items: center;\n    "])))}),(function(e){var t=e.gap;return t&&ke(_n||(_n=tt(["\n      gap: ",";\n    "])),t)})),hr=ze.div(In||(In=tt(["\n  background: ",";\n  border-radius: 4px;\n  min-width: 773px;\n  min-height: 620px;\n  padding: 50px 10px 60px 10px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  @media "," {\n    min-width: 100%;\n  }\n"])),(function(e){return e.theme.colors.cardBackground}),ur.md),dr=ze.span(An||(An=tt(["\n  color: ",";\n"])),(function(e){var t=e.themeText,n=e.theme;return t?n.colors.themeText:n.colors.themeColor})),pr=ze.div(Dn||(Dn=tt(["\n  text-align: center;\n  margin-bottom: 50px;\n  @media "," {\n    margin-bottom: 30px;\n  }\n  svg {\n    width: 220px;\n    rect {\n      stroke: ",";\n    }\n    path {\n      fill: ",";\n    }\n  }\n"])),ur.md,(function(e){return e.theme.colors.appLogo}),(function(e){return e.theme.colors.appLogo})),vr=ze.div(Nn||(Nn=tt(["\n  width: ",";\n"])),(function(e){return"string"===typeof e.width?e.width:"".concat(e.width,"px")})),mr=ze.button.attrs((function(e){return{outline:e.outline,bold:e.bold,big:e.big}}))(Mn||(Mn=tt(["\n  width: 195px;\n  min-height: 50px;\n  color: ",";\n  background: ",";\n  font-size: clamp(16px, 5vw, 24px);\n  border: 1px solid\n    ",";\n  font-weight: ",";\n  border-radius: 9px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  @media "," {\n    width: ",";\n    min-height: 40px;\n    tap-highlight-color: transparent;\n    -webkit-tap-highlight-color: transparent;\n  }\n  &:active {\n    transform: scale(0.98);\n    box-shadow: ",";\n    transition: 0.2s all;\n  }\n  &:disabled {\n    background: ",";\n    color: ",";\n    cursor: not-allowed;\n    transform: unset;\n    box-shadow: unset;\n  }\n"])),(function(e){var t=e.theme;return e.outline?t.colors.outlineButtonText:t.colors.buttonText}),(function(e){var t=e.theme;return e.outline?t.colors.cardBackground:t.colors.buttonBackground}),(function(e){var t=e.theme;return e.outline?t.colors.themeColor:"none"}),(function(e){return e.bold?"700":"400"}),ur.md,(function(e){return e.big?"180px":"150px"}),(function(e){return e.theme.shadows.activeButton}),(function(e){return e.theme.colors.disabledButton}),(function(e){return e.theme.colors.darkGray})),yr=ze.span(Pn||(Pn=tt(["\n  margin-right: 10px;\n  display: flex;\n  svg {\n    path {\n      fill: ",";\n    }\n  }\n"])),(function(e){return e.theme.colors.buttonText})),gr=ze.span(On||(On=tt(["\n  margin-left: 20px;\n  display: flex;\n  svg {\n    path {\n      fill: ",";\n    }\n  }\n"])),(function(e){return e.theme.colors.buttonText})),br=function(e){var t=e.text,n=e.onClick,r=e.icon,i=e.iconPosition,a=e.outline,o=e.bold,s=e.big,u=e.disabled;return(0,Qe.jsxs)(mr,{onClick:n,outline:a,bold:o,big:s,disabled:u,children:[r&&"left"===i&&(0,Qe.jsx)(yr,{children:r}),t,r&&"right"===i&&(0,Qe.jsx)(gr,{children:r})]})},wr=ze.div(Rn||(Rn=tt(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 15px;\n"]))),kr=ze.div(Ln||(Ln=tt(["\n  width: 600px;\n  padding: 50px 25px;\n  background: ",";\n  border-radius: 10px;\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n"])),(function(e){return e.theme.colors.cardBackground})),xr=ze.h6(Fn||(Fn=tt(["\n  font-size: clamp(24px, 4vw, 32px);\n  font-weight: 700;\n  color: ",";\n  margin-top: 26px;\n  margin-bottom: 20px;\n"])),(function(e){return e.theme.colors.themeColor})),Sr=ze.p(Bn||(Bn=tt(["\n  font-size: 24px;\n  font-size: clamp(18px, 4vw, 24px);\n  font-weight: 500;\n  text-align: center;\n  line-height: 1.3;\n  color: ",";\n  margin-bottom: clamp(18px, calc(18px + 28 * ((100vw - 600px) / 1320)), 48px);\n"])),(function(e){return e.theme.colors.primaryText})),Cr=function(e){var t=e.title,n=e.subtitle,r=e.icon,i=e.buttonTitle,a=e.onClick;return(0,Qe.jsx)(wr,{children:(0,Qe.jsxs)(kr,{children:[r,(0,Qe.jsx)(xr,{children:t}),(0,Qe.jsx)(Sr,{children:n}),(0,Qe.jsx)(br,{text:i,onClick:a,bold:!0,big:!0})]})})},Tr=ze.div(zn||(zn=tt(["\n  font-size: clamp(18px, 4vw, 16px);\n  color: ",";\n  font-weight: 400;\n  border: 1px solid\n    ",";\n  background-color: ",";\n  border-radius: 16px;\n  margin-top: clamp(13px, calc(10px + 6 * ((100vw - 600px) / 1320)), 16px);\n  cursor: pointer;\n  ","\n  @media "," {\n    font-weight: 500;\n  }\n  input {\n    visibility: hidden;\n    margin: 0;\n  }\n"])),(function(e){return e.theme.colors.secondaryText}),(function(e){var t=e.highlightAnswer,n=e.theme;return"".concat(t?n.colors.themeColor:n.colors.border)}),(function(e){var t=e.highlightAnswer,n=e.theme;return"".concat(t?n.colors.selectedAnswer:n.colors.answerBg)}),(function(e){return e.highlightAnswer&&ke(Vn||(Vn=tt(["\n      transition: border 0.2s ease-in;\n    "])))}),ur.md),Er=ze.label(jn||(jn=tt(["\n  padding: 18px;\n  display: flex;\n  cursor: pointer;\n  @media "," {\n    padding: 14px;\n  }\n"])),ur.md),_r=ze.span(qn||(qn=tt([""]))),Ir=function(e){var t=e.onChange,n=e.index,r=e.choice,i=e.type,a=e.selectedAnswer,o=String.fromCharCode(65+n);return(0,Qe.jsx)(Tr,{highlightAnswer:a.includes(r),children:(0,Qe.jsxs)(Er,{children:[(0,Qe.jsxs)(_r,{children:[o,"."]}),(0,Qe.jsx)("input",{name:r,type:"MAQs"===i?"checkbox":"radio",checked:a.includes(r),onChange:t}),r]})},n)},Ar=ze.img(Un||(Un=tt(["\n  border-radius: 10px;\n  height: 400px;\n  max-width: 100%;\n  box-shadow: 6px 6px 2px ",";\n  margin-bottom: 20px;\n"])),(function(e){return e.theme.colors.themeColor})),Dr=function(e){var t=e.image;return(0,Qe.jsx)(Ar,{src:t,alt:"picture quiz"})},Nr=ze.div(Wn||(Wn=tt(["\n  margin-top: 30px;\n  margin-bottom: 40px;\n  max-width: 88%;\n  @media "," {\n    max-width: 100%;\n  }\n"])),ur.sm),Mr=ze.div(Qn||(Qn=tt(["\n  max-width: 78%;\n  @media "," {\n    max-width: 100%;\n  }\n"])),ur.sm),Pr=ze.h2(Gn||(Gn=tt(["\n  font-size: clamp(18px, 4vw, 28px);\n  font-weight: 500;\n  margin-bottom: 25px;\n  color: ",";\n  line-height: 1.3;\n"])),(function(e){return e.theme.colors.primaryText})),Or=function(e){var t=e.question,n=e.image,r=e.type,i=e.choices,a=e.selectedAnswer,o=e.handleAnswerSelection;return(0,Qe.jsxs)(Nr,{children:[(0,Qe.jsx)(Pr,{children:t}),n&&(0,Qe.jsx)(Dr,{image:n}),(0,Qe.jsx)(Mr,{children:i.map((function(e,t){return(0,Qe.jsx)(Ir,{choice:e,index:t,onChange:function(e){return o(e,t)},type:r,selectedAnswer:a},t)}))})]})},Rr=ze.span(Kn||(Kn=tt(["\n  min-width: 60px;\n  font-size: clamp(16px, 5vw, 24px);\n  font-weight: 500;\n  margin-left: 8px;\n  color: ",";\n  @media "," {\n    margin-left: 5px;\n    min-width: 55px;\n  }\n"])),(function(e){return e.theme.colors.themeColor}),ur.md),Lr=function(e){var t=e.time;return(0,Qe.jsxs)(fr,{center:!0,children:[(0,Qe.jsx)(qt,{}),(0,Qe.jsx)(Rr,{children:t})]})},Fr=ze.span(Hn||(Hn=tt(["\n  font-size: clamp(40px, 5vw, 60px);\n  font-weight: 500;\n  color: ",";\n"])),(function(e){return e.theme.colors.themeColor})),Br=ze.span(Yn||(Yn=tt(["\n  font-size: clamp(12px, 4vw, 16px);\n  font-weight: 700;\n  color: ",";\n  background: ",";\n  border-radius: 15px;\n  margin-right: 13px;\n  display: inline-block;\n  padding: 15px 20px;\n  text-align: center;\n  @media "," {\n    padding: 12px 15px;\n  }\n"])),(function(e){return e.theme.colors.infoText}),(function(e){return e.theme.colors.infoBackground}),ur.md),zr=ze.span($n||($n=tt(["\n  font-size: clamp(20px, 5vw, 30px);\n  font-weight: 500;\n  color: ",";\n"])),(function(e){return e.theme.colors.darkerGray})),Vr=function(e){var t=e.activeQuestion,n=e.totalQuestions,r=e.timer,i=e.skipped;return(0,Qe.jsxs)(fr,{spaceBetween:!0,gap:"6px",children:[(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)(Fr,{children:vn(t+1)}),(0,Qe.jsxs)(zr,{children:["/",vn(n)]})]}),(0,Qe.jsxs)(fr,{children:[i&&(0,Qe.jsx)(Br,{children:"Skipped Question"}),(0,Qe.jsx)(Lr,{time:"".concat(mn(r))})]})]})},jr=ze.div(Jn||(Jn=tt(["\n  width: 900px;\n  min-height: 500px;\n  background: ",";\n  border-radius: 4px;\n  padding: 30px 60px 80px 60px;\n  margin-bottom: 70px;\n  position: relative;\n  @media "," {\n    width: 100%;\n    padding: 15px 15px 80px 15px;\n  }\n  button {\n    span {\n      svg {\n        path {\n          fill: ",";\n        }\n      }\n    }\n  }\n"])),(function(e){return e.theme.colors.cardBackground}),ur.md,(function(e){var t=e.selectedAnswer,n=e.theme;return"".concat(t?n.colors.buttonText:n.colors.darkGray)})),qr=ze.div(Xn||(Xn=tt(["\n  margin-top: 50px;\n  margin-bottom: 50px;\n  @media "," {\n    margin-top: 10px;\n    margin-bottom: 20px;\n    svg {\n      width: 185px;\n      height: 80px;\n    }\n  }\n"])),ur.md),Ur=ze.div(Zn||(Zn=tt(["\n  position: absolute;\n  right: 60px;\n  bottom: 30px;\n  display: flex;\n  gap: 20px;\n  @media "," {\n    justify-content: flex-end;\n    width: 90%;\n    right: 15px;\n  }\n"])),ur.sm),Wr=function(){var e=o((0,t.useState)(0),2),n=e[0],r=e[1],i=o((0,t.useState)([]),2),a=i[0],s=i[1],u=o((0,t.useState)(!1),2),c=u[0],l=u[1],f=o((0,t.useState)(!1),2),h=f[0],d=f[1],p=He(),v=p.questions,m=p.setQuestions,y=p.quizDetails,g=p.result,b=p.setResult,w=p.setCurrentScreen,k=p.timer,x=p.setTimer,S=p.setEndTime,C=v[n],T=C.question,E=C.type,_=C.choices,I=C.image,A=C.correctAnswers;return(0,t.useEffect)((function(){(c||h)&&(document.body.style.overflow="hidden")}),[c,h]),nr(k,y,S,x,l,h),(0,Qe.jsxs)(lr,{children:[(0,Qe.jsx)(qr,{children:(0,Qe.jsx)(ut,{})}),(0,Qe.jsxs)(jr,{selectedAnswer:a.length>0,children:[(0,Qe.jsx)(Vr,{activeQuestion:n,totalQuestions:y.totalQuestions,timer:k,skipped:null===C||void 0===C?void 0:C.skipped}),(0,Qe.jsx)(Or,{question:T,image:I,choices:_,type:E,handleAnswerSelection:function(e){var t=e.target,n=t.name,r=t.checked;"MAQs"===E&&(a.includes(n)?s((function(e){return e.filter((function(e){return e!==n}))})):s((function(e){return[].concat(et(e),[n])}))),"MCQs"!==E&&"boolean"!==E||r&&s([n])},selectedAnswer:a}),(0,Qe.jsxs)(Ur,{children:[(0,Qe.jsx)(br,{text:"Previous",onClick:function(){n>0&&r(n-1)},icon:(0,Qe.jsx)(It,{}),iconPosition:"left",disabled:0===n}),!(null!==C&&void 0!==C&&C.skipped)&&(0,Qe.jsx)(br,{text:"Skip",onClick:function(){var e=v.filter((function(e){return e.question!==C.question}));m([].concat(et(e),[Ze(Ze({},C),{},{skipped:!0})])),s([])},outline:!0}),(0,Qe.jsx)(br,{text:n===v.length-1?"Finish":"Next",onClick:function(){var e=a.length===A.length&&a.every((function(e){return A.includes(e)}));if(b([].concat(et(g),[Ze(Ze({},C),{},{selectedAnswer:a,isMatch:e})])),n!==v.length-1)r((function(e){return e+1}));else{var t=y.totalTime-k;S(t),d(!0)}s([])},icon:(0,Qe.jsx)(wt,{}),iconPosition:"right",disabled:0===a.length})]})]}),(c||h)&&(0,Qe.jsx)(Cr,{title:h?"Done!":"Your time is up!",subtitle:"You have attempted ".concat(g.length," questions in total."),onClick:function(){w(Ue.ResultScreen),document.body.style.overflow="auto"},icon:h?(0,Qe.jsx)(pt,{}):(0,Qe.jsx)(qt,{}),buttonTitle:"SHOW RESULT"})]})};function Qr(){Qr=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(I){u=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),s=new T(i||[]);return r(o,"_invoke",{value:k(e,n,s)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(I){return{type:"throw",arg:I}}}e.wrap=c;var f={};function h(){}function d(){}function p(){}var v={};u(v,a,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(E([])));y&&y!==t&&n.call(y,a)&&(v=y);var g=p.prototype=h.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(r,a,o,s){var u=l(e[r],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==Ve(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,s)}),(function(e){i("throw",e,o,s)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function k(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return _()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=x(o,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function E(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:_}}function _(){return{value:void 0,done:!0}}return d.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),u(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new w(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(g),u(g,s,"Generator"),u(g,a,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=E,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function Gr(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function Kr(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Gr(a,r,i,o,s,"next",e)}function s(e){Gr(a,r,i,o,s,"throw",e)}o(void 0)}))}}function Hr(e,t){return Hr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Hr(e,t)}function Yr(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function $r(e,t,n){return $r=Yr()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Hr(i,n.prototype),i},$r.apply(null,arguments)}function Jr(e){return Jr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Jr(e)}function Xr(){return Xr="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Jr(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Xr.apply(this,arguments)}function Zr(e){var t="function"===typeof Map?new Map:void 0;return Zr=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return $r(e,arguments,Jr(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Hr(r,e)},Zr(e)}function ei(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=a(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}function ti(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hr(e,t)}function ni(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ri(e){var t=Yr();return function(){var n,r=Jr(e);if(t){var i=Jr(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Ve(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ni(e)}(this,n)}}function ii(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ai(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,je(r.key),r)}}function oi(e,t,n){return t&&ai(e.prototype,t),n&&ai(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var si=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ui={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(si(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw new ci;var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},ci=function(e){ti(n,e);var t=ri(n);function n(){var e;return ii(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return oi(n)}(Zr(Error)),li=function(e){return function(e){var t=si(e);return ui.encodeByteArray(t,!0)}(e).replace(/\./g,"")},fi=function(e){try{return ui.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function hi(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=hi(e[n],t[n]));return e}var di=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},pi=function(){try{return di()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&fi(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},vi=function(e){var t=function(e){var t,n;return null===(n=null===(t=pi())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]}(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}},mi=function(){var e;return null===(e=pi())||void 0===e?void 0:e.config},yi=function(){function e(){var t=this;ii(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return oi(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function gi(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function bi(){return!function(){var e,t=null===(e=pi())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wi(){try{return"object"===typeof indexedDB}catch(e){return!1}}var ki="FirebaseError",xi=function(e){ti(n,e);var t=ri(n);function n(e,r,i){var a;return ii(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name=ki,Object.setPrototypeOf(ni(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(ni(a),Si.prototype.create),a}return oi(n)}(Zr(Error)),Si=function(){function e(t,n,r){ii(this,e),this.service=t,this.serviceName=n,this.errors=r}return oi(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Ci,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new xi(n,a,t)}}]),e}();var Ci=/\{\$([^}]+)}/g;function Ti(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ei(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(_i(s)&&_i(u)){if(!Ei(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function _i(e){return null!==e&&"object"===typeof e}function Ii(e,t){var n=new Ai(e,t);return n.subscribe.bind(n)}var Ai=function(){function e(t,n){var r=this;ii(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return oi(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=ei(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Di),void 0===r.error&&(r.error=Di),void 0===r.complete&&(r.complete=Di);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Di(){}function Ni(e){return e&&e._delegate?e._delegate:e}var Mi=function(){function e(t,n,r){ii(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return oi(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Pi="[DEFAULT]",Oi=function(){function e(t,n){ii(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return oi(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new yi;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Pi})}catch(c){}var t,n=ei(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=o(t.value,2),i=r[0],a=r[1],s=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:s});a.resolve(u)}catch(c){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pi;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Kr(Qr().mark((function e(){var t;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(et(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),et(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pi;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pi;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),s=ei(this.instancesDeferred.entries());try{for(s.s();!(i=s.n()).done;){var u=o(i.value,2),c=u[0],l=u[1];r===this.normalizeInstanceIdentifier(c)&&l.resolve(a)}}catch(f){s.e(f)}finally{s.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=ei(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(s){i.e(s)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Pi?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pi;return this.component?this.component.multipleInstances?e:Pi:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Ri,Li,Fi=function(){function e(t){ii(this,e),this.name=t,this.providers=new Map}return oi(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Oi(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Bi=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Li||(Li={}));var zi={debug:Li.DEBUG,verbose:Li.VERBOSE,info:Li.INFO,warn:Li.WARN,error:Li.ERROR,silent:Li.SILENT},Vi=Li.INFO,ji=(qe(Ri={},Li.DEBUG,"log"),qe(Ri,Li.VERBOSE,"log"),qe(Ri,Li.INFO,"info"),qe(Ri,Li.WARN,"warn"),qe(Ri,Li.ERROR,"error"),Ri),qi=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=ji[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Ui=function(){function e(t){ii(this,e),this.name=t,this._logLevel=Vi,this._logHandler=qi,this._userLogHandler=null,Bi.push(this)}return oi(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Li))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?zi[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Li.DEBUG].concat(t)),this._logHandler.apply(this,[this,Li.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Li.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Li.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Li.INFO].concat(t)),this._logHandler.apply(this,[this,Li.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Li.WARN].concat(t)),this._logHandler.apply(this,[this,Li.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Li.ERROR].concat(t)),this._logHandler.apply(this,[this,Li.ERROR].concat(t))}}]),e}();var Wi,Qi,Gi=function(e,t){return t.some((function(t){return e instanceof t}))};var Ki=new WeakMap,Hi=new WeakMap,Yi=new WeakMap,$i=new WeakMap,Ji=new WeakMap;var Xi={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Hi.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Yi.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ta(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Zi(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Qi||(Qi=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(na(this),n),ta(Ki.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ta(e.apply(na(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[na(this),t].concat(r));return Yi.set(a,t.sort?t.sort():[t]),ta(a)}}function ea(e){return"function"===typeof e?Zi(e):(e instanceof IDBTransaction&&function(e){if(!Hi.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Hi.set(e,t)}}(e),Gi(e,Wi||(Wi=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Xi):e)}function ta(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(ta(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Ki.set(t,e)})).catch((function(){})),Ji.set(t,e),t}(e);if($i.has(e))return $i.get(e);var t=ea(e);return t!==e&&($i.set(e,t),Ji.set(t,e)),t}var na=function(e){return Ji.get(e)};var ra,ia,aa=["get","getKey","getAll","getAllKeys","count"],oa=["put","add","delete","clear"],sa=new Map;function ua(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(sa.get(t))return sa.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=oa.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||aa.includes(n))){var a=function(){var e=Kr(Qr().mark((function e(t){var a,o,s,u,c,l,f=arguments;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return sa.set(t,a),a}}}Xi=function(e){return Ze(Ze({},e),{},{get:function(t,n,r){return ua(t,n)||e.get(t,n,r)},has:function(t,n){return!!ua(t,n)||e.has(t,n)}})}(Xi);var ca=function(){function e(t){ii(this,e),this.container=t}return oi(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var la="@firebase/app",fa="0.9.25",ha=new Ui("@firebase/app"),da="[DEFAULT]",pa=(qe(ra={},la,"fire-core"),qe(ra,"@firebase/app-compat","fire-core-compat"),qe(ra,"@firebase/analytics","fire-analytics"),qe(ra,"@firebase/analytics-compat","fire-analytics-compat"),qe(ra,"@firebase/app-check","fire-app-check"),qe(ra,"@firebase/app-check-compat","fire-app-check-compat"),qe(ra,"@firebase/auth","fire-auth"),qe(ra,"@firebase/auth-compat","fire-auth-compat"),qe(ra,"@firebase/database","fire-rtdb"),qe(ra,"@firebase/database-compat","fire-rtdb-compat"),qe(ra,"@firebase/functions","fire-fn"),qe(ra,"@firebase/functions-compat","fire-fn-compat"),qe(ra,"@firebase/installations","fire-iid"),qe(ra,"@firebase/installations-compat","fire-iid-compat"),qe(ra,"@firebase/messaging","fire-fcm"),qe(ra,"@firebase/messaging-compat","fire-fcm-compat"),qe(ra,"@firebase/performance","fire-perf"),qe(ra,"@firebase/performance-compat","fire-perf-compat"),qe(ra,"@firebase/remote-config","fire-rc"),qe(ra,"@firebase/remote-config-compat","fire-rc-compat"),qe(ra,"@firebase/storage","fire-gcs"),qe(ra,"@firebase/storage-compat","fire-gcs-compat"),qe(ra,"@firebase/firestore","fire-fst"),qe(ra,"@firebase/firestore-compat","fire-fst-compat"),qe(ra,"fire-js","fire-js"),qe(ra,"firebase","fire-js-all"),ra),va=new Map,ma=new Map;function ya(e,t){try{e.container.addComponent(t)}catch(n){ha.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function ga(e,t){e.container.addOrOverwriteComponent(t)}function ba(e){var t=e.name;if(ma.has(t))return ha.debug("There were multiple attempts to register component ".concat(t,".")),!1;ma.set(t,e);var n,r=ei(va.values());try{for(r.s();!(n=r.n()).done;){ya(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function wa(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ka(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:da;wa(e,t).clearInstance(n)}function xa(){ma.clear()}var Sa=(qe(ia={},"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),qe(ia,"bad-app-name","Illegal App name: '{$appName}"),qe(ia,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),qe(ia,"app-deleted","Firebase App named '{$appName}' already deleted"),qe(ia,"no-options","Need to provide options, when not being deployed to hosting via source."),qe(ia,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),qe(ia,"invalid-log-argument","First argument to `onLog` must be null or a function."),qe(ia,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),qe(ia,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),qe(ia,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),qe(ia,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),ia),Ca=new Si("app","Firebase",Sa),Ta=function(){function e(t,n,r){var i=this;ii(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Mi("app",(function(){return i}),"PUBLIC"))}return oi(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Ca.create("app-deleted",{appName:this._name})}}]),e}(),Ea="10.7.1";function _a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:da,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Ca.create("bad-app-name",{appName:String(i)});if(n||(n=mi()),!n)throw Ca.create("no-options");var a=va.get(i);if(a){if(Ei(n,a.options)&&Ei(r,a.config))return a;throw Ca.create("duplicate-app",{appName:i})}var o,s=new Fi(i),u=ei(ma.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(f){u.e(f)}finally{u.f()}var l=new Ta(n,r,s);return va.set(i,l),l}function Ia(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:da,t=va.get(e);if(!t&&e===da&&mi())return _a();if(!t)throw Ca.create("no-app",{appName:e});return t}function Aa(){return Array.from(va.values())}function Da(e){return Na.apply(this,arguments)}function Na(){return(Na=Kr(Qr().mark((function e(t){var n;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!va.has(n)){e.next=6;break}return va.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ma(e,t,n){var r,i=null!==(r=pa[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void ha.warn(s.join(" "))}ba(new Mi("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Pa(e,t){if(null!==e&&"function"!==typeof e)throw Ca.create("invalid-log-argument");!function(e,t){var n,r=ei(Bi);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=zi[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Li[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Oa(e){var t;t=e,Bi.forEach((function(e){e.setLogLevel(t)}))}var Ra="firebase-heartbeat-database",La=1,Fa="firebase-heartbeat-store",Ba=null;function za(){return Ba||(Ba=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=ta(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(ta(s.result),e.oldVersion,e.newVersion,ta(s.transaction),e)})),r&&s.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),u}(Ra,La,{upgrade:function(e,t){if(0===t)e.createObjectStore(Fa)}}).catch((function(e){throw Ca.create("idb-open",{originalErrorMessage:e.message})}))),Ba}function Va(e){return ja.apply(this,arguments)}function ja(){return ja=Kr(Qr().mark((function e(t){var n,r,i;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,za();case 3:return n=e.sent,e.next=6,n.transaction(Fa).objectStore(Fa).get(Wa(t));case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),e.t0 instanceof xi?ha.warn(e.t0.message):(i=Ca.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),ha.warn(i.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),ja.apply(this,arguments)}function qa(e,t){return Ua.apply(this,arguments)}function Ua(){return Ua=Kr(Qr().mark((function e(t,n){var r,i,a,o;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,za();case 3:return r=e.sent,i=r.transaction(Fa,"readwrite"),a=i.objectStore(Fa),e.next=8,a.put(n,Wa(t));case 8:return e.next=10,i.done;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0 instanceof xi?ha.warn(e.t0.message):(o=Ca.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),ha.warn(o.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),Ua.apply(this,arguments)}function Wa(e){return"".concat(e.name,"!").concat(e.options.appId)}var Qa=1024,Ga=function(){function e(t){var n=this;ii(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new $a(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return oi(e,[{key:"triggerHeartbeat",value:function(){var e=Kr(Qr().mark((function e(){var t,n,r,i,a;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.container.getProvider("platform-logger").getImmediate(),i=r.getPlatformInfoString(),a=Ka(),null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)){e.next=9;break}return e.next=6,this._heartbeatsCachePromise;case 6:if(this._heartbeatsCache=e.sent,null!=(null===(n=this._heartbeatsCache)||void 0===n?void 0:n.heartbeats)){e.next=9;break}return e.abrupt("return");case 9:if(this._heartbeatsCache.lastSentHeartbeatDate!==a&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===a}))){e.next=13;break}return e.abrupt("return");case 13:this._heartbeatsCache.heartbeats.push({date:a,agent:i});case 14:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Kr(Qr().mark((function e(){var t,n,r,i,a,o;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(n=Ka(),r=Ha(this._heartbeatsCache.heartbeats),i=r.heartbeatsToSend,a=r.unsentEntries,o=li(JSON.stringify({version:2,heartbeats:i})),this._heartbeatsCache.lastSentHeartbeatDate=n,!(a.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=a,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",o);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ka(){return(new Date).toISOString().substring(0,10)}function Ha(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qa,r=[],i=e.slice(),a=ei(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Ja(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Ja(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){if("break"===o())break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Ya,$a=function(){function e(t){ii(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return oi(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Kr(Qr().mark((function e(){return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(wi()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Kr(Qr().mark((function e(){var t;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Va(this.app);case 9:if(!(null===(t=e.sent)||void 0===t?void 0:t.heartbeats)){e.next=14;break}return e.abrupt("return",t);case 14:return e.abrupt("return",{heartbeats:[]});case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Kr(Qr().mark((function e(t){var n,r;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",qa(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Kr(Qr().mark((function e(t){var n,r;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",qa(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(et(r.heartbeats),et(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Ja(e){return li(JSON.stringify({version:2,heartbeats:e})).length}Ya="",ba(new Mi("platform-logger",(function(e){return new ca(e)}),"PRIVATE")),ba(new Mi("heartbeat",(function(e){return new Ga(e)}),"PRIVATE")),Ma(la,fa,Ya),Ma(la,fa,"esm2017"),Ma("fire-js","");var Xa,Za="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},eo={},to=to||{},no=Za||self;function ro(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function io(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var ao="closure_uid_"+(1e9*Math.random()>>>0),oo=0;function so(e,t,n){return e.call.apply(e.bind,arguments)}function uo(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function co(e,t,n){return(co=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?so:uo).apply(null,arguments)}function lo(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function fo(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function ho(){this.s=this.s,this.o=this.o}ho.prototype.s=!1,ho.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,ao)&&e[ao]||(e[ao]=++oo))},ho.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var po=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function vo(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function mo(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(ro(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function yo(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}yo.prototype.h=function(){this.defaultPrevented=!0};var go=function(){if(!no.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{var n=function(){};no.addEventListener("test",n,t),no.removeEventListener("test",n,t)}catch(n){}return e}();function bo(e){return/^[\s\xa0]*$/.test(e)}function wo(){var e=no.navigator;return e&&(e=e.userAgent)?e:""}function ko(e){return-1!=wo().indexOf(e)}function xo(e){return xo[" "](e),e}xo[" "]=function(){};var So,Co,To=ko("Opera"),Eo=ko("Trident")||ko("MSIE"),_o=ko("Edge"),Io=_o||Eo,Ao=ko("Gecko")&&!(-1!=wo().toLowerCase().indexOf("webkit")&&!ko("Edge"))&&!(ko("Trident")||ko("MSIE"))&&!ko("Edge"),Do=-1!=wo().toLowerCase().indexOf("webkit")&&!ko("Edge");function No(){var e=no.document;return e?e.documentMode:void 0}e:{var Mo="",Po=function(){var e=wo();return Ao?/rv:([^\);]+)(\)|;)/.exec(e):_o?/Edge\/([\d\.]+)/.exec(e):Eo?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Do?/WebKit\/(\S+)/.exec(e):To?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Po&&(Mo=Po?Po[1]:""),Eo){var Oo=No();if(null!=Oo&&Oo>parseFloat(Mo)){So=String(Oo);break e}}So=Mo}if(no.document&&Eo){var Ro=No();Co=Ro||(parseInt(So,10)||void 0)}else Co=void 0;var Lo=Co;function Fo(e,t){if(yo.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Ao){e:{try{xo(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Bo[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Fo.$.h.call(this)}}fo(Fo,yo);var Bo={2:"touch",3:"pen",4:"mouse"};Fo.prototype.h=function(){Fo.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var zo="closure_listenable_"+(1e6*Math.random()|0),Vo=0;function jo(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Vo,this.fa=this.ia=!1}function qo(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Uo(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Wo(e){var t={};for(var n in e)t[n]=e[n];return t}var Qo="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Go(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Qo.length;a++)n=Qo[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Ko(e){this.src=e,this.g={},this.h=0}function Ho(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=po(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(qo(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Yo(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}Ko.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Yo(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new jo(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var $o="closure_lm_"+(1e6*Math.random()|0),Jo={};function Xo(e,t,n,r,i){if(r&&r.once)return es(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Xo(e,t[a],n,r,i);return null}return n=ss(n),e&&e[zo]?e.O(t,n,io(r)?!!r.capture:!!r,i):Zo(e,t,n,!1,r,i)}function Zo(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=io(i)?!!i.capture:!!i,s=as(e);if(s||(e[$o]=s=new Ko(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=is;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)go||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(rs(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function es(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)es(e,t[a],n,r,i);return null}return n=ss(n),e&&e[zo]?e.P(t,n,io(r)?!!r.capture:!!r,i):Zo(e,t,n,!0,r,i)}function ts(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)ts(e,t[a],n,r,i);else r=io(r)?!!r.capture:!!r,n=ss(n),e&&e[zo]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Yo(a=e.g[t],n,r,i))&&(qo(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=as(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Yo(t,n,r,i)),(n=-1<e?t[e]:null)&&ns(n))}function ns(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[zo])Ho(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(rs(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=as(t))?(Ho(n,e),0==n.h&&(n.src=null,t[$o]=null)):qo(e)}}}function rs(e){return e in Jo?Jo[e]:Jo[e]="on"+e}function is(e,t){if(e.fa)e=!0;else{t=new Fo(t,this);var n=e.listener,r=e.la||e.src;e.ia&&ns(e),e=n.call(r,t)}return e}function as(e){return(e=e[$o])instanceof Ko?e:null}var os="__closure_events_fn_"+(1e9*Math.random()>>>0);function ss(e){return"function"===typeof e?e:(e[os]||(e[os]=function(t){return e.handleEvent(t)}),e[os])}function us(){ho.call(this),this.i=new Ko(this),this.S=this,this.J=null}function cs(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new yo(t,e);else if(t instanceof yo)t.target=t.target||e;else{var i=t;Go(t=new yo(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=ls(o,r,!0,t)&&i}if(i=ls(o=t.g=e,r,!0,t)&&i,i=ls(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=ls(o=t.g=n[a],r,!1,t)&&i}function ls(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==n){var s=o.listener,u=o.la||o.src;o.ia&&Ho(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}fo(us,ho),us.prototype[zo]=!0,us.prototype.removeEventListener=function(e,t,n,r){ts(this,e,t,n,r)},us.prototype.N=function(){if(us.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)qo(n[r]);delete t.g[e],t.h--}}this.J=null},us.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},us.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var fs=no.JSON.stringify,hs=function(){function e(t,n){ii(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return oi(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}();function ds(){var e=ks,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var ps=function(){function e(){ii(this,e),this.h=this.g=null}return oi(e,[{key:"add",value:function(e,t){var n=vs.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),vs=new hs((function(){return new ms}),(function(e){return e.reset()})),ms=function(){function e(){ii(this,e),this.next=this.g=this.h=null}return oi(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function ys(e){var t=1;e=e.split(":");for(var n=[];0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function gs(e){no.setTimeout((function(){throw e}),0)}var bs,ws=!1,ks=new ps,xs=function(){var e=no.Promise.resolve(void 0);bs=function(){e.then(Ss)}},Ss=function(){for(var e;e=ds();){try{e.h.call(e.g)}catch(n){gs(n)}var t=vs;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}ws=!1};function Cs(e,t){us.call(this),this.h=e||1,this.g=t||no,this.j=co(this.qb,this),this.l=Date.now()}function Ts(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Es(e,t,n){if("function"===typeof e)n&&(e=co(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=co(e.handleEvent,e)}return 2147483647<Number(t)?-1:no.setTimeout(e,t||0)}function _s(e){e.g=Es((function(){e.g=null,e.i&&(e.i=!1,_s(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}fo(Cs,us),(Xa=Cs.prototype).ga=!1,Xa.T=null,Xa.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),cs(this,"tick"),this.ga&&(Ts(this),this.start()))}},Xa.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Xa.N=function(){Cs.$.N.call(this),Ts(this),delete this.g};var Is=function(e){ti(n,e);var t=ri(n);function n(e,r){var i;return ii(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return oi(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:_s(this)}},{key:"N",value:function(){Xr(Jr(n.prototype),"N",this).call(this),this.g&&(no.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(ho);function As(e){ho.call(this),this.h=e,this.g={}}fo(As,ho);var Ds=[];function Ns(e,t,n,r){Array.isArray(n)||(n&&(Ds[0]=n.toString()),n=Ds);for(var i=0;i<n.length;i++){var a=Xo(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Ms(e){Uo(e.g,(function(e,t){this.g.hasOwnProperty(t)&&ns(e)}),e),e.g={}}function Ps(){this.g=!0}function Os(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return fs(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}As.prototype.N=function(){As.$.N.call(this),Ms(this)},As.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ps.prototype.Ea=function(){this.g=!1},Ps.prototype.info=function(){};var Rs={},Ls=null;function Fs(){return Ls=Ls||new us}function Bs(e){yo.call(this,Rs.Ta,e)}function zs(e){var t=Fs();cs(t,new Bs(t))}function Vs(e,t){yo.call(this,Rs.STAT_EVENT,e),this.stat=t}function js(e){var t=Fs();cs(t,new Vs(t,e))}function qs(e,t){yo.call(this,Rs.Ua,e),this.size=t}function Us(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return no.setTimeout((function(){e()}),t)}Rs.Ta="serverreachability",fo(Bs,yo),Rs.STAT_EVENT="statevent",fo(Vs,yo),Rs.Ua="timingevent",fo(qs,yo);var Ws={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Qs={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Gs(){}function Ks(e){return e.h||(e.h=e.i())}function Hs(){}Gs.prototype.h=null;var Ys,$s={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Js(){yo.call(this,"d")}function Xs(){yo.call(this,"c")}function Zs(){}function eu(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new As(this),this.P=nu,e=Io?125:void 0,this.V=new Cs(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new tu}function tu(){this.i=null,this.g="",this.h=!1}fo(Js,yo),fo(Xs,yo),fo(Zs,Gs),Zs.prototype.g=function(){return new XMLHttpRequest},Zs.prototype.i=function(){return{}},Ys=new Zs;var nu=45e3,ru={},iu={};function au(e,t,n){e.L=1,e.A=Cu(bu(t)),e.u=n,e.S=!0,ou(e,null)}function ou(e,t){e.G=Date.now(),lu(e),e.B=bu(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),Fu(n.i,"t",r),e.o=0,n=e.l.J,e.h=new tu,e.g=Bc(e.l,n?t:null,!e.u),0<e.O&&(e.M=new Is(co(e.Pa,e,e.g),e.O)),Ns(e.U,e.g,"readystatechange",e.nb),t=e.I?Wo(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),zs(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.v,e.B,e.m,e.W,e.u)}function su(e){return!!e.g&&("GET"==e.v&&2!=e.L&&e.l.Ha)}function uu(e,t,n){for(var r,i=!0;!e.J&&e.o<n.length;){if((r=cu(e,n))==iu){4==t&&(e.s=4,js(14),i=!1),Os(e.j,e.m,null,"[Incomplete Response]");break}if(r==ru){e.s=4,js(15),Os(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Os(e.j,e.m,r,null),vu(e,r)}su(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,js(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Dc(t),t.M=!0,js(11))):(Os(e.j,e.m,n,"[Invalid Chunked Response]"),pu(e),du(e))}function cu(e,t){var n=e.o,r=t.indexOf("\n",n);return-1==r?iu:(n=Number(t.substring(n,r)),isNaN(n)?ru:(r+=1)+n>t.length?iu:(t=t.slice(r,r+n),e.o=r+n,t))}function lu(e){e.Y=Date.now()+e.P,fu(e,e.P)}function fu(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=Us(co(e.lb,e),t)}function hu(e){e.C&&(no.clearTimeout(e.C),e.C=null)}function du(e){0==e.l.H||e.J||Pc(e.l,e)}function pu(e){hu(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Ts(e.V),Ms(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function vu(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Wu(n.i,e)))if(!e.K&&Wu(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Mc(n),xc(n)}Ac(n),js(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Us(co(n.ib,n),6e3));if(1>=Uu(n.i)&&n.oa){try{n.oa()}catch(a){}n.oa=void 0}}else Rc(n,11)}else if((e.K||n.g==e)&&Mc(n),!bo(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.V=a[0],a=a[1],2==n.H)if("c"==a[0]){n.K=a[1],n.pa=a[2];var o=a[3];null!=o&&(n.ra=o,n.l.info("VER="+n.ra));var s=a[4];null!=s&&(n.Ga=s,n.l.info("SVER="+n.Ga));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Qu(f,f.h),f.h=null))}if(r.F){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.Da=h,Su(r.I,r.F,h))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var d=e;if((r=n).wa=Fc(r,r.J?r.pa:null,r.Y),d.K){Gu(r.i,d);var p=d,v=r.L;v&&p.setTimeout(v),p.C&&(hu(p),lu(p)),r.g=d}else Ic(r);0<n.j.length&&Cc(n)}else"stop"!=a[0]&&"close"!=a[0]||Rc(n,7);else 3==n.H&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Rc(n,7):kc(n):"noop"!=a[0]&&n.h&&n.h.Aa(a),n.A=0)}zs()}catch(a){}}function mu(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(ro(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(ro(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(ro(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(Xa=eu.prototype).setTimeout=function(e){this.P=e},Xa.nb=function(e){e=e.target;var t=this.M;t&&3==vc(e)?t.l():this.Pa(e)},Xa.Pa=function(e){try{if(e==this.g)e:{var t=vc(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||Io||this.g&&(this.h.h||this.g.ja()||mc(this.g)))){this.J||4!=t||7==n||zs(),hu(this);var r=this.g.da();this.ca=r;t:if(su(this)){var i=mc(this.g);e="";var a=i.length,o=4==vc(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){pu(this),du(this);var s="";break t}this.h.i=new no.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.length=0,this.h.g+=e,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.v,this.B,this.m,this.W,t,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!bo(u)){var l=u;break t}}l=null}if(!(r=l)){this.i=!1,this.s=3,js(12),pu(this),du(this);break e}Os(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vu(this,r)}this.S?(uu(this,t,s),Io&&this.i&&3==t&&(Ns(this.U,this.V,"tick",this.mb),this.V.start())):(Os(this.j,this.m,s,null),vu(this,s)),4==t&&pu(this),this.i&&!this.J&&(4==t?Pc(this.l,this):(this.i=!1,lu(this)))}else(function(e){var t={};e=(e.g&&2<=vc(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(var n=0;n<e.length;n++)if(!bo(e[n])){var r=ys(e[n]),i=r[0];if("string"===typeof(r=r[1])){r=r.trim();var a=t[i]||[];t[i]=a,a.push(r)}}!function(e,t){for(var n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==r&&0<s.indexOf("Unknown SID")?(this.s=3,js(12)):(this.s=0,js(13)),pu(this),du(this)}}}catch(t){}},Xa.mb=function(){if(this.g){var e=vc(this.g),t=this.g.ja();this.o<t.length&&(hu(this),uu(this,e,t),this.i&&4!=e&&lu(this))}},Xa.cancel=function(){this.J=!0,pu(this)},Xa.lb=function(){this.C=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.B),2!=this.L&&(zs(),js(17)),pu(this),this.s=2,du(this)):fu(this,this.Y-e)};var yu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gu(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof gu){this.h=e.h,wu(this,e.j),this.s=e.s,this.g=e.g,ku(this,e.m),this.l=e.l;var t=e.i,n=new Pu;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),xu(this,n),this.o=e.o}else e&&(t=String(e).match(yu))?(this.h=!1,wu(this,t[1]||"",!0),this.s=Tu(t[2]||""),this.g=Tu(t[3]||"",!0),ku(this,t[4]),this.l=Tu(t[5]||"",!0),xu(this,t[6]||"",!0),this.o=Tu(t[7]||"")):(this.h=!1,this.i=new Pu(null,this.h))}function bu(e){return new gu(e)}function wu(e,t,n){e.j=n?Tu(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ku(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function xu(e,t,n){t instanceof Pu?(e.i=t,function(e,t){t&&!e.j&&(Ou(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Ru(this,t),Fu(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Eu(t,Nu)),e.i=new Pu(t,e.h))}function Su(e,t,n){e.i.set(t,n)}function Cu(e){return Su(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Tu(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Eu(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,_u),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function _u(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}gu.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Eu(t,Iu,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Eu(t,Iu,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Eu(n,"/"==n.charAt(0)?Du:Au,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Eu(n,Mu)),e.join("")};var Iu=/[#\/\?@]/g,Au=/[#\?:]/g,Du=/[#\?]/g,Nu=/[#\?@]/g,Mu=/#/g;function Pu(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Ou(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Ru(e,t){Ou(e),t=Bu(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Lu(e,t){return Ou(e),t=Bu(e,t),e.g.has(t)}function Fu(e,t,n){Ru(e,t),0<n.length&&(e.i=null,e.g.set(Bu(e,t),vo(n)),e.h+=n.length)}function Bu(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Xa=Pu.prototype).add=function(e,t){Ou(this),this.i=null,e=Bu(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Xa.forEach=function(e,t){Ou(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Xa.ta=function(){Ou(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Xa.Z=function(e){Ou(this);var t=[];if("string"===typeof e)Lu(this,e)&&(t=t.concat(this.g.get(Bu(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},Xa.set=function(e,t){return Ou(this),this.i=null,Lu(this,e=Bu(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Xa.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Xa.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var zu=oi((function e(t,n){ii(this,e),this.g=t,this.map=n}));function Vu(e){this.l=e||ju,no.PerformanceNavigationTiming?e=0<(e=no.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(no.g&&no.g.Ka&&no.g.Ka()&&no.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var ju=10;function qu(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Uu(e){return e.h?1:e.g?e.g.size:0}function Wu(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Qu(e,t){e.g?e.g.add(t):e.h=t}function Gu(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Ku(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=ei(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.F)}}catch(a){r.e(a)}finally{r.f()}return n}return vo(e.i)}Vu.prototype.cancel=function(){if(this.i=Ku(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=ei(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}};var Hu,Yu=function(){function e(){ii(this,e)}return oi(e,[{key:"stringify",value:function(e){return no.JSON.stringify(e,void 0)}},{key:"parse",value:function(e){return no.JSON.parse(e,void 0)}}]),e}();function $u(){this.g=new Yu}function Ju(e,t,n){var r=n||"";try{mu(e,(function(e,n){var i=e;io(e)&&(i=fs(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Xu(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Zu(e){this.l=e.ec||null,this.j=e.ob||!1}function ec(e,t){us.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=tc,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}fo(Zu,Gs),Zu.prototype.g=function(){return new ec(this.l,this.j)},Zu.prototype.i=(Hu={},function(){return Hu}),fo(ec,us);var tc=0;function nc(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function rc(e){e.readyState=4,e.l=null,e.j=null,e.A=null,ic(e)}function ic(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Xa=ec.prototype).open=function(e,t){if(this.readyState!=tc)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,ic(this)},Xa.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||no).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Xa.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,rc(this)),this.readyState=tc},Xa.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,ic(this)),this.g&&(this.readyState=3,ic(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof no.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;nc(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Xa.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?rc(this):ic(this),3==this.readyState&&nc(this)}},Xa.Za=function(e){this.g&&(this.response=this.responseText=e,rc(this))},Xa.Ya=function(e){this.g&&(this.response=e,rc(this))},Xa.ka=function(){this.g&&rc(this)},Xa.setRequestHeader=function(e,t){this.v.append(e,t)},Xa.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Xa.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(ec.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var ac=no.JSON.parse;function oc(e){us.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=sc,this.L=this.M=!1}fo(oc,us);var sc="",uc=/^https?$/i,cc=["POST","PUT"];function lc(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,fc(e),dc(e)}function fc(e){e.F||(e.F=!0,cs(e,"complete"),cs(e,"error"))}function hc(e){if(e.h&&"undefined"!=typeof to&&(!e.C[1]||4!=vc(e)||2!=e.da()))if(e.v&&4==vc(e))Es(e.La,0,e);else if(cs(e,"readystatechange"),4==vc(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.I).match(yu)[1]||null;!a&&no.self&&no.self.location&&(a=no.self.location.protocol.slice(0,-1)),i=!uc.test(a?a.toLowerCase():"")}t=i}if(t)cs(e,"complete"),cs(e,"success");else{e.m=6;try{var o=2<vc(e)?e.g.statusText:""}catch(s){o=""}e.j=o+" ["+e.da()+"]",fc(e)}}finally{dc(e)}}}function dc(e,t){if(e.g){pc(e);var n=e.g,r=e.C[0]?function(){}:null;e.g=null,e.C=null,t||cs(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function pc(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(no.clearTimeout(e.A),e.A=null)}function vc(e){return e.g?e.g.readyState:0}function mc(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case sc:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(k){return null}}function yc(e){var t="";return Uo(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function gc(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=yc(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Su(e,t,n))}function bc(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function wc(e){this.Ga=0,this.j=[],this.l=new Ps,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=bc("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=bc("baseRetryDelayMs",5e3,e),this.hb=bc("retryDelaySeedMs",1e4,e),this.eb=bc("forwardChannelMaxRetries",2,e),this.xa=bc("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Vu(e&&e.concurrentRequestLimit),this.Ja=new $u,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function kc(e){if(Sc(e),3==e.H){var t=e.W++,n=bu(e.I);if(Su(n,"SID",e.K),Su(n,"RID",t),Su(n,"TYPE","terminate"),Ec(e,n),(t=new eu(e,e.l,t)).L=2,t.A=Cu(bu(n)),n=!1,no.navigator&&no.navigator.sendBeacon)try{n=no.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&no.Image&&((new Image).src=t.A,n=!0),n||(t.g=Bc(t.l,null),t.g.ha(t.A)),t.G=Date.now(),lu(t)}Lc(e)}function xc(e){e.g&&(Dc(e),e.g.cancel(),e.g=null)}function Sc(e){xc(e),e.u&&(no.clearTimeout(e.u),e.u=null),Mc(e),e.i.cancel(),e.m&&("number"===typeof e.m&&no.clearTimeout(e.m),e.m=null)}function Cc(e){if(!qu(e.i)&&!e.m){e.m=!0;var t=e.Na;bs||xs(),ws||(bs(),ws=!0),ks.add(t,e),e.C=0}}function Tc(e,t){var n;n=t?t.m:e.W++;var r=bu(e.I);Su(r,"SID",e.K),Su(r,"RID",n),Su(r,"AID",e.V),Ec(e,r),e.o&&e.s&&gc(r,e.o,e.s),n=new eu(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=_c(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Qu(e.i,n),au(n,r,t)}function Ec(e,t){e.na&&Uo(e.na,(function(e,n){Su(t,n,e)})),e.h&&mu({},(function(e,n){Su(t,n,e)}))}function _c(e,t,n){n=Math.min(e.j.length,n);var r=e.h?co(e.h.Va,e.h,e):null;e:for(var i=e.j,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].g,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].g,l=i[u].map;if(0>(c-=a))a=Math.max(0,i[u].g-100),s=!1;else try{Ju(l,o,"req"+c+"_")}catch(F){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.j.splice(0,n),t.F=e,r}function Ic(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;bs||xs(),ws||(bs(),ws=!0),ks.add(t,e),e.A=0}}function Ac(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Us(co(e.Ma,e),Oc(e,e.A)),e.A++,!0)}function Dc(e){null!=e.B&&(no.clearTimeout(e.B),e.B=null)}function Nc(e){e.g=new eu(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=bu(e.wa);Su(t,"RID","rpc"),Su(t,"SID",e.K),Su(t,"AID",e.V),Su(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Su(t,"TO",e.qa),Su(t,"TYPE","xmlhttp"),Ec(e,t),e.o&&e.s&&gc(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=Cu(bu(t)),n.u=null,n.S=!0,ou(n,e)}function Mc(e){null!=e.v&&(no.clearTimeout(e.v),e.v=null)}function Pc(e,t){var n=null;if(e.g==t){Mc(e),Dc(e),e.g=null;var r=2}else{if(!Wu(e.i,t))return;n=t.F,Gu(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;cs(r=Fs(),new qs(r,n)),Cc(e)}else Ic(e);else if(3==(i=t.s)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Uu(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Us(co(e.Na,e,t),Oc(e,e.C)),e.C++,!0))}(e,t)||2==r&&Ac(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Rc(e,5);break;case 4:Rc(e,10);break;case 3:Rc(e,6);break;default:Rc(e,2)}}function Oc(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Rc(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=co(e.pb,e);n||(n=new gu("//www.google.com/images/cleardot.gif"),no.location&&"http"==no.location.protocol||wu(n,"https"),Cu(n)),function(e,t){var n=new Ps;if(no.Image){var r=new Image;r.onload=lo(Xu,n,r,"TestLoadImage: loaded",!0,t),r.onerror=lo(Xu,n,r,"TestLoadImage: error",!1,t),r.onabort=lo(Xu,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=lo(Xu,n,r,"TestLoadImage: timeout",!1,t),no.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else js(2);e.H=0,e.h&&e.h.za(t),Lc(e),Sc(e)}function Lc(e){if(e.H=0,e.ma=[],e.h){var t=Ku(e.i);0==t.length&&0==e.j.length||(mo(e.ma,t),mo(e.ma,e.j),e.i.i.length=0,vo(e.j),e.j.length=0),e.h.ya()}}function Fc(e,t,n){var r=n instanceof gu?bu(n):new gu(n);if(""!=r.g)t&&(r.g=t+"."+r.g),ku(r,r.m);else{var i=no.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new gu(null);r&&wu(a,r),t&&(a.g=t),i&&ku(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&Su(r,n,t),Su(r,"VER",e.ra),Ec(e,r),r}function Bc(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ha&&!e.va?new oc(new Zu({ob:n})):new oc(e.va)).Oa(e.J),t}function zc(){}function Vc(){if(Eo&&!(10<=Number(Lo)))throw Error("Environmental error: no available transport.")}function jc(e,t){us.call(this),this.g=new wc(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!bo(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!bo(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Wc(this)}function qc(e){Js.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Uc(){Xs.call(this),this.status=1}function Wc(e){this.g=e}function Qc(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Gc(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function Kc(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(Xa=oc.prototype).Oa=function(e){this.M=e},Xa.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Ys.g(),this.C=this.u?Ks(this.u):Ks(Ys),this.g.onreadystatechange=co(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(u){return void lc(this,u)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,s=ei(r.keys());try{for(s.s();!(a=s.n()).done;){var u=a.value;n.set(u,r.get(u))}}catch(p){s.e(p)}finally{s.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=no.FormData&&e instanceof no.FormData,!(0<=po(cc,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var c,l=ei(n);try{for(l.s();!(c=l.n()).done;){var f=o(c.value,2),h=f[0],d=f[1];this.g.setRequestHeader(h,d)}}catch(p){l.e(p)}finally{l.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{pc(this),0<this.B&&((this.L=function(e){return Eo&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=co(this.ua,this)):this.A=Es(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){lc(this,u)}},Xa.ua=function(){"undefined"!=typeof to&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,cs(this,"timeout"),this.abort(8))},Xa.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,cs(this,"complete"),cs(this,"abort"),dc(this))},Xa.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),dc(this,!0)),oc.$.N.call(this)},Xa.La=function(){this.s||(this.G||this.v||this.l?hc(this):this.kb())},Xa.kb=function(){hc(this)},Xa.isActive=function(){return!!this.g},Xa.da=function(){try{return 2<vc(this)?this.g.status:-1}catch(Hu){return-1}},Xa.ja=function(){try{return this.g?this.g.responseText:""}catch(Hu){return""}},Xa.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ac(t)}},Xa.Ia=function(){return this.m},Xa.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Xa=wc.prototype).ra=8,Xa.H=1,Xa.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new eu(this,this.l,e),n=this.s;if(this.U&&(n?Go(n=Wo(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.j.length;i++){var a=this.j[i];if(void 0===(a="__data__"in a.map&&"string"===typeof(a=a.map.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.j.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=_c(this,t,r),Su(i=bu(this.I),"RID",e),Su(i,"CVER",22),this.F&&Su(i,"X-HTTP-Session-Id",this.F),Ec(this,i),n&&(this.O?r="headers="+encodeURIComponent(String(yc(n)))+"&"+r:this.o&&gc(i,this.o,n)),Qu(this.i,t),this.bb&&Su(i,"TYPE","init"),this.P?(Su(i,"$req",r),Su(i,"SID","null"),t.aa=!0,au(t,i,null)):au(t,i,r),this.H=2}}else 3==this.H&&(e?Tc(this,e):0==this.j.length||qu(this.i)||Tc(this))},Xa.Ma=function(){if(this.u=null,Nc(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Us(co(this.jb,this),e)}},Xa.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,js(10),xc(this),Nc(this))},Xa.ib=function(){null!=this.v&&(this.v=null,xc(this),Ac(this),js(19))},Xa.pb=function(e){e?(this.l.info("Successfully pinged google.com"),js(2)):(this.l.info("Failed to ping google.com"),js(1))},Xa.isActive=function(){return!!this.h&&this.h.isActive(this)},(Xa=zc.prototype).Ba=function(){},Xa.Aa=function(){},Xa.za=function(){},Xa.ya=function(){},Xa.isActive=function(){return!0},Xa.Va=function(){},Vc.prototype.g=function(e,t){return new jc(e,t)},fo(jc,us),jc.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;js(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Fc(e,null,e.Y),Cc(e)},jc.prototype.close=function(){kc(this.g)},jc.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=fs(e),e=n);t.j.push(new zu(t.fb++,e)),3==t.H&&Cc(t)},jc.prototype.N=function(){this.g.h=null,delete this.j,kc(this.g),delete this.g,jc.$.N.call(this)},fo(qc,Js),fo(Uc,Xs),fo(Wc,zc),Wc.prototype.Ba=function(){cs(this.g,"a")},Wc.prototype.Aa=function(e){cs(this.g,new qc(e))},Wc.prototype.za=function(e){cs(this.g,new Uc)},Wc.prototype.ya=function(){cs(this.g,"b")},fo(Qc,(function(){this.blockSize=-1})),Qc.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Qc.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)Gc(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){Gc(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){Gc(this,r),i=0;break}}this.h=i,this.i+=t},Qc.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Hc={};function Yc(e){return-128<=e&&128>e?function(e,t){var n=Hc;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new Kc([0|e],0>e?-1:0)})):new Kc([0|e],0>e?-1:0)}function $c(e){if(isNaN(e)||!isFinite(e))return Xc;if(0>e)return rl($c(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Jc;return new Kc(t,0)}var Jc=4294967296,Xc=Yc(0),Zc=Yc(1),el=Yc(16777216);function tl(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function nl(e){return-1==e.h}function rl(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Kc(n,~e.h).add(Zc)}function il(e,t){return e.add(rl(t))}function al(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function ol(e,t){this.g=e,this.h=t}function sl(e,t){if(tl(t))throw Error("division by zero");if(tl(e))return new ol(Xc,Xc);if(nl(e))return t=sl(rl(e),t),new ol(rl(t.g),rl(t.h));if(nl(t))return t=sl(e,rl(t)),new ol(rl(t.g),t.h);if(30<e.g.length){if(nl(e)||nl(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Zc,r=t;0>=r.X(e);)n=ul(n),r=ul(r);var i=cl(n,1),a=cl(r,1);for(r=cl(r,2),n=cl(n,2);!tl(r);){var o=a.add(r);0>=o.X(e)&&(i=i.add(n),a=o),r=cl(r,1),n=cl(n,1)}return t=il(e,i.R(t)),new ol(i,t)}for(i=Xc;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(a=$c(n)).R(t);nl(o)||0<o.X(e);)o=(a=$c(n-=r)).R(t);tl(a)&&(a=Zc),i=i.add(a),e=il(e,o)}return new ol(i,e)}function ul(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Kc(n,e.h)}function cl(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new Kc(i,e.h)}(Xa=Kc.prototype).ea=function(){if(nl(this))return-rl(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Jc+r)*t,t*=Jc}return e},Xa.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(tl(this))return"0";if(nl(this))return"-"+rl(this).toString(e);for(var t=$c(Math.pow(e,6)),n=this,r="";;){var i=sl(n,t).g,a=((0<(n=il(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(tl(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},Xa.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Xa.X=function(e){return nl(e=il(this,e))?-1:tl(e)?0:1},Xa.abs=function(){return nl(this)?rl(this):this},Xa.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new Kc(n,-2147483648&n[n.length-1]?-1:0)},Xa.R=function(e){if(tl(this)||tl(e))return Xc;if(nl(this))return nl(e)?rl(this).R(rl(e)):rl(rl(this).R(e));if(nl(e))return rl(this.R(rl(e)));if(0>this.X(el)&&0>e.X(el))return $c(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,o=65535&this.D(r),s=e.D(i)>>>16,u=65535&e.D(i);n[2*r+2*i]+=o*u,al(n,2*r+2*i),n[2*r+2*i+1]+=a*u,al(n,2*r+2*i+1),n[2*r+2*i+1]+=o*s,al(n,2*r+2*i+1),n[2*r+2*i+2]+=a*s,al(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Kc(n,0)},Xa.gb=function(e){return sl(this,e).h},Xa.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Kc(n,this.h&e.h)},Xa.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Kc(n,this.h|e.h)},Xa.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Kc(n,this.h^e.h)},Vc.prototype.createWebChannel=Vc.prototype.g,jc.prototype.send=jc.prototype.u,jc.prototype.open=jc.prototype.m,jc.prototype.close=jc.prototype.close,Ws.NO_ERROR=0,Ws.TIMEOUT=8,Ws.HTTP_ERROR=6,Qs.COMPLETE="complete",Hs.EventType=$s,$s.OPEN="a",$s.CLOSE="b",$s.ERROR="c",$s.MESSAGE="d",us.prototype.listen=us.prototype.O,oc.prototype.listenOnce=oc.prototype.P,oc.prototype.getLastError=oc.prototype.Sa,oc.prototype.getLastErrorCode=oc.prototype.Ia,oc.prototype.getStatus=oc.prototype.da,oc.prototype.getResponseJson=oc.prototype.Wa,oc.prototype.getResponseText=oc.prototype.ja,oc.prototype.send=oc.prototype.ha,oc.prototype.setWithCredentials=oc.prototype.Oa,Qc.prototype.digest=Qc.prototype.l,Qc.prototype.reset=Qc.prototype.reset,Qc.prototype.update=Qc.prototype.j,Kc.prototype.add=Kc.prototype.add,Kc.prototype.multiply=Kc.prototype.R,Kc.prototype.modulo=Kc.prototype.gb,Kc.prototype.compare=Kc.prototype.X,Kc.prototype.toNumber=Kc.prototype.ea,Kc.prototype.toString=Kc.prototype.toString,Kc.prototype.getBits=Kc.prototype.D,Kc.fromNumber=$c,Kc.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return rl(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=$c(Math.pow(n,8)),i=Xc,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),s=parseInt(t.substring(a,a+o),n);8>o?(o=$c(Math.pow(n,o)),i=i.R(o).add($c(s))):i=(i=i.R(r)).add($c(s))}return i};var ll=eo.createWebChannelTransport=function(){return new Vc},fl=eo.getStatEventTarget=function(){return Fs()},hl=eo.ErrorCode=Ws,dl=eo.EventType=Qs,pl=eo.Event=Rs,vl=eo.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ml=(eo.FetchXmlHttpFactory=Zu,eo.WebChannel=Hs),yl=eo.XhrIo=oc,gl=eo.Md5=Qc,bl=eo.Integer=Kc,wl="@firebase/firestore",kl=function(){function e(t){ii(this,e),this.uid=t}return oi(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();kl.UNAUTHENTICATED=new kl(null),kl.GOOGLE_CREDENTIALS=new kl("google-credentials-uid"),kl.FIRST_PARTY=new kl("first-party-uid"),kl.MOCK_USER=new kl("mock-user");var xl="10.7.0",Sl=new Ui("@firebase/firestore");function Cl(){return Sl.logLevel}function Tl(e){if(Sl.logLevel<=Li.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Il);Sl.debug.apply(Sl,["Firestore (".concat(xl,"): ").concat(e)].concat(et(i)))}}function El(e){if(Sl.logLevel<=Li.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Il);Sl.error.apply(Sl,["Firestore (".concat(xl,"): ").concat(e)].concat(et(i)))}}function _l(e){if(Sl.logLevel<=Li.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Il);Sl.warn.apply(Sl,["Firestore (".concat(xl,"): ").concat(e)].concat(et(i)))}}function Il(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Al(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(xl,") INTERNAL ASSERTION FAILED: ")+e;throw El(t),new Error(t)}function Dl(e,t){e||Al()}function Nl(e,t){return e}var Ml={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Pl=function(e){ti(n,e);var t=ri(n);function n(e,r){var i;return ii(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return oi(n)}(xi),Ol=oi((function e(){var t=this;ii(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Rl=oi((function e(t,n){ii(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Ll=function(){function e(){ii(this,e)}return oi(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(kl.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Fl=function(){function e(t){ii(this,e),this.token=t,this.changeListener=null}return oi(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Bl=function(){function e(t){ii(this,e),this.t=t,this.currentUser=kl.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return oi(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Ol;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Ol,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Kr(Qr().mark((function e(){return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){Tl("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(Tl("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ol)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Tl("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Dl("string"==typeof n.accessToken),new Rl(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Dl(null===e||"string"==typeof e),new kl(e)}}]),e}(),zl=function(){function e(t,n,r){ii(this,e),this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=kl.FIRST_PARTY,this.I=new Map}return oi(e,[{key:"T",value:function(){return this.P?this.P():null}},{key:"headers",get:function(){this.I.set("X-Goog-AuthUser",this.l);var e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}]),e}(),Vl=function(){function e(t,n,r){ii(this,e),this.l=t,this.h=n,this.P=r}return oi(e,[{key:"getToken",value:function(){return Promise.resolve(new zl(this.l,this.h,this.P))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(kl.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),jl=oi((function e(t){ii(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),ql=function(){function e(t){ii(this,e),this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}return oi(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Tl("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.R;return n.R=e.token,Tl("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Tl("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.A.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.A.getImmediate({optional:!0});e?i(e):Tl("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Dl("string"==typeof t.token),e.R=t.token,new jl(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Ul(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Wl=function(){function e(){ii(this,e)}return oi(e,null,[{key:"newId",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Ul(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Ql(e,t){return e<t?-1:e>t?1:0}function Gl(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Kl(e){return e+"\0"}var Hl=function(){function e(t,n){if(ii(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Pl(Ml.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Pl(Ml.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Pl(Ml.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Pl(Ml.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return oi(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Ql(this.nanoseconds,e.nanoseconds):Ql(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Yl=function(){function e(t){ii(this,e),this.timestamp=t}return oi(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Hl(0,0))}},{key:"max",value:function(){return new e(new Hl(253402300799,999999999))}}]),e}(),$l=function(){function e(t,n,r){ii(this,e),void 0===n?n=0:n>t.length&&Al(),void 0===r?r=t.length-n:r>t.length-n&&Al(),this.segments=t,this.offset=n,this.len=r}return oi(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Jl=function(e){ti(n,e);var t=ri(n);function n(){return ii(this,n),t.apply(this,arguments)}return oi(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new Pl(Ml.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,et(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}($l),Xl=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Zl=function(e){ti(n,e);var t=ri(n);function n(){return ii(this,n),t.apply(this,arguments)}return oi(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Xl.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Pl(Ml.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new Pl(Ml.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Pl(Ml.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new Pl(Ml.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}($l),ef=function(){function e(t){ii(this,e),this.path=t}return oi(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Jl.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Jl.fromString(t))}},{key:"fromName",value:function(t){return new e(Jl.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Jl.emptyPath())}},{key:"comparator",value:function(e,t){return Jl.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Jl(t.slice()))}}]),e}(),tf=oi((function e(t,n,r,i){ii(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function nf(e){return e.fields.find((function(e){return 2===e.kind}))}function rf(e){return e.fields.filter((function(e){return 2!==e.kind}))}tf.UNKNOWN_ID=-1;var af=oi((function e(t,n){ii(this,e),this.fieldPath=t,this.kind=n}));var of=function(){function e(t,n){ii(this,e),this.sequenceNumber=t,this.offset=n}return oi(e,null,[{key:"empty",value:function(){return new e(0,cf.min())}}]),e}();function sf(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Yl.fromTimestamp(1e9===r?new Hl(n+1,0):new Hl(n,r));return new cf(i,ef.empty(),t)}function uf(e){return new cf(e.readTime,e.key,-1)}var cf=function(){function e(t,n,r){ii(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return oi(e,null,[{key:"min",value:function(){return new e(Yl.min(),ef.empty(),-1)}},{key:"max",value:function(){return new e(Yl.max(),ef.empty(),-1)}}]),e}();function lf(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=ef.comparator(e.documentKey,t.documentKey))?n:Ql(e.largestBatchId,t.largestBatchId)}var ff="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",hf=function(){function e(){ii(this,e),this.onCommittedListeners=[]}return oi(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function df(e){return pf.apply(this,arguments)}function pf(){return(pf=Kr(Qr().mark((function e(t){return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Ml.FAILED_PRECONDITION&&t.message===ff){e.next=2;break}throw t;case 2:Tl("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var vf=function(){function e(t){var n=this;ii(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return oi(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Al(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=ei(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),mf=function(){function e(t,n){var r=this;ii(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.V=new Ol,this.transaction.oncomplete=function(){r.V.resolve()},this.transaction.onabort=function(){n.error?r.V.reject(new bf(t,n.error)):r.V.resolve()},this.transaction.onerror=function(e){var n=Cf(e.target.error);r.V.reject(new bf(t,n))}}return oi(e,[{key:"m",get:function(){return this.V.promise}},{key:"abort",value:function(e){e&&this.V.reject(e),this.aborted||(Tl("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"g",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new kf(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new bf(n,t)}}}]),e}(),yf=function(){function e(t,n,r){ii(this,e),this.name=t,this.version=n,this.p=r,12.2===e.S(gi())&&El("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return oi(e,[{key:"O",value:function(){var e=Kr(Qr().mark((function e(t){var n=this;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Tl("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new bf(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Pl(Ml.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Pl(Ml.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new bf(t,n))},i.onupgradeneeded=function(e){Tl("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.p.N(t,i.transaction,e.oldVersion,n.version).next((function(){Tl("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.B&&(this.db.onversionchange=function(e){return n.B(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"L",value:function(e){this.B=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Kr(Qr().mark((function e(t,n,r,i){var a,o,s,u,c=this;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,s=Qr().mark((function e(){var n,s,u,l;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,c.O(t);case 4:return c.db=e.sent,n=mf.open(c.db,t,a?"readonly":"readwrite",r),s=i(n).next((function(e){return n.g(),e})).catch((function(e){return n.abort(e),vf.reject(e)})).toPromise(),s.catch((function(){})),e.next=9,n.m;case 9:return e.t0=s,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),u=e.t1,l="FirebaseError"!==u.name&&o<3,Tl("SimpleDb","Transaction failed with error:",u.message,"Retrying:",l),c.close(),l){e.next=18;break}return e.abrupt("return",{v:Promise.reject(u)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(s(),"t0",4);case 4:if("object"!==typeof(u=e.t0)){e.next=7;break}return e.abrupt("return",u.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Tl("SimpleDb","Removing database:",e),xf(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"D",value:function(){if(!wi())return!1;if(e.C())return!0;var t=gi(),n=e.S(t),r=0<n&&n<10,i=e.v(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"C",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.F)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"S",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"v",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),gf=function(){function e(t){ii(this,e),this.k=t,this.q=!1,this.K=null}return oi(e,[{key:"isDone",get:function(){return this.q}},{key:"$",get:function(){return this.K}},{key:"cursor",set:function(e){this.k=e}},{key:"done",value:function(){this.q=!0}},{key:"U",value:function(e){this.K=e}},{key:"delete",value:function(){return xf(this.k.delete())}}]),e}(),bf=function(e){ti(n,e);var t=ri(n);function n(e,r){var i;return ii(this,n),(i=t.call(this,Ml.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return oi(n)}(Pl);function wf(e){return"IndexedDbTransactionError"===e.name}var kf=function(){function e(t){ii(this,e),this.store=t}return oi(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Tl("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Tl("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),xf(n)}},{key:"add",value:function(e){return Tl("SimpleDb","ADD",this.store.name,e,e),xf(this.store.add(e))}},{key:"get",value:function(e){var t=this;return xf(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Tl("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Tl("SimpleDb","DELETE",this.store.name,e),xf(this.store.delete(e))}},{key:"count",value:function(){return Tl("SimpleDb","COUNT",this.store.name),xf(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.G(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new vf((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"j",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new vf((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"H",value:function(e,t){Tl("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.J=!1;var r=this.cursor(n);return this.G(r,(function(e,t,n){return n.delete()}))}},{key:"Y",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.G(r,t)}},{key:"Z",value:function(e){var t=this.cursor({});return new vf((function(n,r){t.onerror=function(e){var t=Cf(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"G",value:function(e,t){var n=[];return new vf((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new gf(i),o=t(i.primaryKey,i.value,a);if(o instanceof vf){var s=o.catch((function(e){return a.done(),vf.reject(e)}));n.push(s)}a.isDone?r():null===a.$?i.continue():i.continue(a.$)}else r()}})).next((function(){return vf.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.J?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function xf(e){return new vf((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Cf(e.target.error);n(t)}}))}var Sf=!1;function Cf(e){var t=yf.S(gi());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Pl("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Sf||(Sf=!0,setTimeout((function(){throw r}),0)),r}}return e}var Tf=function(){function e(t,n){ii(this,e),this.asyncQueue=t,this.X=n,this.task=null}return oi(e,[{key:"start",value:function(){this.ee(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"ee",value:function(e){var t=this;Tl("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,Kr(Qr().mark((function e(){return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=Tl,e.t1="Documents written: ",e.next=6,t.X.te();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!wf(e.t4)){e.next=17;break}Tl("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,df(e.t4);case 19:return e.next=21,t.ee(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),Ef=function(){function e(t,n){ii(this,e),this.localStore=t,this.persistence=n}return oi(e,[{key:"te",value:function(){var e=Kr(Qr().mark((function e(){var t,n=this,r=arguments;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.ne(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ne",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return vf.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return Tl("IndexBackiller","Processing collection: ".concat(t)),n.re(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"re",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.ie(i,n)})).next((function(n){return Tl("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"ie",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=uf(t);lf(r,n)>0&&(n=r)})),new cf(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),_f=function(){function e(t,n){var r=this;ii(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.se(e)},this.oe=function(e){return n.writeSequenceNumber(e)})}return oi(e,[{key:"se",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.oe&&this.oe(e),e}}]),e}();function If(e){return null==e}function Af(e){return 0===e&&1/e==-1/0}function Df(e){return"number"==typeof e&&Number.isInteger(e)&&!Af(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function Nf(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Pf(t)),t=Mf(e.get(n),t);return Pf(t)}function Mf(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Pf(e){return e+"\x01\x01"}function Of(e){var t=e.length;if(Dl(t>=2),2===t)return Dl("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Jl.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Al(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Al()}a=o+2}return new Jl(r)}_f._e=-1;var Rf=["userId","batchId"];function Lf(e,t){return[e,Nf(t)]}function Ff(e,t,n){return[e,Nf(t),n]}var Bf={},zf=["prefixPath","collectionGroup","readTime","documentId"],Vf=["prefixPath","collectionGroup","documentId"],jf=["collectionGroup","readTime","prefixPath","documentId"],qf=["canonicalId","targetId"],Uf=["targetId","path"],Wf=["path","targetId"],Qf=["collectionId","parent"],Gf=["indexId","uid"],Kf=["uid","sequenceNumber"],Hf=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Yf=["indexId","uid","orderedDocumentKey"],$f=["userId","collectionPath","documentId"],Jf=["userId","collectionPath","largestBatchId"],Xf=["userId","collectionGroup","largestBatchId"],Zf=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),eh=[].concat(et(Zf),["documentOverlays"]),th=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],nh=th,rh=[].concat(nh,["indexConfiguration","indexState","indexEntries"]),ih=function(e){ti(n,e);var t=ri(n);function n(e,r){var i;return ii(this,n),(i=t.call(this)).ae=e,i.currentSequenceNumber=r,i}return oi(n)}(hf);function ah(e,t){var n=Nl(e);return yf.M(n.ae,t)}function oh(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function sh(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function uh(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var ch=function(){function e(t,n){ii(this,e),this.comparator=t,this.root=n||fh.EMPTY}return oi(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,fh.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,fh.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new lh(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new lh(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new lh(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new lh(this.root,e,this.comparator,!0)}}]),e}(),lh=function(){function e(t,n,r,i){ii(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return oi(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),fh=function(){function e(t,n,r,i,a){ii(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return oi(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Al();if(this.right.isRed())throw Al();var e=this.left.check();if(e!==this.right.check())throw Al();return e+(this.isRed()?0:1)}}]),e}();fh.EMPTY=null,fh.RED=!0,fh.BLACK=!1,fh.EMPTY=new(function(){function e(){ii(this,e),this.size=0}return oi(e,[{key:"key",get:function(){throw Al()}},{key:"value",get:function(){throw Al()}},{key:"color",get:function(){throw Al()}},{key:"left",get:function(){throw Al()}},{key:"right",get:function(){throw Al()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new fh(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var hh=function(){function e(t){ii(this,e),this.comparator=t,this.data=new ch(this.comparator)}return oi(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new dh(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new dh(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),dh=function(){function e(t){ii(this,e),this.iter=t}return oi(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function ph(e){return e.hasNext()?e.getNext():void 0}var vh=function(){function e(t){ii(this,e),this.fields=t,t.sort(Zl.comparator)}return oi(e,[{key:"unionWith",value:function(t){var n,r=new hh(Zl.comparator),i=ei(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,s=ei(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(c){s.e(c)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=ei(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Gl(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),mh=function(e){ti(n,e);var t=ri(n);function n(){var e;return ii(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return oi(n)}(Zr(Error));var yh=function(e){function t(e){ii(this,t),this.binaryString=e}return oi(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Ql(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new mh("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();yh.EMPTY_BYTE_STRING=new yh("");var gh=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bh(e){if(Dl(!!e),"string"==typeof e){var t=0,n=gh.exec(e);if(Dl(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:wh(e.seconds),nanos:wh(e.nanos)}}function wh(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function kh(e){return"string"==typeof e?yh.fromBase64String(e):yh.fromUint8Array(e)}function xh(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Sh(e){var t=e.mapValue.fields.__previous_value__;return xh(t)?Sh(t):t}function Ch(e){var t=bh(e.mapValue.fields.__local_write_time__.timestampValue);return new Hl(t.seconds,t.nanos)}var Th=oi((function e(t,n,r,i,a,o,s,u,c){ii(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=u,this.useFetchStreams=c})),Eh=function(){function e(t,n){ii(this,e),this.projectId=t,this.database=n||"(default)"}return oi(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),_h={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ih={nullValue:"NULL_VALUE"};function Ah(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?xh(e)?4:Uh(e)?9007199254740991:10:Al()}function Dh(e,t){if(e===t)return!0;var n=Ah(e);if(n!==Ah(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ch(e).isEqual(Ch(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=bh(e.timestampValue),r=bh(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return kh(e.bytesValue).isEqual(kh(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return wh(e.geoPointValue.latitude)===wh(t.geoPointValue.latitude)&&wh(e.geoPointValue.longitude)===wh(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return wh(e.integerValue)===wh(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=wh(e.doubleValue),r=wh(t.doubleValue);return n===r?Af(n)===Af(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Gl(e.arrayValue.values||[],t.arrayValue.values||[],Dh);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(oh(n)!==oh(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Dh(n[i],r[i])))return!1;return!0}(e,t);default:return Al()}}function Nh(e,t){return void 0!==(e.values||[]).find((function(e){return Dh(e,t)}))}function Mh(e,t){if(e===t)return 0;var n=Ah(e),r=Ah(t);if(n!==r)return Ql(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ql(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=wh(e.integerValue||e.doubleValue),r=wh(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ph(e.timestampValue,t.timestampValue);case 4:return Ph(Ch(e),Ch(t));case 5:return Ql(e.stringValue,t.stringValue);case 6:return function(e,t){var n=kh(e),r=kh(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Ql(n[i],r[i]);if(0!==a)return a}return Ql(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Ql(wh(e.latitude),wh(t.latitude));return 0!==n?n:Ql(wh(e.longitude),wh(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Mh(n[i],r[i]);if(a)return a}return Ql(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===_h.mapValue&&t===_h.mapValue)return 0;if(e===_h.mapValue)return 1;if(t===_h.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=Ql(r[o],a[o]);if(0!==s)return s;var u=Mh(n[r[o]],i[a[o]]);if(0!==u)return u}return Ql(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Al()}}function Ph(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Ql(e,t);var n=bh(e),r=bh(t),i=Ql(n.seconds,r.seconds);return 0!==i?i:Ql(n.nanos,r.nanos)}function Oh(e){return Rh(e)}function Rh(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=bh(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return kh(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return ef.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){var t,n="[",r=!0,i=ei(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Rh(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=ei(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Rh(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Al()}function Lh(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Fh(e){return!!e&&"integerValue"in e}function Bh(e){return!!e&&"arrayValue"in e}function zh(e){return!!e&&"nullValue"in e}function Vh(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function jh(e){return!!e&&"mapValue"in e}function qh(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return sh(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=qh(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=qh(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Uh(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Wh(e){return"nullValue"in e?Ih:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Lh(Eh.empty(),ef.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Al()}function Qh(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Lh(Eh.empty(),ef.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?_h:Al()}function Gh(e,t){var n=Mh(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Kh(e,t){var n=Mh(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var Hh=function(){function e(t){ii(this,e),this.value=t}return oi(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!jh(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=qh(t)}},{key:"setAll",value:function(e){var t=this,n=Zl.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=qh(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());jh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Dh(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];jh(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){sh(t,(function(t,n){return e[t]=n}));var r,i=ei(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(qh(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Yh(e){var t=[];return sh(e.fields,(function(e,n){var r=new Zl([e]);if(jh(n)){var i=Yh(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=ei(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new vh(t)}var $h=function(){function e(t,n,r,i,a,o,s){ii(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}return oi(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(Yl.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Hh.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Hh.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Yl.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Yl.min(),Yl.min(),Yl.min(),Hh.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,Yl.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Yl.min(),Yl.min(),Hh.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Yl.min(),Yl.min(),Hh.empty(),2)}}]),e}(),Jh=oi((function e(t,n){ii(this,e),this.position=t,this.inclusive=n}));function Xh(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?ef.comparator(ef.fromName(o.referenceValue),n.key):Mh(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Zh(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Dh(e.position[n],t.position[n]))return!1;return!0}var ed=oi((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";ii(this,e),this.field=t,this.dir=n}));function td(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var nd=oi((function e(){ii(this,e)})),rd=function(e){ti(n,e);var t=ri(n);function n(e,r,i){var a;return ii(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return oi(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Mh(t,this.value)):null!==t&&Ah(this.value)===Ah(t)&&this.matchesComparison(Mh(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Al()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new dd(e,t,r):"array-contains"===t?new yd(e,r):"in"===t?new gd(e,r):"not-in"===t?new bd(e,r):"array-contains-any"===t?new wd(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new pd(e,n):new vd(e,n)}}]),n}(nd),id=function(e){ti(n,e);var t=ri(n);function n(e,r){var i;return ii(this,n),(i=t.call(this)).filters=e,i.op=r,i.ue=null,i}return oi(n,[{key:"matches",value:function(e){return ad(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ue||(this.ue=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ue}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(nd);function ad(e){return"and"===e.op}function od(e){return"or"===e.op}function sd(e){return ud(e)&&ad(e)}function ud(e){var t,n=ei(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof id)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function cd(e){if(e instanceof rd)return e.field.canonicalString()+e.op.toString()+Oh(e.value);if(sd(e))return e.filters.map((function(e){return cd(e)})).join(",");var t=e.filters.map((function(e){return cd(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function ld(e,t){return e instanceof rd?function(e,t){return t instanceof rd&&e.op===t.op&&e.field.isEqual(t.field)&&Dh(e.value,t.value)}(e,t):e instanceof id?function(e,t){return t instanceof id&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&ld(n,t.filters[r])}),!0)}(e,t):void Al()}function fd(e,t){var n=e.filters.concat(t);return id.create(n,e.op)}function hd(e){return e instanceof rd?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Oh(e.value))}(e):e instanceof id?function(e){return e.op.toString()+" {"+e.getFilters().map(hd).join(" ,")+"}"}(e):"Filter"}var dd=function(e){ti(n,e);var t=ri(n);function n(e,r,i){var a;return ii(this,n),(a=t.call(this,e,r,i)).key=ef.fromName(i.referenceValue),a}return oi(n,[{key:"matches",value:function(e){var t=ef.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(rd),pd=function(e){ti(n,e);var t=ri(n);function n(e,r){var i;return ii(this,n),(i=t.call(this,e,"in",r)).keys=md("in",r),i}return oi(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(rd),vd=function(e){ti(n,e);var t=ri(n);function n(e,r){var i;return ii(this,n),(i=t.call(this,e,"not-in",r)).keys=md("not-in",r),i}return oi(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(rd);function md(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return ef.fromName(e.referenceValue)}))}var yd=function(e){ti(n,e);var t=ri(n);function n(e,r){return ii(this,n),t.call(this,e,"array-contains",r)}return oi(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Bh(t)&&Nh(t.arrayValue,this.value)}}]),n}(rd),gd=function(e){ti(n,e);var t=ri(n);function n(e,r){return ii(this,n),t.call(this,e,"in",r)}return oi(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Nh(this.value.arrayValue,t)}}]),n}(rd),bd=function(e){ti(n,e);var t=ri(n);function n(e,r){return ii(this,n),t.call(this,e,"not-in",r)}return oi(n,[{key:"matches",value:function(e){if(Nh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Nh(this.value.arrayValue,t)}}]),n}(rd),wd=function(e){ti(n,e);var t=ri(n);function n(e,r){return ii(this,n),t.call(this,e,"array-contains-any",r)}return oi(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Bh(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Nh(t.value.arrayValue,e)}))}}]),n}(rd),kd=oi((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;ii(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ce=null}));function xd(e){return new kd(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Sd(e){var t=Nl(e);if(null===t.ce){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return cd(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),If(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Oh(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Oh(e)})).join(",")),t.ce=n}return t.ce}function Cd(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!td(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!ld(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Zh(e.startAt,t.startAt)&&Zh(e.endAt,t.endAt)}function Td(e){return ef.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Ed(e,t){return e.filters.filter((function(e){return e instanceof rd&&e.field.isEqual(t)}))}function _d(e,t,n){var r,i=Ih,a=!0,o=ei(Ed(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=Ih,c=!0;switch(s.op){case"<":case"<=":u=Wh(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,c=!1;break;case"!=":case"not-in":u=Ih}Gh({value:i,inclusive:a},{value:u,inclusive:c})<0&&(i=u,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Gh({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function Id(e,t,n){var r,i=_h,a=!0,o=ei(Ed(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=_h,c=!0;switch(s.op){case">=":case">":u=Qh(s.value),c=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,c=!1;break;case"!=":case"not-in":u=_h}Kh({value:i,inclusive:a},{value:u,inclusive:c})>0&&(i=u,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Kh({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var Ad=oi((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;ii(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}));function Dd(e,t,n,r,i,a,o,s){return new Ad(e,t,n,r,i,a,o,s)}function Nd(e){return new Ad(e)}function Md(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Pd(e){return null!==e.collectionGroup}function Od(e){var t=Nl(e);if(null===t.le){t.le=[];var n,r=new Set,i=ei(t.explicitOrderBy);try{for(i.s();!(n=i.n()).done;){var a=n.value;t.le.push(a),r.add(a.field.canonicalString())}}catch(u){i.e(u)}finally{i.f()}var o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",s=function(e){var t=new hh(Zl.comparator);return e.filters.forEach((function(e){e.getFlattenedFilters().forEach((function(e){e.isInequality()&&(t=t.add(e.field))}))})),t}(t);s.forEach((function(e){r.has(e.canonicalString())||e.isKeyField()||t.le.push(new ed(e,o))})),r.has(Zl.keyField().canonicalString())||t.le.push(new ed(Zl.keyField(),o))}return t.le}function Rd(e){var t=Nl(e);return t.he||(t.he=Ld(t,Od(e))),t.he}function Ld(e,t){if("F"===e.limitType)return xd(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);t=t.map((function(e){var t="desc"===e.dir?"asc":"desc";return new ed(e.field,t)}));var n=e.endAt?new Jh(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Jh(e.startAt.position,e.startAt.inclusive):null;return xd(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}function Fd(e,t){var n=e.filters.concat([t]);return new Ad(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Bd(e,t,n){return new Ad(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function zd(e,t){return Cd(Rd(e),Rd(t))&&e.limitType===t.limitType}function Vd(e){return"".concat(Sd(Rd(e)),"|lt:").concat(e.limitType)}function jd(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return hd(e)})).join(", "),"]")),If(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Oh(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Oh(e)})).join(",")),"Target(".concat(t,")")}(Rd(e)),"; limitType=").concat(e.limitType,")")}function qd(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ef.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=ei(Od(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=ei(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Xh(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Od(e),t))&&!(e.endAt&&!function(e,t,n){var r=Xh(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Od(e),t))}(e,t)}function Ud(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Wd(e){return function(t,n){var r,i=!1,a=ei(Od(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=Qd(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function Qd(e,t,n){var r=e.field.isKeyField()?ef.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Mh(r,i):Al()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Al()}}var Gd=function(){function e(t,n){ii(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return oi(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=ei(n);try{for(i.s();!(r=i.n()).done;){var a=o(r.value,2),s=a[0],u=a[1];if(this.equalsFn(s,e))return u}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){sh(this.inner,(function(t,n){var r,i=ei(n);try{for(i.s();!(r=i.n()).done;){var a=o(r.value,2),s=a[0],u=a[1];e(s,u)}}catch(c){i.e(c)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return uh(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Kd=new ch(ef.comparator);function Hd(){return Kd}var Yd=new ch(ef.comparator);function $d(){for(var e=Yd,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Jd(e){var t=Yd;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Xd(){return ep()}function Zd(){return ep()}function ep(){return new Gd((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var tp=new ch(ef.comparator),np=new hh(ef.comparator);function rp(){for(var e=np,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var ip=new hh(Ql);function ap(){return ip}function op(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Af(t)?"-0":t}}function sp(e){return{integerValue:""+e}}function up(e,t){return Df(t)?sp(t):op(e,t)}var cp=oi((function e(){ii(this,e),this._=void 0}));function lp(e,t,n){return e instanceof dp?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&xh(t)&&(t=Sh(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof pp?vp(e,t):e instanceof mp?yp(e,t):function(e,t){var n=hp(e,t),r=bp(n)+bp(e.Ie);return Fh(n)&&Fh(e.Ie)?sp(r):op(e.serializer,r)}(e,t)}function fp(e,t,n){return e instanceof pp?vp(e,t):e instanceof mp?yp(e,t):n}function hp(e,t){return e instanceof gp?function(e){return Fh(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}var dp=function(e){ti(n,e);var t=ri(n);function n(){return ii(this,n),t.apply(this,arguments)}return oi(n)}(cp),pp=function(e){ti(n,e);var t=ri(n);function n(e){var r;return ii(this,n),(r=t.call(this)).elements=e,r}return oi(n)}(cp);function vp(e,t){var n,r=wp(t),i=ei(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Dh(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var mp=function(e){ti(n,e);var t=ri(n);function n(e){var r;return ii(this,n),(r=t.call(this)).elements=e,r}return oi(n)}(cp);function yp(e,t){var n,r=wp(t),i=ei(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Dh(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var gp=function(e){ti(n,e);var t=ri(n);function n(e,r){var i;return ii(this,n),(i=t.call(this)).serializer=e,i.Ie=r,i}return oi(n)}(cp);function bp(e){return wh(e.integerValue||e.doubleValue)}function wp(e){return Bh(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var kp=oi((function e(t,n){ii(this,e),this.field=t,this.transform=n}));var xp=oi((function e(t,n){ii(this,e),this.version=t,this.transformResults=n})),Sp=function(){function e(t,n){ii(this,e),this.updateTime=t,this.exists=n}return oi(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Cp(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Tp=oi((function e(){ii(this,e)}));function Ep(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Bp(e.key,Sp.none()):new Np(e.key,e.data,Sp.none());var n,r=e.data,i=Hh.empty(),a=new hh(Zl.comparator),o=ei(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(c){o.e(c)}finally{o.f()}return new Mp(e.key,i,new vh(a.toArray()),Sp.none())}function _p(e,t,n){e instanceof Np?function(e,t,n){var r=e.value.clone(),i=Op(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Mp?function(e,t,n){if(Cp(e.precondition,t)){var r=Op(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Pp(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Ip(e,t,n,r){return e instanceof Np?function(e,t,n,r){if(!Cp(e.precondition,t))return n;var i=e.value.clone(),a=Rp(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Mp?function(e,t,n,r){if(!Cp(e.precondition,t))return n;var i=Rp(e.fieldTransforms,r,t),a=t.data;return a.setAll(Pp(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return Cp(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Ap(e,t){var n,r=null,i=ei(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=hp(a.transform,o||null);null!=s&&(null===r&&(r=Hh.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function Dp(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Gl(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof pp&&t instanceof pp||e instanceof mp&&t instanceof mp?Gl(e.elements,t.elements,Dh):e instanceof gp&&t instanceof gp?Dh(e.Ie,t.Ie):e instanceof dp&&t instanceof dp}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Np=function(e){ti(n,e);var t=ri(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return ii(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return oi(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Tp),Mp=function(e){ti(n,e);var t=ri(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return ii(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return oi(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(Tp);function Pp(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Op(e,t,n){var r=new Map;Dl(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,fp(o,s,n[i]))}return r}function Rp(e,t,n){var r,i=new Map,a=ei(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,lp(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Lp,Fp,Bp=function(e){ti(n,e);var t=ri(n);function n(e,r){var i;return ii(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return oi(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Tp),zp=function(e){ti(n,e);var t=ri(n);function n(e,r){var i;return ii(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return oi(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Tp),Vp=function(){function e(t,n,r,i){ii(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return oi(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&_p(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=ei(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=Ip(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=ei(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=Ip(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Zd();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=Ep(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Yl.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),rp())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Gl(this.mutations,e.mutations,(function(e,t){return Dp(e,t)}))&&Gl(this.baseMutations,e.baseMutations,(function(e,t){return Dp(e,t)}))}}]),e}(),jp=function(){function e(t,n,r,i){ii(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return oi(e,null,[{key:"from",value:function(t,n,r){Dl(t.mutations.length===r.length);for(var i=tp,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),qp=function(){function e(t,n){ii(this,e),this.largestBatchId=t,this.mutation=n}return oi(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Up=oi((function e(t,n){ii(this,e),this.count=t,this.unchangedNames=n}));function Wp(e){switch(e){default:return Al();case Ml.CANCELLED:case Ml.UNKNOWN:case Ml.DEADLINE_EXCEEDED:case Ml.RESOURCE_EXHAUSTED:case Ml.INTERNAL:case Ml.UNAVAILABLE:case Ml.UNAUTHENTICATED:return!1;case Ml.INVALID_ARGUMENT:case Ml.NOT_FOUND:case Ml.ALREADY_EXISTS:case Ml.PERMISSION_DENIED:case Ml.FAILED_PRECONDITION:case Ml.ABORTED:case Ml.OUT_OF_RANGE:case Ml.UNIMPLEMENTED:case Ml.DATA_LOSS:return!0}}function Qp(e){if(void 0===e)return El("GRPC error has no .code"),Ml.UNKNOWN;switch(e){case Lp.OK:return Ml.OK;case Lp.CANCELLED:return Ml.CANCELLED;case Lp.UNKNOWN:return Ml.UNKNOWN;case Lp.DEADLINE_EXCEEDED:return Ml.DEADLINE_EXCEEDED;case Lp.RESOURCE_EXHAUSTED:return Ml.RESOURCE_EXHAUSTED;case Lp.INTERNAL:return Ml.INTERNAL;case Lp.UNAVAILABLE:return Ml.UNAVAILABLE;case Lp.UNAUTHENTICATED:return Ml.UNAUTHENTICATED;case Lp.INVALID_ARGUMENT:return Ml.INVALID_ARGUMENT;case Lp.NOT_FOUND:return Ml.NOT_FOUND;case Lp.ALREADY_EXISTS:return Ml.ALREADY_EXISTS;case Lp.PERMISSION_DENIED:return Ml.PERMISSION_DENIED;case Lp.FAILED_PRECONDITION:return Ml.FAILED_PRECONDITION;case Lp.ABORTED:return Ml.ABORTED;case Lp.OUT_OF_RANGE:return Ml.OUT_OF_RANGE;case Lp.UNIMPLEMENTED:return Ml.UNIMPLEMENTED;case Lp.DATA_LOSS:return Ml.DATA_LOSS;default:return Al()}}(Fp=Lp||(Lp={}))[Fp.OK=0]="OK",Fp[Fp.CANCELLED=1]="CANCELLED",Fp[Fp.UNKNOWN=2]="UNKNOWN",Fp[Fp.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fp[Fp.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fp[Fp.NOT_FOUND=5]="NOT_FOUND",Fp[Fp.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fp[Fp.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fp[Fp.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fp[Fp.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fp[Fp.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fp[Fp.ABORTED=10]="ABORTED",Fp[Fp.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fp[Fp.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fp[Fp.INTERNAL=13]="INTERNAL",Fp[Fp.UNAVAILABLE=14]="UNAVAILABLE",Fp[Fp.DATA_LOSS=15]="DATA_LOSS";var Gp=null;function Kp(){return new TextEncoder}var Hp=new bl([4294967295,4294967295],0);function Yp(e){var t=Kp().encode(e),n=new gl;return n.update(t),new Uint8Array(n.digest())}function $p(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new bl([n,r],0),new bl([i,a],0)]}var Jp=function(){function e(t,n,r){if(ii(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Xp("Invalid padding: ".concat(n));if(r<0)throw new Xp("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new Xp("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new Xp("Invalid padding when bitmap length is 0: ".concat(n));this.Te=8*t.length-n,this.Ee=bl.fromNumber(this.Te)}return oi(e,[{key:"de",value:function(e,t,n){var r=e.add(t.multiply(bl.fromNumber(n)));return 1===r.compare(Hp)&&(r=new bl([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}},{key:"Ae",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"mightContain",value:function(e){if(0===this.Te)return!1;for(var t=o($p(Yp(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.de(n,r,i);if(!this.Ae(a))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.Te)for(var t=o($p(Yp(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.de(n,r,i);this.Re(a)}}},{key:"Re",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((function(e){return a.insert(e)})),a}}]),e}(),Xp=function(e){ti(n,e);var t=ri(n);function n(){var e;return ii(this,n),(e=t.apply(this,arguments)).name="BloomFilterError",e}return oi(n)}(Zr(Error)),Zp=function(){function e(t,n,r,i,a){ii(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return oi(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,ev.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Yl.min(),i,new ch(Ql),Hd(),rp())}}]),e}(),ev=function(){function e(t,n,r,i,a){ii(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return oi(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,rp(),rp(),rp())}}]),e}(),tv=oi((function e(t,n,r,i){ii(this,e),this.Ve=t,this.removedTargetIds=n,this.key=r,this.me=i})),nv=oi((function e(t,n){ii(this,e),this.targetId=t,this.fe=n})),rv=oi((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:yh.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;ii(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),iv=function(){function e(){ii(this,e),this.ge=0,this.pe=sv(),this.ye=yh.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}return oi(e,[{key:"current",get:function(){return this.we}},{key:"resumeToken",get:function(){return this.ye}},{key:"be",get:function(){return 0!==this.ge}},{key:"De",get:function(){return this.Se}},{key:"Ce",value:function(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}},{key:"ve",value:function(){var e=rp(),t=rp(),n=rp();return this.pe.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Al()}})),new ev(this.ye,this.we,e,t,n)}},{key:"Fe",value:function(){this.Se=!1,this.pe=sv()}},{key:"Me",value:function(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}},{key:"xe",value:function(e){this.Se=!0,this.pe=this.pe.remove(e)}},{key:"Oe",value:function(){this.ge+=1}},{key:"Ne",value:function(){this.ge-=1,Dl(this.ge>=0)}},{key:"Be",value:function(){this.Se=!0,this.we=!0}}]),e}(),av=function(){function e(t){ii(this,e),this.Le=t,this.ke=new Map,this.qe=Hd(),this.Qe=ov(),this.Ke=new ch(Ql)}return oi(e,[{key:"$e",value:function(e){var t,n=ei(e.Ve);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.me&&e.me.isFoundDocument()?this.Ue(r,e.me):this.We(r,e.key,e.me)}}catch(s){n.e(s)}finally{n.f()}var i,a=ei(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.We(o,e.key,e.me)}}catch(s){a.e(s)}finally{a.f()}}},{key:"Ge",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.ze(n);switch(e.state){case 0:t.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||t.removeTarget(n);break;case 3:t.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:t.je(n)&&(t.He(n),r.Ce(e.resumeToken));break;default:Al()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach((function(e,r){n.je(r)&&t(r)}))}},{key:"Je",value:function(e){var t=e.targetId,n=e.fe.count,r=this.Ye(t);if(r){var i=r.target;if(Td(i))if(0===n){var a=new ef(i.path);this.We(t,a,$h.newNoDocument(a,Yl.min()))}else Dl(1===n);else{var o=this.Ze(t);if(o!==n){var s=this.Xe(e),u=s?this.et(s,e,o):1;if(0!==u){this.He(t);var c=2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,c)}null==Gp||Gp.tt(function(e,t,n,r,i){var a,o,s,u,c,l,f={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(f.bloomFilter={applied:0===i,hashCount:null!==(a=null==h?void 0:h.hashCount)&&void 0!==a?a:0,bitmapLength:null!==(u=null===(s=null===(o=null==h?void 0:h.bits)||void 0===o?void 0:o.bitmap)||void 0===s?void 0:s.length)&&void 0!==u?u:0,padding:null!==(l=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:function(e){var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),f}(o,e.fe,this.Le.nt(),s,u))}}}}},{key:"Xe",value:function(e){var t=e.fe.unchangedNames;if(!t||!t.bits)return null;var n,r,i=t.bits,a=i.bitmap,o=void 0===a?"":a,s=i.padding,u=void 0===s?0:s,c=t.hashCount,l=void 0===c?0:c;try{n=kh(o).toUint8Array()}catch(e){if(e instanceof mh)return _l("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{r=new Jp(n,u,l)}catch(e){return _l(e instanceof Xp?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===r.Te?null:r}},{key:"et",value:function(e,t,n){return t.fe.count===n-this.rt(e,t.targetId)?0:2}},{key:"rt",value:function(e,t){var n=this,r=this.Le.getRemoteKeysForTarget(t),i=0;return r.forEach((function(r){var a=n.Le.nt(),o="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(r.path.canonicalString());e.mightContain(o)||(n.We(t,r,null),i++)})),i}},{key:"it",value:function(e){var t=this,n=new Map;this.ke.forEach((function(r,i){var a=t.Ye(i);if(a){if(r.current&&Td(a.target)){var o=new ef(a.target.path);null!==t.qe.get(o)||t.st(i,o)||t.We(i,o,$h.newNoDocument(o,e))}r.De&&(n.set(i,r.ve()),r.Fe())}}));var r=rp();this.Qe.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Ye(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.qe.forEach((function(t,n){return n.setReadTime(e)}));var i=new Zp(e,n,this.Ke,this.qe,r);return this.qe=Hd(),this.Qe=ov(),this.Ke=new ch(Ql),i}},{key:"Ue",value:function(e,t){if(this.je(e)){var n=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,n),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}}},{key:"We",value:function(e,t,n){if(this.je(e)){var r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),n&&(this.qe=this.qe.insert(t,n))}}},{key:"removeTarget",value:function(e){this.ke.delete(e)}},{key:"Ze",value:function(e){var t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Oe",value:function(e){this.ze(e).Oe()}},{key:"ze",value:function(e){var t=this.ke.get(e);return t||(t=new iv,this.ke.set(e,t)),t}},{key:"ot",value:function(e){var t=this.Qe.get(e);return t||(t=new hh(Ql),this.Qe=this.Qe.insert(e,t)),t}},{key:"je",value:function(e){var t=null!==this.Ye(e);return t||Tl("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Ye",value:function(e){var t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}},{key:"He",value:function(e){var t=this;this.ke.set(e,new iv),this.Le.getRemoteKeysForTarget(e).forEach((function(n){t.We(e,n,null)}))}},{key:"st",value:function(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}]),e}();function ov(){return new ch(ef.comparator)}function sv(){return new ch(ef.comparator)}var uv={asc:"ASCENDING",desc:"DESCENDING"},cv={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lv={and:"AND",or:"OR"},fv=oi((function e(t,n){ii(this,e),this.databaseId=t,this.useProto3Json=n}));function hv(e,t){return e.useProto3Json||If(t)?t:{value:t}}function dv(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function pv(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function vv(e,t){return dv(e,t.toTimestamp())}function mv(e){return Dl(!!e),Yl.fromTimestamp(function(e){var t=bh(e);return new Hl(t.seconds,t.nanos)}(e))}function yv(e,t){return function(e){return new Jl(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function gv(e){var t=Jl.fromString(e);return Dl(jv(t)),t}function bv(e,t){return yv(e.databaseId,t.path)}function wv(e,t){var n=gv(t);if(n.get(1)!==e.databaseId.projectId)throw new Pl(Ml.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Pl(Ml.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ef(Cv(n))}function kv(e,t){return yv(e.databaseId,t)}function xv(e){var t=gv(e);return 4===t.length?Jl.emptyPath():Cv(t)}function Sv(e){return new Jl(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Cv(e){return Dl(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Tv(e,t,n){return{name:bv(e,t),fields:n.value.mapValue.fields}}function Ev(e,t,n){var r=wv(e,t.name),i=mv(t.updateTime),a=t.createTime?mv(t.createTime):Yl.min(),o=new Hh({mapValue:{fields:t.fields}}),s=$h.newFoundDocument(r,i,a,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function _v(e,t){return"found"in t?function(e,t){Dl(!!t.found),t.found.name,t.found.updateTime;var n=wv(e,t.found.name),r=mv(t.found.updateTime),i=t.found.createTime?mv(t.found.createTime):Yl.min(),a=new Hh({mapValue:{fields:t.found.fields}});return $h.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){Dl(!!t.missing),Dl(!!t.readTime);var n=wv(e,t.missing),r=mv(t.readTime);return $h.newNoDocument(n,r)}(e,t):Al()}function Iv(e,t){var n;if(t instanceof Np)n={update:Tv(e,t.key,t.value)};else if(t instanceof Bp)n={delete:bv(e,t.key)};else if(t instanceof Mp)n={update:Tv(e,t.key,t.data),updateMask:Vv(t.fieldMask)};else{if(!(t instanceof zp))return Al();n={verify:bv(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof dp)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof pp)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof mp)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof gp)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw Al()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:vv(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Al()}(e,t.precondition)),n}function Av(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Sp.updateTime(mv(e.updateTime)):void 0!==e.exists?Sp.exists(e.exists):Sp.none()}(t.currentDocument):Sp.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Dl("REQUEST_TIME"===t.setToServerValue),n=new dp;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new pp(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new mp(i)}else"increment"in t?n=new gp(e,t.increment):Al();var a=Zl.fromServerFormat(t.fieldPath);return new kp(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=wv(e,t.update.name),a=new Hh({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new vh(t.map((function(e){return Zl.fromServerFormat(e)})))}(t.updateMask);return new Mp(i,a,o,n,r)}return new Np(i,a,n,r)}if(t.delete){var s=wv(e,t.delete);return new Bp(s,n)}if(t.verify){var u=wv(e,t.verify);return new zp(u,n)}return Al()}function Dv(e,t){return{documents:[kv(e,t.path)]}}function Nv(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=kv(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=kv(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return zv(id.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Fv(e.field),direction:Ov(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o=hv(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Mv(e){var t=xv(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Dl(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=Pv(e);return t instanceof id&&sd(t)?t.getFilters():[t]}(n.where));var s=[];n.orderBy&&(s=function(e){return e.map((function(e){return function(e){return new ed(Bv(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)}))}(n.orderBy));var u=null;n.limit&&(u=function(e){var t;return If(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Jh(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Jh(n,t)}(n.endAt)),Dd(t,i,s,o,u,"F",c,l)}function Pv(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Bv(e.unaryFilter.field);return rd.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Bv(e.unaryFilter.field);return rd.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Bv(e.unaryFilter.field);return rd.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Bv(e.unaryFilter.field);return rd.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Al()}}(e):void 0!==e.fieldFilter?function(e){return rd.create(Bv(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Al()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return id.create(e.compositeFilter.filters.map((function(e){return Pv(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Al()}}(e.compositeFilter.op))}(e):Al()}function Ov(e){return uv[e]}function Rv(e){return cv[e]}function Lv(e){return lv[e]}function Fv(e){return{fieldPath:e.canonicalString()}}function Bv(e){return Zl.fromServerFormat(e.fieldPath)}function zv(e){return e instanceof rd?function(e){if("=="===e.op){if(Vh(e.value))return{unaryFilter:{field:Fv(e.field),op:"IS_NAN"}};if(zh(e.value))return{unaryFilter:{field:Fv(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Vh(e.value))return{unaryFilter:{field:Fv(e.field),op:"IS_NOT_NAN"}};if(zh(e.value))return{unaryFilter:{field:Fv(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fv(e.field),op:Rv(e.op),value:e.value}}}(e):e instanceof id?function(e){var t=e.getFilters().map((function(e){return zv(e)}));return 1===t.length?t[0]:{compositeFilter:{op:Lv(e.op),filters:t}}}(e):Al()}function Vv(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function jv(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var qv=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Yl.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Yl.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:yh.EMPTY_BYTE_STRING,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;ii(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=u}return oi(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}]),e}(),Uv=oi((function e(t){ii(this,e),this.ut=t}));function Wv(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Qv(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:bv(e,t.key),fields:t.data.value.mapValue.fields,updateTime:dv(e,t.version.toTimestamp()),createTime:dv(e,t.createTime.toTimestamp())}}(e.ut,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Gv(t.version)};else{if(!t.isUnknownDocument())return Al();r.unknownDocument={path:n.path.toArray(),version:Gv(t.version)}}return r}function Qv(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Gv(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Kv(e){var t=new Hl(e.seconds,e.nanoseconds);return Yl.fromTimestamp(t)}function Hv(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Av(e.ut,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Av(e.ut,t)})),s=Hl.fromMillis(t.localWriteTimeMs);return new Vp(t.batchId,s,n,o)}function Yv(e){var t,n=Kv(e.readTime),r=void 0!==e.lastLimboFreeSnapshotVersion?Kv(e.lastLimboFreeSnapshotVersion):Yl.min();return t=function(e){return void 0!==e.documents}(e.query)?function(e){return Dl(1===e.documents.length),Rd(Nd(xv(e.documents[0])))}(e.query):function(e){return Rd(Mv(e))}(e.query),new qv(t,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,n,r,yh.fromBase64String(e.resumeToken))}function $v(e,t){var n,r=Gv(t.snapshotVersion),i=Gv(t.lastLimboFreeSnapshotVersion);n=Td(t.target)?Dv(e.ut,t.target):Nv(e.ut,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Sd(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Jv(e){var t=Mv({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Bd(t,t.limit,"L"):t}function Xv(e,t){return new qp(t.largestBatchId,Av(e.ut,t.overlayMutation))}function Zv(e,t){var n=t.path.lastSegment();return[e,Nf(t.path.popLast()),n]}function em(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Gv(r.readTime),documentKey:Nf(r.documentKey.path),largestBatchId:r.largestBatchId}}var tm=function(){function e(){ii(this,e)}return oi(e,[{key:"getBundleMetadata",value:function(e,t){return nm(e).get(t).next((function(e){if(e)return function(e){return{id:e.bundleId,createTime:Kv(e.createTime),version:e.version}}(e)}))}},{key:"saveBundleMetadata",value:function(e,t){return nm(e).put(function(e){return{bundleId:e.id,createTime:Gv(mv(e.createTime)),version:e.version}}(t))}},{key:"getNamedQuery",value:function(e,t){return rm(e).get(t).next((function(e){if(e)return function(e){return{name:e.name,query:Jv(e.bundledQuery),readTime:Kv(e.readTime)}}(e)}))}},{key:"saveNamedQuery",value:function(e,t){return rm(e).put(function(e){return{name:e.name,readTime:Gv(mv(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function nm(e){return ah(e,"bundles")}function rm(e){return ah(e,"namedQueries")}var im=function(){function e(t,n){ii(this,e),this.serializer=t,this.userId=n}return oi(e,[{key:"getOverlay",value:function(e,t){var n=this;return am(e).get(Zv(this.userId,t)).next((function(e){return e?Xv(n.serializer,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=Xd();return vf.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new qp(t,a);i.push(r.lt(e,o))})),vf.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Nf(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(am(e).H("collectionPathOverlayIndex",i))})),vf.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Xd(),a=Nf(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return am(e).W("collectionPathOverlayIndex",o).next((function(e){var t,n=ei(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=Xv(r.serializer,a);i.set(o.getKey(),o)}}catch(s){n.e(s)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Xd(),s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return am(e).Y({index:"collectionGroupOverlayIndex",range:s},(function(e,t,n){var s=Xv(a.serializer,t);o.size()<r||s.largestBatchId===i?(o.set(s.getKey(),s),i=s.largestBatchId):n.done()})).next((function(){return o}))}},{key:"lt",value:function(e,t){return am(e).put(function(e,t,n){var r=o(Zv(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Iv(e.ut,n.mutation)}}(this.serializer,this.userId,t))}}],[{key:"ct",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function am(e){return ah(e,"documentOverlays")}var om=function(){function e(){ii(this,e)}return oi(e,[{key:"ht",value:function(e,t){this.Pt(e,t),t.It()}},{key:"Pt",value:function(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(wh(e.integerValue));else if("doubleValue"in e){var n=wh(e.doubleValue);isNaN(n)?this.Tt(t,13):(this.Tt(t,15),Af(n)?t.Et(0):t.Et(n))}else if("timestampValue"in e){var r=e.timestampValue;this.Tt(t,20),"string"==typeof r?t.dt(r):(t.dt("".concat(r.seconds||"")),t.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(kh(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.Tt(t,45),t.Et(i.latitude||0),t.Et(i.longitude||0)}else"mapValue"in e?Uh(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):Al()}},{key:"At",value:function(e,t){this.Tt(t,25),this.wt(e,t)}},{key:"wt",value:function(e,t){t.dt(e)}},{key:"gt",value:function(e,t){var n=e.fields||{};this.Tt(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.At(a,t),this.Pt(n[a],t)}}},{key:"yt",value:function(e,t){var n=e.values||[];this.Tt(t,50);var r,i=ei(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.Pt(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ft",value:function(e,t){var n=this;this.Tt(t,37),ef.fromName(e).path.forEach((function(e){n.Tt(t,60),n.wt(e,t)}))}},{key:"Tt",value:function(e,t){e.Et(t)}},{key:"Rt",value:function(e){e.Et(2)}}]),e}();function sm(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function um(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=sm(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}om.St=new om;var cm=function(){function e(){ii(this,e),this.buffer=new Uint8Array(1024),this.position=0}return oi(e,[{key:"bt",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Dt(n.value),n=t.next();this.Ct()}},{key:"vt",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ft(n.value),n=t.next();this.Mt()}},{key:"xt",value:function(e){var t,n=ei(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Dt(i);else if(i<2048)this.Dt(960|i>>>6),this.Dt(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Dt(480|i>>>12),this.Dt(128|63&i>>>6),this.Dt(128|63&i);else{var a=r.codePointAt(0);this.Dt(240|a>>>18),this.Dt(128|63&a>>>12),this.Dt(128|63&a>>>6),this.Dt(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ct()}},{key:"Ot",value:function(e){var t,n=ei(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ft(i);else if(i<2048)this.Ft(960|i>>>6),this.Ft(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ft(480|i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i);else{var a=r.codePointAt(0);this.Ft(240|a>>>18),this.Ft(128|63&a>>>12),this.Ft(128|63&a>>>6),this.Ft(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Mt()}},{key:"Nt",value:function(e){var t=this.Bt(e),n=um(t);this.Lt(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"kt",value:function(e){var t=this.Bt(e),n=um(t);this.Lt(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"qt",value:function(){this.Qt(255),this.Qt(255)}},{key:"Kt",value:function(){this.$t(255),this.$t(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Ut",value:function(){return this.buffer.slice(0,this.position)}},{key:"Bt",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Dt",value:function(e){var t=255&e;0===t?(this.Qt(0),this.Qt(255)):255===t?(this.Qt(255),this.Qt(0)):this.Qt(t)}},{key:"Ft",value:function(e){var t=255&e;0===t?(this.$t(0),this.$t(255)):255===t?(this.$t(255),this.$t(0)):this.$t(e)}},{key:"Ct",value:function(){this.Qt(0),this.Qt(1)}},{key:"Mt",value:function(){this.$t(0),this.$t(1)}},{key:"Qt",value:function(e){this.Lt(1),this.buffer[this.position++]=e}},{key:"$t",value:function(e){this.Lt(1),this.buffer[this.position++]=~e}},{key:"Lt",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),lm=function(){function e(t){ii(this,e),this.Wt=t}return oi(e,[{key:"Vt",value:function(e){this.Wt.bt(e)}},{key:"dt",value:function(e){this.Wt.xt(e)}},{key:"Et",value:function(e){this.Wt.Nt(e)}},{key:"It",value:function(){this.Wt.qt()}}]),e}(),fm=function(){function e(t){ii(this,e),this.Wt=t}return oi(e,[{key:"Vt",value:function(e){this.Wt.vt(e)}},{key:"dt",value:function(e){this.Wt.Ot(e)}},{key:"Et",value:function(e){this.Wt.kt(e)}},{key:"It",value:function(){this.Wt.Kt()}}]),e}(),hm=function(){function e(){ii(this,e),this.Wt=new cm,this.Gt=new lm(this.Wt),this.zt=new fm(this.Wt)}return oi(e,[{key:"seed",value:function(e){this.Wt.seed(e)}},{key:"jt",value:function(e){return 0===e?this.Gt:this.zt}},{key:"Ut",value:function(){return this.Wt.Ut()}},{key:"reset",value:function(){this.Wt.reset()}}]),e}(),dm=function(){function e(t,n,r,i){ii(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return oi(e,[{key:"Ht",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function pm(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=vm(e.arrayValue,t.arrayValue))?n:0!==(n=vm(e.directionalValue,t.directionalValue))?n:ef.comparator(e.documentKey,t.documentKey)}function vm(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var mm=function(){function e(t){ii(this,e),this.Jt=new hh((function(e,t){return Zl.comparator(e.field,t.field)})),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Yt=t.orderBy,this.Zt=[];var n,r=ei(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.Jt=this.Jt.add(i):this.Zt.push(i)}}catch(a){r.e(a)}finally{r.f()}}return oi(e,[{key:"Xt",get:function(){return this.Jt.size>1}},{key:"en",value:function(e){if(Dl(e.collectionGroup===this.collectionId),this.Xt)return!1;var t=nf(e);if(void 0!==t&&!this.tn(t))return!1;for(var n=rf(e),r=new Set,i=0,a=0;i<n.length&&this.tn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.Jt.size>0){var o=this.Jt.getIterator().getNext();if(!r.has(o.field.canonicalString())){var s=n[i];if(!this.nn(o,s)||!this.rn(this.Yt[a++],s))return!1}++i}for(;i<n.length;++i){var u=n[i];if(a>=this.Yt.length||!this.rn(this.Yt[a++],u))return!1}return!0}},{key:"sn",value:function(){if(this.Xt)return null;var e,t=new hh(Zl.comparator),n=[],r=ei(this.Zt);try{for(r.s();!(e=r.n()).done;){var i=e.value;if(!i.field.isKeyField())if("array-contains"===i.op||"array-contains-any"===i.op)n.push(new af(i.field,2));else{if(t.has(i.field))continue;t=t.add(i.field),n.push(new af(i.field,0))}}}catch(u){r.e(u)}finally{r.f()}var a,o=ei(this.Yt);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.field.isKeyField()||t.has(s.field)||(t=t.add(s.field),n.push(new af(s.field,"asc"===s.dir?0:1)))}}catch(u){o.e(u)}finally{o.f()}return new tf(tf.UNKNOWN_ID,this.collectionId,n,of.empty())}},{key:"tn",value:function(e){var t,n=ei(this.Zt);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.nn(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"nn",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"rn",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function ym(e){var t,n;if(Dl(e instanceof rd||e instanceof id),e instanceof rd){if(e instanceof gd){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return rd.create(e.field,"==",t)})))||[];return id.create(r,"or")}return e}var i=e.filters.map((function(e){return ym(e)}));return id.create(i,e.op)}function gm(e){if(0===e.getFilters().length)return[];var t=xm(ym(e));return Dl(km(t)),bm(t)||wm(t)?[t]:t.getFilters()}function bm(e){return e instanceof rd}function wm(e){return e instanceof id&&sd(e)}function km(e){return bm(e)||wm(e)||function(e){if(e instanceof id&&od(e)){var t,n=ei(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!bm(r)&&!wm(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function xm(e){if(Dl(e instanceof rd||e instanceof id),e instanceof rd)return e;if(1===e.filters.length)return xm(e.filters[0]);var t=e.filters.map((function(e){return xm(e)})),n=id.create(t,e.op);return km(n=Tm(n))?n:(Dl(n instanceof id),Dl(ad(n)),Dl(n.filters.length>1),n.filters.reduce((function(e,t){return Sm(e,t)})))}function Sm(e,t){var n;return Dl(e instanceof rd||e instanceof id),Dl(t instanceof rd||t instanceof id),n=e instanceof rd?t instanceof rd?function(e,t){return id.create([e,t],"and")}(e,t):Cm(e,t):t instanceof rd?Cm(t,e):function(e,t){if(Dl(e.filters.length>0&&t.filters.length>0),ad(e)&&ad(t))return fd(e,t.getFilters());var n=od(e)?e:t,r=od(e)?t:e,i=n.filters.map((function(e){return Sm(e,r)}));return id.create(i,"or")}(e,t),Tm(n)}function Cm(e,t){if(ad(t))return fd(t,e.getFilters());var n=t.filters.map((function(t){return Sm(e,t)}));return id.create(n,"or")}function Tm(e){if(Dl(e instanceof rd||e instanceof id),e instanceof rd)return e;var t=e.getFilters();if(1===t.length)return Tm(t[0]);if(ud(e))return e;var n=t.map((function(e){return Tm(e)})),r=[];return n.forEach((function(t){t instanceof rd?r.push(t):t instanceof id&&(t.op===e.op?r.push.apply(r,et(t.filters)):r.push(t))})),1===r.length?r[0]:id.create(r,e.op)}var Em=function(){function e(){ii(this,e),this.on=new _m}return oi(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.on.add(t),vf.resolve()}},{key:"getCollectionParents",value:function(e,t){return vf.resolve(this.on.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return vf.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return vf.resolve()}},{key:"deleteAllFieldIndexes",value:function(e){return vf.resolve()}},{key:"createTargetIndexes",value:function(e,t){return vf.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return vf.resolve(null)}},{key:"getIndexType",value:function(e,t){return vf.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return vf.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return vf.resolve(null)}},{key:"getMinOffset",value:function(e,t){return vf.resolve(cf.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return vf.resolve(cf.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return vf.resolve()}},{key:"updateIndexEntries",value:function(e,t){return vf.resolve()}}]),e}(),_m=function(){function e(){ii(this,e),this.index={}}return oi(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new hh(Jl.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new hh(Jl.comparator)).toArray()}}]),e}(),Im=new Uint8Array(0),Am=function(){function e(t,n){ii(this,e),this.user=t,this.databaseId=n,this._n=new _m,this.an=new Gd((function(e){return Sd(e)}),(function(e,t){return Cd(e,t)})),this.uid=t.uid||""}return oi(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this._n.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n._n.add(t)}));var a={collectionId:r,parent:Nf(i)};return Dm(e).put(a)}return vf.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Kl(t),""],!1,!0);return Dm(e).W(r).next((function(e){var r,i=ei(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Of(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=Mm(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=Pm(e);return a.next((function(e){o.put(em(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=Mm(e),r=Pm(e),i=Nm(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"deleteAllFieldIndexes",value:function(e){var t=Mm(e),n=Nm(e),r=Pm(e);return t.H().next((function(){return n.H()})).next((function(){return r.H()}))}},{key:"createTargetIndexes",value:function(e,t){var n=this;return vf.forEach(this.un(t),(function(t){return n.getIndexType(e,t).next((function(r){if(0===r||1===r){var i=new mm(t).sn();if(null!=i)return n.addFieldIndex(e,i)}}))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=Nm(e),i=!0,a=new Map;return vf.forEach(this.un(t),(function(t){return n.cn(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=rp(),o=[];return vf.forEach(a,(function(i,a){Tl("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(","))}(i)," to execute ").concat(Sd(t)));var s=function(e,t){var n=nf(t);if(void 0===n)return null;var r,i=ei(Ed(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),u=function(e,t){var n,r=new Map,i=ei(rf(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,s=ei(Ed(e,o.fieldPath));try{for(s.s();!(a=s.n()).done;){var u=a.value;switch(u.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),u.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),u.value),Array.from(r.values())}}}catch(c){s.e(c)}finally{s.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=[],i=!0,a=ei(rf(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?_d(e,o.fieldPath,e.startAt):Id(e,o.fieldPath,e.startAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new Jh(r,i)}(a,i),l=function(e,t){var n,r=[],i=!0,a=ei(rf(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?Id(e,o.fieldPath,e.endAt):_d(e,o.fieldPath,e.endAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new Jh(r,i)}(a,i),f=n.ln(i,a,c),h=n.ln(i,a,l),d=n.hn(i,a,u),p=n.Pn(i.indexId,s,f,c.inclusive,h,l.inclusive,d);return vf.forEach(p,(function(n){return r.j(n,t.limit).next((function(t){t.forEach((function(t){var n=ef.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return vf.resolve(null)}))}},{key:"un",value:function(e){var t=this.an.get(e);return t||(t=0===e.filters.length?[e]:gm(id.create(e.filters,"and")).map((function(t){return xd(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.an.set(e,t),t)}},{key:"Pn",value:function(e,t,n,r,i,a,o){for(var s=this,u=(null!=t?t.length:1)*Math.max(n.length,i.length),c=u/(null!=t?t.length:1),l=[],f=function(){var u=t?s.In(t[h/c]):Im,f=s.Tn(e,u,n[h%c],r),d=s.En(e,u,i[h%c],a),p=o.map((function(t){return s.Tn(e,u,t,!0)}));l.push.apply(l,et(s.createRange(f,d,p)))},h=0;h<u;++h)f();return l}},{key:"Tn",value:function(e,t,n,r){var i=new dm(e,ef.empty(),t,n);return r?i:i.Ht()}},{key:"En",value:function(e,t,n,r){var i=new dm(e,ef.empty(),t,n);return r?i.Ht():i}},{key:"cn",value:function(e,t){var n=new mm(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=ei(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.en(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.un(t);return vf.forEach(i,(function(t){return n.cn(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new hh(Zl.comparator),r=!1,i=ei(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=ei(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var s=a.value;s.field.isKeyField()||("array-contains"===s.op||"array-contains-any"===s.op?r=!0:n=n.add(s.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var u,c=ei(e.orderBy);try{for(c.s();!(u=c.n()).done;){var l=u.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"dn",value:function(e,t){var n,r=new hm,i=ei(rf(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var s=r.jt(a.kind);om.St.ht(o,s)}}catch(u){i.e(u)}finally{i.f()}return r.Ut()}},{key:"In",value:function(e){var t=new hm;return om.St.ht(e,t.jt(0)),t.Ut()}},{key:"An",value:function(e,t){var n=new hm;return om.St.ht(Lh(this.databaseId,t),n.jt(function(e){var t=rf(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Ut()}},{key:"hn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new hm);var i,a=0,o=ei(rf(e));try{for(o.s();!(i=o.n()).done;){var s,u=i.value,c=n[a++],l=ei(r);try{for(l.s();!(s=l.n()).done;){var f=s.value;if(this.Rn(t,u.fieldPath)&&Bh(c))r=this.Vn(r,u,c);else{var h=f.jt(u.kind);om.St.ht(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.mn(r)}},{key:"ln",value:function(e,t,n){return this.hn(e,t,n.position)}},{key:"mn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Ut();return t}},{key:"Vn",value:function(e,t,n){var r,i=et(e),a=[],o=ei(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var s,u=r.value,c=ei(i);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=new hm;f.seed(l.Ut()),om.St.ht(u,f.jt(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"Rn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof rd&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=Mm(e),i=Pm(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next((function(e){var t=[];return vf.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new of(t.sequenceNumber,new cf(Kv(t.readTime),new ef(Of(t.documentKey)),t.largestBatchId)):of.empty(),r=e.fields.map((function(e){var t=o(e,2),n=t[0],r=t[1];return new af(Zl.fromServerFormat(n),r)}));return new tf(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Ql(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=Mm(e),a=Pm(e);return this.fn(e).next((function(e){return i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return vf.forEach(t,(function(t){return a.put(em(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return vf.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?vf.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),vf.forEach(a,(function(r){return n.gn(e,t,r).next((function(t){var a=n.pn(i,r);return t.isEqual(a)?vf.resolve():n.yn(e,i,r,t,a)}))}))}))}))}},{key:"wn",value:function(e,t,n,r){return Nm(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.An(n,t.key),documentKey:t.key.path.toArray()})}},{key:"Sn",value:function(e,t,n,r){return Nm(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.An(n,t.key),t.key.path.toArray()])}},{key:"gn",value:function(e,t,n){var r=Nm(e),i=new hh(pm);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.An(n,t)])},(function(e,r){i=i.add(new dm(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"pn",value:function(e,t){var n=new hh(pm),r=this.dn(t,e);if(null==r)return n;var i=nf(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Bh(a)){var o,s=ei(a.arrayValue.values||[]);try{for(s.s();!(o=s.n()).done;){var u=o.value;n=n.add(new dm(t.indexId,e.key,this.In(u),r))}}catch(c){s.e(c)}finally{s.f()}}}else n=n.add(new dm(t.indexId,e.key,Im,r));return n}},{key:"yn",value:function(e,t,n,r,i){var a=this;Tl("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),s=ph(a),u=ph(o);s||u;){var c=!1,l=!1;if(s&&u){var f=n(s,u);f<0?l=!0:f>0&&(c=!0)}else null!=s?l=!0:c=!0;c?(r(u),u=ph(o)):l?(i(s),s=ph(a)):(s=ph(a),u=ph(o))}}(r,i,pm,(function(r){o.push(a.wn(e,t,n,r))}),(function(r){o.push(a.Sn(e,t,n,r))})),vf.waitFor(o)}},{key:"fn",value:function(e){var t=1;return Pm(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return pm(e,t)})).filter((function(e,t,n){return!t||0!==pm(e,n[t-1])}));var r=[];r.push(e);var i,a=ei(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=pm(o,e),u=pm(o,t);if(0===s)r[0]=e.Ht();else if(s>0&&u<0)r.push(o),r.push(o.Ht());else if(u>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.bn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,Im,[]],h=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,Im,[]];c.push(IDBKeyRange.bound(f,h))}return c}},{key:"bn",value:function(e,t){return pm(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(Om)}},{key:"getMinOffset",value:function(e,t){var n=this;return vf.mapArray(this.un(t),(function(t){return n.cn(e,t).next((function(e){return e||Al()}))})).next(Om)}}]),e}();function Dm(e){return ah(e,"collectionParents")}function Nm(e){return ah(e,"indexEntries")}function Mm(e){return ah(e,"indexConfiguration")}function Pm(e){return ah(e,"indexState")}function Om(e){Dl(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;lf(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new cf(t.readTime,t.documentKey,n)}var Rm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Lm=function(){function e(t,n,r){ii(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return oi(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function Fm(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.Y({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){Dl(1===s)})));var c,l=[],f=ei(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Ff(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return vf.waitFor(a).next((function(){return l}))}function Bm(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Al();t=e.noDocument}return JSON.stringify(t).length}Lm.DEFAULT_COLLECTION_PERCENTILE=10,Lm.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Lm.DEFAULT=new Lm(41943040,Lm.DEFAULT_COLLECTION_PERCENTILE,Lm.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Lm.DISABLED=new Lm(-1,0,0);var zm=function(){function e(t,n,r,i){ii(this,e),this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Dn={}}return oi(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return jm(e).Y({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=qm(e),o=jm(e);return o.add({}).next((function(s){Dl("number"==typeof s);var u,c=new Vp(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Iv(e.ut,t)})),i=n.mutations.map((function(t){return Iv(e.ut,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.serializer,i.userId,c),f=[],h=new hh((function(e,t){return Ql(e.canonicalString(),t.canonicalString())})),d=ei(r);try{for(d.s();!(u=d.n()).done;){var p=u.value,v=Ff(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Bf))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Dn[s]=c.keys()})),vf.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return jm(e).get(t).next((function(e){return e?(Dl(e.userId===n.userId),Hv(n.serializer,e)):null}))}},{key:"Cn",value:function(e,t){var n=this;return this.Dn[t]?vf.resolve(this.Dn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Dn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return jm(e).Y({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Dl(t.batchId>=r),a=Hv(n.serializer,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return jm(e).Y({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return jm(e).W("userMutationsIndex",n).next((function(e){return e.map((function(e){return Hv(t.serializer,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Lf(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return qm(e).Y({range:i},(function(r,i,s){var u=o(r,3),c=u[0],l=u[1],f=u[2],h=Of(l);if(c===n.userId&&t.path.isEqual(h))return jm(e).get(f).next((function(e){if(!e)throw Al();Dl(e.userId===n.userId),a.push(Hv(n.serializer,e))}));s.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new hh(Ql),i=[];return t.forEach((function(t){var a=Lf(n.userId,t.path),s=IDBKeyRange.lowerBound(a),u=qm(e).Y({range:s},(function(e,i,a){var s=o(e,3),u=s[0],c=s[1],l=s[2],f=Of(c);u===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(u)})),vf.waitFor(i).next((function(){return n.vn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Lf(this.userId,r),s=IDBKeyRange.lowerBound(a),u=new hh(Ql);return qm(e).Y({range:s},(function(e,t,a){var s=o(e,3),c=s[0],l=s[1],f=s[2],h=Of(l);c===n.userId&&r.isPrefixOf(h)?h.length===i&&(u=u.add(f)):a.done()})).next((function(){return n.vn(e,u)}))}},{key:"vn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(jm(e).get(t).next((function(e){if(null===e)throw Al();Dl(e.userId===n.userId),r.push(Hv(n.serializer,e))})))})),vf.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return Fm(e.ae,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Fn(t.batchId)})),vf.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"Fn",value:function(e){delete this.Dn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return vf.resolve();var r=IDBKeyRange.lowerBound(function(e){return[e]}(t.userId)),i=[];return qm(e).Y({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Of(e[1]);i.push(a)}else r.done()})).next((function(){Dl(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return Vm(e,this.userId,t)}},{key:"Mn",value:function(e){var t=this;return Um(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"ct",value:function(t,n,r,i){return Dl(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function Vm(e,t,n){var r=Lf(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),s=!1;return qm(e).Y({range:a,J:!0},(function(e,n,r){var a=o(e,3),u=a[0],c=a[1];a[2];u===t&&c===i&&(s=!0),r.done()})).next((function(){return s}))}function jm(e){return ah(e,"mutations")}function qm(e){return ah(e,"documentMutations")}function Um(e){return ah(e,"mutationQueues")}var Wm=function(){function e(t){ii(this,e),this.xn=t}return oi(e,[{key:"next",value:function(){return this.xn+=2,this.xn}}],[{key:"On",value:function(){return new e(0)}},{key:"Nn",value:function(){return new e(-1)}}]),e}(),Qm=function(){function e(t,n){ii(this,e),this.referenceDelegate=t,this.serializer=n}return oi(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Bn(e).next((function(n){var r=new Wm(n.highestTargetId);return n.highestTargetId=r.next(),t.Ln(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Bn(e).next((function(e){return Yl.fromTimestamp(new Hl(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Bn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Bn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Ln(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.kn(e,t).next((function(){return n.Bn(e).next((function(r){return r.targetCount+=1,n.qn(t,r),n.Ln(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.kn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Gm(e).delete(t.targetId)})).next((function(){return n.Bn(e)})).next((function(t){return Dl(t.targetCount>0),t.targetCount-=1,n.Ln(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Gm(e).Y((function(o,s){var u=Yv(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return vf.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Gm(e).Y((function(e,n){var r=Yv(n);t(r)}))}},{key:"Bn",value:function(e){return Km(e).get("targetGlobalKey").next((function(e){return Dl(null!==e),e}))}},{key:"Ln",value:function(e,t){return Km(e).put("targetGlobalKey",t)}},{key:"kn",value:function(e,t){return Gm(e).put($v(this.serializer,t))}},{key:"qn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Bn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Sd(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Gm(e).Y({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=Yv(n);Cd(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=Hm(e);return t.forEach((function(t){var o=Nf(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),vf.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=Hm(e);return vf.forEach(t,(function(t){var a=Nf(t.path);return vf.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=Hm(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Hm(e),i=rp();return r.Y({range:n,J:!0},(function(e,t,n){var r=Of(e[1]),a=new ef(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Nf(t.path),r=IDBKeyRange.bound([n],[Kl(n)],!1,!0),i=0;return Hm(e).Y({index:"documentTargetsIndex",J:!0,range:r},(function(e,t,n){var r=o(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"_t",value:function(e,t){return Gm(e).get(t).next((function(e){return e?Yv(e):null}))}}]),e}();function Gm(e){return ah(e,"targets")}function Km(e){return ah(e,"targetGlobal")}function Hm(e){return ah(e,"targetDocuments")}function Ym(e,t){var n=o(e,2),r=n[0],i=n[1],a=o(t,2),s=a[0],u=a[1],c=Ql(r,s);return 0===c?Ql(i,u):c}var $m=function(){function e(t){ii(this,e),this.Qn=t,this.buffer=new hh(Ym),this.Kn=0}return oi(e,[{key:"$n",value:function(){return++this.Kn}},{key:"Un",value:function(e){var t=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Ym(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Jm=function(){function e(t,n,r){ii(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Wn=null}return oi(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}},{key:"stop",value:function(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}},{key:"started",get:function(){return null!==this.Wn}},{key:"Gn",value:function(e){var t=this;Tl("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,Kr(Qr().mark((function e(){return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Wn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!wf(e.t0)){e.next=12;break}Tl("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,df(e.t0);case 14:return e.next=16,t.Gn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),Xm=function(){function e(t,n){ii(this,e),this.zn=t,this.params=n}return oi(e,[{key:"calculateTargetCount",value:function(e,t){return this.zn.jn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return vf.resolve(_f._e);var r=new $m(t);return this.zn.forEachTarget(e,(function(e){return r.Un(e.sequenceNumber)})).next((function(){return n.zn.Hn(e,(function(e){return r.Un(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.zn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.zn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Tl("LruGarbageCollector","Garbage collection skipped; disabled"),vf.resolve(Rm)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Tl("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Rm):n.Jn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.zn.getCacheSize(e)}},{key:"Jn",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Tl("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),Cl()<=Li.DEBUG&&Tl("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),vf.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}();function Zm(e,t){return new Xm(e,t)}var ey=function(){function e(t,n){ii(this,e),this.db=t,this.garbageCollector=Zm(this,n)}return oi(e,[{key:"jn",value:function(e){var t=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Yn",value:function(e){var t=0;return this.Hn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Hn",value:function(e,t){return this.Zn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return ty(e,n)}},{key:"removeReference",value:function(e,t,n){return ty(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return ty(e,t)}},{key:"Xn",value:function(e,t){return function(e,t){var n=!1;return Um(e).Z((function(r){return Vm(e,r,t).next((function(e){return e&&(n=!0),vf.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Zn(e,(function(o,s){if(s<=t){var u=n.Xn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Yl.min()),Hm(e).delete(function(e){return[0,Nf(e.path)]}(o))}))}));i.push(u)}})).next((function(){return vf.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return ty(e,t)}},{key:"Zn",value:function(e,t){var n,r=Hm(e),i=_f._e;return r.Y({index:"documentTargetsIndex"},(function(e,r){var a=o(e,2),s=a[0],u=(a[1],r.path),c=r.sequenceNumber;0===s?(i!==_f._e&&t(new ef(Of(n)),i),i=c,n=u):i=_f._e})).next((function(){i!==_f._e&&t(new ef(Of(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function ty(e,t){return Hm(e).put(function(e,t){return{targetId:0,path:Nf(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var ny=function(){function e(){ii(this,e),this.changes=new Gd((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return oi(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,$h.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?vf.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),ry=function(){function e(t){ii(this,e),this.serializer=t}return oi(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return sy(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return sy(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Qv(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.er(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=$h.newInvalidDocument(t);return sy(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(uy(t))},(function(e,i){r=n.tr(t,i)})).next((function(){return r}))}},{key:"nr",value:function(e,t){var n=this,r={size:0,document:$h.newInvalidDocument(t)};return sy(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(uy(t))},(function(e,i){r={document:n.tr(t,i),size:Bm(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Hd();return this.rr(e,t,(function(e,t){var i=n.tr(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"ir",value:function(e,t){var n=this,r=Hd(),i=new ch(ef.comparator);return this.rr(e,t,(function(e,t){var a=n.tr(e,t);r=r.insert(e,a),i=i.insert(e,Bm(t))})).next((function(){return{documents:r,sr:i}}))}},{key:"rr",value:function(e,t,n){if(t.isEmpty())return vf.resolve();var r=new hh(ly);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(uy(r.first()),uy(r.last())),a=r.getIterator(),o=a.getNext();return sy(e).Y({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=ef.fromSegments([].concat(et(t.prefixPath),[t.collectionGroup,t.documentId]));o&&ly(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.U(uy(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r,i){var a=this,o=t.path,s=[o.popLast().toArray(),o.lastSegment(),Qv(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],u=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return sy(e).W(IDBKeyRange.bound(s,u,!0)).next((function(e){null==i||i.incrementDocumentReadCount(e.length);var n,o=Hd(),s=ei(e);try{for(s.s();!(n=s.n()).done;){var u=n.value,c=a.tr(ef.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);c.isFoundDocument()&&(qd(t,c)||r.has(c.key))&&(o=o.insert(c.key,c))}}catch(l){s.e(l)}finally{s.f()}return o}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Hd(),o=cy(t,n),s=cy(t,cf.max());return sy(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},(function(e,t,n){var o=i.tr(ef.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new ay(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return oy(e).get("remoteDocumentGlobalKey").next((function(e){return Dl(!!e),e}))}},{key:"er",value:function(e,t){return oy(e).put("remoteDocumentGlobalKey",t)}},{key:"tr",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=Ev(e.ut,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=ef.fromSegments(t.noDocument.path),i=Kv(t.noDocument.readTime);n=$h.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Al();var a=ef.fromSegments(t.unknownDocument.path),o=Kv(t.unknownDocument.version);n=$h.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Hl(e[0],e[1]);return Yl.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!n.isNoDocument()||!n.version.isEqual(Yl.min()))return n}return $h.newInvalidDocument(e)}}]),e}();function iy(e){return new ry(e)}var ay=function(e){ti(n,e);var t=ri(n);function n(e,r){var i;return ii(this,n),(i=t.call(this))._r=e,i.trackRemovals=r,i.ar=new Gd((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return oi(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new hh((function(e,t){return Ql(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.ar.get(a);if(n.push(t._r.removeEntry(e,a,s.readTime)),o.isValidDocument()){var u=Wv(t._r.serializer,o);i=i.add(a.path.popLast());var c=Bm(u);r+=c-s.size,n.push(t._r.addEntry(e,a,u))}else if(r-=s.size,t.trackRemovals){var l=Wv(t._r.serializer,o.convertToNoDocument(Yl.min()));n.push(t._r.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t._r.indexManager.addToCollectionParentIndex(e,r))})),n.push(this._r.updateMetadata(e,r)),vf.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this._r.nr(e,t).next((function(e){return n.ar.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this._r.ir(e,t).next((function(e){var t=e.documents;return e.sr.forEach((function(e,r){n.ar.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(ny);function oy(e){return ah(e,"remoteDocumentGlobal")}function sy(e){return ah(e,"remoteDocumentsV14")}function uy(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function cy(e,t){var n=t.documentKey.path.toArray();return[e,Qv(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function ly(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Ql(n[a],r[a]))return i;return(i=Ql(n.length,r.length))||((i=Ql(n[n.length-2],r[r.length-2]))||Ql(n[n.length-1],r[r.length-1]))}var fy=oi((function e(t,n){ii(this,e),this.overlayedDocument=t,this.mutatedFields=n})),hy=function(){function e(t,n,r,i){ii(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return oi(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&Ip(r.mutation,e,vh.empty(),Hl.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,rp()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:rp(),i=Xd();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=$d();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Xd();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,rp())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Hd(),a=ep(),o=ep();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Mp)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),Ip(o.mutation,t,o.mutation.getFieldMask(),Hl.now())):a.set(t.key,vh.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new fy(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=ep(),i=new ch((function(e,t){return e-t})),a=rp();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=ei(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||vh.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||rp()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,c=i.value,l=Zd();c.forEach((function(e){if(!a.has(e)){var n=Ep(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,l))};s.hasNext();)u();return vf.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){return function(e){return ef.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Pd(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):vf.resolve(Xd()),s=-1,u=a;return o.next((function(t){return vf.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?vf.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,rp())})).next((function(e){return{batchId:s,changes:Jd(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new ef(t)).next((function(e){var t=$d();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n,r){var i=this,a=t.collectionGroup,o=$d();return this.indexManager.getCollectionParents(e,a).next((function(s){return vf.forEach(s,(function(s){var u=function(e,t){return new Ad(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(a));return i.getDocumentsMatchingCollectionQuery(e,u,n,r).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n,r){var i,a=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(o){return i=o,a.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)})).next((function(e){i.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,$h.newInvalidDocument(r)))}));var n=$d();return e.forEach((function(e,r){var a=i.get(e);void 0!==a&&Ip(a.mutation,r,vh.empty(),Hl.now()),qd(t,r)&&(n=n.insert(e,r))})),n}))}}]),e}(),dy=function(){function e(t){ii(this,e),this.serializer=t,this.ur=new Map,this.cr=new Map}return oi(e,[{key:"getBundleMetadata",value:function(e,t){return vf.resolve(this.ur.get(t))}},{key:"saveBundleMetadata",value:function(e,t){return this.ur.set(t.id,function(e){return{id:e.id,version:e.version,createTime:mv(e.createTime)}}(t)),vf.resolve()}},{key:"getNamedQuery",value:function(e,t){return vf.resolve(this.cr.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.cr.set(t.name,function(e){return{name:e.name,query:Jv(e.bundledQuery),readTime:mv(e.readTime)}}(t)),vf.resolve()}}]),e}(),py=function(){function e(){ii(this,e),this.overlays=new ch(ef.comparator),this.lr=new Map}return oi(e,[{key:"getOverlay",value:function(e,t){return vf.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Xd();return vf.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.lt(e,t,i)})),vf.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.lr.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.lr.delete(n)),vf.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Xd(),i=t.length+1,a=new ef(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return vf.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new ch((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=Xd(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=Xd(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return vf.resolve(u)}},{key:"lt",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.lr.get(r.largestBatchId).delete(n.key);this.lr.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new qp(t,n));var a=this.lr.get(t);void 0===a&&(a=rp(),this.lr.set(t,a)),this.lr.set(t,a.add(n.key))}}]),e}(),vy=function(){function e(){ii(this,e),this.hr=new hh(my.Pr),this.Ir=new hh(my.Tr)}return oi(e,[{key:"isEmpty",value:function(){return this.hr.isEmpty()}},{key:"addReference",value:function(e,t){var n=new my(e,t);this.hr=this.hr.add(n),this.Ir=this.Ir.add(n)}},{key:"Er",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.dr(new my(e,t))}},{key:"Ar",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Rr",value:function(e){var t=this,n=new ef(new Jl([])),r=new my(n,e),i=new my(n,e+1),a=[];return this.Ir.forEachInRange([r,i],(function(e){t.dr(e),a.push(e.key)})),a}},{key:"Vr",value:function(){var e=this;this.hr.forEach((function(t){return e.dr(t)}))}},{key:"dr",value:function(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}},{key:"mr",value:function(e){var t=new ef(new Jl([])),n=new my(t,e),r=new my(t,e+1),i=rp();return this.Ir.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new my(e,0),n=this.hr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),my=function(){function e(t,n){ii(this,e),this.key=t,this.gr=n}return oi(e,null,[{key:"Pr",value:function(e,t){return ef.comparator(e.key,t.key)||Ql(e.gr,t.gr)}},{key:"Tr",value:function(e,t){return Ql(e.gr,t.gr)||ef.comparator(e.key,t.key)}}]),e}(),yy=function(){function e(t,n){ii(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new hh(my.Pr)}return oi(e,[{key:"checkEmpty",value:function(e){return vf.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new Vp(i,t,n,r);this.mutationQueue.push(a);var o,s=ei(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.yr=this.yr.add(new my(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return vf.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return vf.resolve(this.wr(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Sr(n),i=r<0?0:r;return vf.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return vf.resolve(0===this.mutationQueue.length?-1:this.pr-1)}},{key:"getAllMutationBatches",value:function(e){return vf.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new my(t,0),i=new my(t,Number.POSITIVE_INFINITY),a=[];return this.yr.forEachInRange([r,i],(function(e){var t=n.wr(e.gr);a.push(t)})),vf.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new hh(Ql);return t.forEach((function(e){var t=new my(e,0),i=new my(e,Number.POSITIVE_INFINITY);n.yr.forEachInRange([t,i],(function(e){r=r.add(e.gr)}))})),vf.resolve(this.br(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;ef.isDocumentKey(i)||(i=i.child(""));var a=new my(new ef(i),0),o=new hh(Ql);return this.yr.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.gr)),!0)}),a),vf.resolve(this.br(o))}},{key:"br",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.wr(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Dl(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();var r=this.yr;return vf.forEach(t.mutations,(function(i){var a=new my(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.yr=r}))}},{key:"Fn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new my(t,0),r=this.yr.firstAfterOrEqual(n);return vf.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,vf.resolve()}},{key:"Dr",value:function(e,t){return this.Sr(e)}},{key:"Sr",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"wr",value:function(e){var t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),gy=function(){function e(t){ii(this,e),this.Cr=t,this.docs=new ch(ef.comparator),this.size=0}return oi(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Cr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return vf.resolve(n?n.document.mutableCopy():$h.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Hd();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():$h.newInvalidDocument(e))})),vf.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=Hd(),a=t.path,o=new ef(a.child("")),s=this.docs.getIteratorFrom(o);s.hasNext();){var u=s.getNext(),c=u.key,l=u.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||lf(uf(l),n)<=0||(r.has(l.key)||qd(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return vf.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Al()}},{key:"vr",value:function(e,t){return vf.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new by(this)}},{key:"getSize",value:function(e){return vf.resolve(this.size)}}]),e}(),by=function(e){ti(n,e);var t=ri(n);function n(e){var r;return ii(this,n),(r=t.call(this))._r=e,r}return oi(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t._r.addEntry(e,i)):t._r.removeEntry(r)})),vf.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this._r.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this._r.getEntries(e,t)}}]),n}(ny),wy=function(){function e(t){ii(this,e),this.persistence=t,this.Fr=new Gd((function(e){return Sd(e)}),Cd),this.lastRemoteSnapshotVersion=Yl.min(),this.highestTargetId=0,this.Mr=0,this.Or=new vy,this.targetCount=0,this.Nr=Wm.On()}return oi(e,[{key:"forEachTarget",value:function(e,t){return this.Fr.forEach((function(e,n){return t(n)})),vf.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return vf.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return vf.resolve(this.Mr)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Nr.next(),vf.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Mr&&(this.Mr=t),vf.resolve()}},{key:"kn",value:function(e){this.Fr.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Nr=new Wm(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.kn(t),this.targetCount+=1,vf.resolve()}},{key:"updateTargetData",value:function(e,t){return this.kn(t),vf.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,vf.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Fr.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Fr.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),vf.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return vf.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Fr.get(t)||null;return vf.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Or.Er(t,n),vf.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Or.Ar(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),vf.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Or.Rr(t),vf.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Or.mr(t);return vf.resolve(n)}},{key:"containsKey",value:function(e,t){return vf.resolve(this.Or.containsKey(t))}}]),e}(),ky=function(){function e(t,n){var r=this;ii(this,e),this.Br={},this.overlays={},this.Lr=new _f(0),this.kr=!1,this.kr=!0,this.referenceDelegate=t(this),this.qr=new wy(this),this.indexManager=new Em,this.remoteDocumentCache=function(e){return new gy(e)}((function(e){return r.referenceDelegate.Qr(e)})),this.serializer=new Uv(n),this.Kr=new dy(this.serializer)}return oi(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.kr=!1,Promise.resolve()}},{key:"started",get:function(){return this.kr}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new py,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Br[e.toKey()];return n||(n=new yy(t,this.referenceDelegate),this.Br[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.qr}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Kr}},{key:"runTransaction",value:function(e,t,n){var r=this;Tl("MemoryPersistence","Starting transaction:",e);var i=new xy(this.Lr.next());return this.referenceDelegate.$r(),n(i).next((function(e){return r.referenceDelegate.Ur(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Wr",value:function(e,t){return vf.or(Object.values(this.Br).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),xy=function(e){ti(n,e);var t=ri(n);function n(e){var r;return ii(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return oi(n)}(hf),Sy=function(){function e(t){ii(this,e),this.persistence=t,this.Gr=new vy,this.zr=null}return oi(e,[{key:"Hr",get:function(){if(this.zr)return this.zr;throw Al()}},{key:"addReference",value:function(e,t,n){return this.Gr.addReference(n,t),this.Hr.delete(n.toString()),vf.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Gr.removeReference(n,t),this.Hr.add(n.toString()),vf.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Hr.add(t.toString()),vf.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Gr.Rr(t.targetId).forEach((function(e){return n.Hr.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Hr.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"$r",value:function(){this.zr=new Set}},{key:"Ur",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return vf.forEach(this.Hr,(function(r){var i=ef.fromPath(r);return t.Jr(e,i).next((function(e){e||n.removeEntry(i,Yl.min())}))})).next((function(){return t.zr=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Jr(e,t).next((function(e){e?n.Hr.delete(t.toString()):n.Hr.add(t.toString())}))}},{key:"Qr",value:function(e){return 0}},{key:"Jr",value:function(e,t){var n=this;return vf.or([function(){return vf.resolve(n.Gr.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Wr(e,t)}])}}],[{key:"jr",value:function(t){return new e(t)}}]),e}(),Cy=function(){function e(t){ii(this,e),this.serializer=t}return oi(e,[{key:"N",value:function(e,t,n,r){var i=this,a=new mf("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Rf,{unique:!0}),e.createObjectStore("documentMutations")}(e),Ty(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=vf.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Ty(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Yl.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").W().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Rf,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return vf.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Zr(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Xr(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.ei(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.ti(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.ni(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:$f});t.createIndex("collectionPathOverlayIndex",Jf,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Xf,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:zf});t.createIndex("documentKeyIndex",Vf),t.createIndex("collectionGroupIndex",jf)}(e)})).next((function(){return i.ri(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.ii(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Gf}).createIndex("sequenceNumberIndex",Kf,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Hf}).createIndex("documentKeyIndex",Yf,{unique:!1})}(e)}))),o}},{key:"Xr",value:function(e){var t=0;return e.store("remoteDocuments").Y((function(e,n){t+=Bm(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Zr",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next((function(n){return vf.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",i).next((function(r){return vf.forEach(r,(function(r){Dl(r.userId===n.userId);var i=Hv(t.serializer,r);return Fm(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"ei",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Y((function(n,i){var a=new Jl(n),o=function(e){return[0,Nf(e)]}(a);r.push(t.get(o).next((function(n){return n?vf.resolve():function(n){return t.put({targetId:0,path:Nf(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return vf.waitFor(r)}))}))}},{key:"ti",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:Qf});var n=t.store("collectionParents"),r=new _m,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Nf(i)})}};return t.store("remoteDocuments").Y({J:!0},(function(e,t){var n=new Jl(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Y({J:!0},(function(e,t){var n=o(e,3),r=(n[0],n[1]),a=(n[2],Of(r));return i(a.popLast())}))}))}},{key:"ni",value:function(e){var t=this,n=e.store("targets");return n.Y((function(e,r){var i=Yv(r),a=$v(t.serializer,i);return n.put(a)}))}},{key:"ri",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Y((function(e,n){var i=t.store("remoteDocumentsV14"),a=function(e){return e.document?new ef(Jl.fromString(e.document.name).popFirst(5)):e.noDocument?ef.fromSegments(e.noDocument.path):e.unknownDocument?ef.fromSegments(e.unknownDocument.path):Al()}(n).path.toArray(),o={prefixPath:a.slice(0,a.length-2),collectionGroup:a[a.length-2],documentId:a[a.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(o))})).next((function(){return vf.waitFor(r)}))}},{key:"ii",value:function(e,t){var n=this,r=t.store("mutations"),i=iy(this.serializer),a=new ky(Sy.jr,this.serializer.ut);return r.W().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:rp();Hv(n.serializer,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),vf.forEach(r,(function(e,r){var o=new kl(r),s=im.ct(n.serializer,o),u=a.getIndexManager(o),c=zm.ct(o,n.serializer,u,a.referenceDelegate);return new hy(i,c,s,u).recalculateAndSaveOverlaysForDocumentKeys(new ih(t,_f._e),e).next()}))}))}}]),e}();function Ty(e){e.createObjectStore("targetDocuments",{keyPath:Uf}).createIndex("documentTargetsIndex",Wf,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",qf,{unique:!0}),e.createObjectStore("targetGlobal")}var Ey="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",_y=function(){function e(t,n,r,i,a,o,s,u,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(ii(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.si=a,this.window=o,this.document=s,this.oi=c,this._i=l,this.ai=f,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=function(e){return Promise.resolve()},!e.D())throw new Pl(Ml.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ey(this,i),this.Ii=n+"main",this.serializer=new Uv(u),this.Ti=new yf(this.Ii,this.ai,new Cy(this.serializer)),this.qr=new Qm(this.referenceDelegate,this.serializer),this.remoteDocumentCache=iy(this.serializer),this.Kr=new tm,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===l&&El("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return oi(e,[{key:"start",value:function(){var e=this;return this.di().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Pl(Ml.FAILED_PRECONDITION,Ey);return e.Ai(),e.Ri(),e.Vi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.qr.getHighestSequenceNumber(t)}))})).then((function(t){e.Lr=new _f(t,e.oi)})).then((function(){e.kr=!0})).catch((function(t){return e.Ti&&e.Ti.close(),Promise.reject(t)}))}},{key:"mi",value:function(e){var t=this;return this.Pi=function(){var n=Kr(Qr().mark((function n(r){return Qr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.Ti.L(function(){var t=Kr(Qr().mark((function t(n){return Qr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget(Kr(Qr().mark((function e(){return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.di();case 4:case"end":return e.stop()}}),e)})))))}},{key:"di",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Ay(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.fi(t).next((function(t){t||(e.isPrimary=!1,e.si.enqueueRetryable((function(){return e.Pi(!1)})))}))})).next((function(){return e.gi(t)})).next((function(n){return e.isPrimary&&!n?e.pi(t).next((function(){return!1})):!!n&&e.yi(t).next((function(){return!0}))}))})).catch((function(t){if(wf(t))return Tl("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Tl("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.si.enqueueRetryable((function(){return e.Pi(t)})),e.isPrimary=t}))}},{key:"fi",value:function(e){var t=this;return Iy(e).get("owner").next((function(e){return vf.resolve(t.wi(e))}))}},{key:"Si",value:function(e){return Ay(e).delete(this.clientId)}},{key:"bi",value:function(){var e=Kr(Qr().mark((function e(){var t,n,r,i,a=this;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Di(this.hi,18e5)){e.next=6;break}return this.hi=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=ah(e,"clientMetadata");return t.W().next((function(e){var n=a.Ci(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return vf.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.Ei){n=ei(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.Ei.removeItem(this.vi(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vi",value:function(){var e=this;this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.di().then((function(){return e.bi()})).then((function(){return e.Vi()}))}))}},{key:"wi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"gi",value:function(e){var t=this;return this._i?vf.resolve(!0):Iy(e).get("owner").next((function(n){if(null!==n&&t.Di(n.leaseTimestampMs,5e3)&&!t.Fi(n.ownerId)){if(t.wi(n)&&t.networkEnabled)return!0;if(!t.wi(n)){if(!n.allowTabSynchronization)throw new Pl(Ml.FAILED_PRECONDITION,Ey);return!1}}return!(!t.networkEnabled||!t.inForeground)||Ay(e).W().next((function(e){return void 0===t.Ci(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Tl("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Kr(Qr().mark((function e(){var t=this;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.kr=!1,this.Mi(),this.li&&(this.li.cancel(),this.li=null),this.xi(),this.Oi(),e.next=7,this.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new ih(e,_f._e);return t.pi(n).next((function(){return t.Si(n)}))}));case 7:this.Ti.close(),this.Ni();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ci",value:function(e,t){var n=this;return e.filter((function(e){return n.Di(e.updateTimeMs,t)&&!n.Fi(e.clientId)}))}},{key:"Bi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Ay(t).W().next((function(t){return e.Ci(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.kr}},{key:"getMutationQueue",value:function(e,t){return zm.ct(e,this.serializer,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.qr}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new Am(e,this.serializer.ut.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return im.ct(this.serializer,e)}},{key:"getBundleCache",value:function(){return this.Kr}},{key:"runTransaction",value:function(e,t,n){var r=this;Tl("IndexedDbPersistence","Starting transaction:",e);var i,a="readonly"===t?"readonly":"readwrite",o=function(e){return 15===e?rh:14===e?nh:13===e?th:12===e?eh:11===e?Zf:void Al()}(this.ai);return this.Ti.runTransaction(e,a,o,(function(a){return i=new ih(a,r.Lr?r.Lr.next():_f._e),"readwrite-primary"===t?r.fi(i).next((function(e){return!!e||r.gi(i)})).next((function(t){if(!t)throw El("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.si.enqueueRetryable((function(){return r.Pi(!1)})),new Pl(Ml.FAILED_PRECONDITION,ff);return n(i)})).next((function(e){return r.yi(i).next((function(){return e}))})):r.Li(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Li",value:function(e){var t=this;return Iy(e).get("owner").next((function(e){if(null!==e&&t.Di(e.leaseTimestampMs,5e3)&&!t.Fi(e.ownerId)&&!t.wi(e)&&!(t._i||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Pl(Ml.FAILED_PRECONDITION,Ey)}))}},{key:"yi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Iy(e).put("owner",t)}},{key:"pi",value:function(e){var t=this,n=Iy(e);return n.get("owner").next((function(e){return t.wi(e)?(Tl("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):vf.resolve()}))}},{key:"Di",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(El("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"Ai",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=function(){e.si.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.di()}))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}},{key:"xi",value:function(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}},{key:"Ri",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=function(){t.Mi();var e=/(?:Version|Mobile)\/1[456]/;bi()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&t.si.enterRestrictedMode(!0),t.si.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ui))}},{key:"Oi",value:function(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}},{key:"Fi",value:function(e){var t;try{var n=null!==(null===(t=this.Ei)||void 0===t?void 0:t.getItem(this.vi(e)));return Tl("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return El("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Mi",value:function(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){El("Failed to set zombie client id.",e)}}},{key:"Ni",value:function(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch(e){}}},{key:"vi",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"D",value:function(){return yf.D()}}]),e}();function Iy(e){return ah(e,"owner")}function Ay(e){return ah(e,"clientMetadata")}function Dy(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Ny=function(){function e(t,n,r,i){ii(this,e),this.targetId=t,this.fromCache=n,this.ki=r,this.qi=i}return oi(e,null,[{key:"Qi",value:function(t,n){var r,i=rp(),a=rp(),o=ei(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),My=function(){function e(){ii(this,e),this._documentReadCount=0}return oi(e,[{key:"documentReadCount",get:function(){return this._documentReadCount}},{key:"incrementDocumentReadCount",value:function(e){this._documentReadCount+=e}}]),e}(),Py=function(){function e(){ii(this,e),this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}return oi(e,[{key:"initialize",value:function(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a={result:null};return this.zi(e,t).next((function(e){a.result=e})).next((function(){if(!a.result)return i.ji(e,t,r,n).next((function(e){a.result=e}))})).next((function(){if(!a.result){var n=new My;return i.Hi(e,t,n).next((function(r){if(a.result=r,i.$i)return i.Ji(e,t,n,r.size)}))}})).next((function(){return a.result}))}},{key:"Ji",value:function(e,t,n,r){return n.documentReadCount<this.Ui?(Cl()<=Li.DEBUG&&Tl("QueryEngine","SDK will not create cache indexes for query:",jd(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),vf.resolve()):(Cl()<=Li.DEBUG&&Tl("QueryEngine","Query:",jd(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Wi*r?(Cl()<=Li.DEBUG&&Tl("QueryEngine","The SDK decides to create cache indexes for query:",jd(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Rd(t))):vf.resolve())}},{key:"zi",value:function(e,t){var n=this;if(Md(t))return vf.resolve(null);var r=Rd(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Bd(t,null,"F"),r=Rd(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=rp.apply(void 0,et(i));return n.Gi.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Yi(t,i);return n.Zi(t,o,a,r.readTime)?n.zi(e,Bd(t,null,"F")):n.Xi(e,o,t,r)}))}))})))}))}},{key:"ji",value:function(e,t,n,r){var i=this;return Md(t)||r.isEqual(Yl.min())?vf.resolve(null):this.Gi.getDocuments(e,n).next((function(a){var o=i.Yi(t,a);return i.Zi(t,o,n,r)?vf.resolve(null):(Cl()<=Li.DEBUG&&Tl("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),jd(t)),i.Xi(e,o,t,sf(r,-1)).next((function(e){return e})))}))}},{key:"Yi",value:function(e,t){var n=new hh(Wd(e));return t.forEach((function(t,r){qd(e,r)&&(n=n.add(r))})),n}},{key:"Zi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Hi",value:function(e,t,n){return Cl()<=Li.DEBUG&&Tl("QueryEngine","Using full collection scan to execute query:",jd(t)),this.Gi.getDocumentsMatchingQuery(e,t,cf.min(),n)}},{key:"Xi",value:function(e,t,n,r){return this.Gi.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),Oy=function(){function e(t,n,r,i){ii(this,e),this.persistence=t,this.es=n,this.serializer=i,this.ts=new ch(Ql),this.ns=new Gd((function(e){return Sd(e)}),Cd),this.rs=new Map,this.ss=t.getRemoteDocumentCache(),this.qr=t.getTargetCache(),this.Kr=t.getBundleCache(),this.os(r)}return oi(e,[{key:"os",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hy(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.ts)}))}}]),e}();function Ry(e,t,n,r){return new Oy(e,t,n,r)}function Ly(e,t){return Fy.apply(this,arguments)}function Fy(){return(Fy=Kr(Qr().mark((function e(t,n){var r;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nl(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.os(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=rp(),u=ei(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,f=ei(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(b){f.e(b)}finally{f.f()}}}catch(b){u.e(b)}finally{u.f()}var d,p=ei(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=ei(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;s=s.add(g.key)}}catch(b){y.e(b)}finally{y.f()}}}catch(b){p.e(b)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{_s:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function By(e,t){var n=Nl(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.ss.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=vf.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Dl(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=rp(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function zy(e){var t=Nl(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.qr.getLastRemoteSnapshotVersion(e)}))}function Vy(e,t){var n=Nl(e),r=t.snapshotVersion,i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.qr.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.qr.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(yh.EMPTY_BYTE_STRING,Yl.min()).withLastLimboFreeSnapshotVersion(Yl.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.qr.updateTargetData(e,c))}}));var s=Hd(),u=rp();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(jy(e,a,t.documentUpdates).next((function(e){s=e.us,u=e.cs}))),!r.isEqual(Yl.min())){var c=n.qr.getLastRemoteSnapshotVersion(e).next((function(t){return n.qr.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return vf.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.ts=i,e}))}function jy(e,t,n){var r=rp(),i=rp();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Hd();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Yl.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Tl("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{us:r,cs:i}}))}function qy(e,t){var n=Nl(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function Uy(e,t){var n=Nl(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.qr.getTargetData(e,t).next((function(i){return i?(r=i,vf.resolve(r)):n.qr.allocateTargetId(e).next((function(i){return r=new qv(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.qr.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.ts.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ts=n.ts.insert(e.targetId,e),n.ns.set(t,e.targetId)),e}))}function Wy(e,t,n){return Qy.apply(this,arguments)}function Qy(){return(Qy=Kr(Qr().mark((function e(t,n,r){var i,a,o;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Nl(t),a=i.ts.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),wf(e.t1)){e.next=12;break}throw e.t1;case 12:Tl("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.ts=i.ts.remove(n),i.ns.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function Gy(e,t,n){var r=Nl(e),i=Yl.min(),a=rp();return r.persistence.runTransaction("Execute query","readwrite",(function(e){return function(e,t,n){var r=Nl(e),i=r.ns.get(n);return void 0!==i?vf.resolve(r.ts.get(i)):r.qr.getTargetData(t,n)}(r,e,Rd(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.es.getDocumentsMatchingQuery(e,t,n?i:Yl.min(),n?a:rp())})).next((function(e){return Yy(r,Ud(t),e),{documents:e,ls:a}}))}))}function Ky(e,t){var n=Nl(e),r=Nl(n.qr),i=n.ts.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r._t(e,t).next((function(e){return e?e.target:null}))}))}function Hy(e,t){var n=Nl(e),r=n.rs.get(t)||Yl.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.ss.getAllFromCollectionGroup(e,t,sf(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return Yy(n,t,e),e}))}function Yy(e,t,n){var r=e.rs.get(t)||Yl.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.rs.set(t,r)}function $y(e,t,n,r){return Jy.apply(this,arguments)}function Jy(){return Jy=Kr(Qr().mark((function e(t,n,r,i){var a,o,s,u,c,l,f,h,d,p;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Nl(t),o=rp(),s=Hd(),u=ei(r);try{for(u.s();!(c=u.n()).done;)l=c.value,f=n.hs(l.metadata.name),l.document&&(o=o.add(f)),(h=n.Ps(l)).setReadTime(n.Is(l.metadata.readTime)),s=s.insert(f,h)}catch(v){u.e(v)}finally{u.f()}return d=a.ss.newChangeBuffer({trackRemovals:!0}),e.next=7,Uy(a,function(e){return Rd(Nd(Jl.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return jy(e,d,s).next((function(t){return d.apply(e),t})).next((function(t){return a.qr.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.qr.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.us,t.cs)})).next((function(){return t.us}))}))})));case 9:case"end":return e.stop()}}),e)}))),Jy.apply(this,arguments)}function Xy(e,t){return Zy.apply(this,arguments)}function Zy(){return Zy=Kr(Qr().mark((function e(t,n){var r,i,a,o=arguments;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:rp(),e.next=3,Uy(t,Rd(Jv(n.bundledQuery)));case 3:return i=e.sent,a=Nl(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=mv(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Kr.saveNamedQuery(e,n);var o=i.withResumeToken(yh.EMPTY_BYTE_STRING,t);return a.ts=a.ts.insert(o.targetId,o),a.qr.updateTargetData(e,o).next((function(){return a.qr.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.qr.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Kr.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),Zy.apply(this,arguments)}function eg(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function tg(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function ng(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var rg=function(){function e(t,n,r,i){ii(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return oi(e,[{key:"Es",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ts",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Pl(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(El("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),ig=function(){function e(t,n,r){ii(this,e),this.targetId=t,this.state=n,this.error=r}return oi(e,[{key:"Es",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ts",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Pl(i.error.code,i.error.message))),a?new e(t,i.state,r):(El("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),ag=function(){function e(t,n){ii(this,e),this.clientId=t,this.activeTargetIds=n}return oi(e,null,[{key:"Ts",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=ap(),o=0;i&&o<r.activeTargetIds.length;++o)i=Df(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(El("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),og=function(){function e(t,n){ii(this,e),this.clientId=t,this.onlineState=n}return oi(e,null,[{key:"Ts",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(El("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),sg=function(){function e(){ii(this,e),this.activeTargetIds=ap()}return oi(e,[{key:"ds",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"As",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Es",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),ug=function(){function e(t,n,r,i,a){ii(this,e),this.window=t,this.si=n,this.persistenceKey=r,this.Rs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new ch(Ql),this.started=!1,this.ps=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ys=eg(this.persistenceKey,this.Rs),this.ws=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.gs=this.gs.insert(this.Rs,new sg),this.Ss=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.bs=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Ds=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Cs=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.vs=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}return oi(e,[{key:"start",value:function(){var e=Kr(Qr().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f,h=this;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Bi();case 2:t=e.sent,n=ei(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.Rs){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(eg(this.persistenceKey,i)))&&(o=ag.Ts(i,a))&&(this.gs=this.gs.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Fs(),(s=this.storage.getItem(this.Cs))&&(u=this.Ms(s))&&this.xs(u),c=ei(this.ps);try{for(c.s();!(l=c.n()).done;)f=l.value,this.fs(f)}catch(d){c.e(d)}finally{c.f()}this.ps=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ws,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Os(this.gs)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.gs.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Ns(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Ns(e,t,n),this.Bs(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(ng(this.persistenceKey,e));if(n){var r=ig.Ts(e,n);r&&(t=r.state)}}return this.Ls.ds(e),this.Fs(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ls.As(e),this.Fs()}},{key:"isLocalQueryTarget",value:function(e){return this.Ls.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(ng(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.ks(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Bs(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.qs(e)}},{key:"notifyBundleLoaded",value:function(e){this.Qs(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Tl("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Tl("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Tl("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"fs",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Tl("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ys)return void El("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable(Kr(Qr().mark((function e(){var r,i,a,o,s,u,c;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.Ss.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Ks(n.key),e.abrupt("return",t.$s(r,null));case 6:if(!(i=t.Us(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.$s(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.bs.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Ws(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Gs(a));case 16:e.next=41;break;case 18:if(!t.Ds.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.zs(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.js(o));case 23:e.next=41;break;case 25:if(n.key!==t.Cs){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.Ms(n.newValue))){e.next=30;break}return e.abrupt("return",t.xs(s));case 30:e.next=41;break;case 32:if(n.key!==t.ws){e.next=37;break}u=function(e){var t=_f._e;if(null!=e)try{var n=JSON.parse(e);Dl("number"==typeof n),t=n}catch(e){El("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),u!==_f._e&&t.sequenceNumberHandler(u),e.next=41;break;case 37:if(n.key!==t.vs){e.next=41;break}return c=t.Hs(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Js(e)})));case 41:e.next=44;break;case 43:t.ps.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ls",get:function(){return this.gs.get(this.Rs)}},{key:"Fs",value:function(){this.setItem(this.ys,this.Ls.Es())}},{key:"Ns",value:function(e,t,n){var r=new rg(this.currentUser,e,t,n),i=tg(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Es())}},{key:"Bs",value:function(e){var t=tg(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"qs",value:function(e){var t={clientId:this.Rs,onlineState:e};this.storage.setItem(this.Cs,JSON.stringify(t))}},{key:"ks",value:function(e,t,n){var r=ng(this.persistenceKey,e),i=new ig(e,t,n);this.setItem(r,i.Es())}},{key:"Qs",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.vs,t)}},{key:"Ks",value:function(e){var t=this.Ss.exec(e);return t?t[1]:null}},{key:"Us",value:function(e,t){var n=this.Ks(e);return ag.Ts(n,t)}},{key:"Ws",value:function(e,t){var n=this.bs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return rg.Ts(new kl(i),r,t)}},{key:"zs",value:function(e,t){var n=this.Ds.exec(e),r=Number(n[1]);return ig.Ts(r,t)}},{key:"Ms",value:function(e){return og.Ts(e)}},{key:"Hs",value:function(e){return JSON.parse(e)}},{key:"Gs",value:function(){var e=Kr(Qr().mark((function e(t){return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Ys(t.batchId,t.state,t.error));case 2:Tl("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"js",value:function(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}},{key:"$s",value:function(e,t){var n=this,r=t?this.gs.insert(e,t):this.gs.remove(e),i=this.Os(this.gs),a=this.Os(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.Xs(o,s).then((function(){n.gs=r}))}},{key:"xs",value:function(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Os",value:function(e){var t=ap();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"D",value:function(e){return!(!e||!e.localStorage)}}]),e}(),cg=function(){function e(){ii(this,e),this.eo=new sg,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return oi(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.eo.ds(e),this.no[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.no[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.eo.As(e)}},{key:"isLocalQueryTarget",value:function(e){return this.eo.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.no[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.eo.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.eo.activeTargetIds.has(e)}},{key:"start",value:function(){return this.eo=new sg,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),lg=function(){function e(){ii(this,e)}return oi(e,[{key:"ro",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),fg=function(){function e(){var t=this;ii(this,e),this.io=function(){return t.so()},this.oo=function(){return t._o()},this.ao=[],this.uo()}return oi(e,[{key:"ro",value:function(e){this.ao.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}},{key:"uo",value:function(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}},{key:"so",value:function(){Tl("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=ei(this.ao);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"_o",value:function(){Tl("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=ei(this.ao);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"D",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),hg=null;function dg(){return null===hg?hg=268435456+Math.round(2147483648*Math.random()):hg++,"0x"+hg.toString(16)}var pg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},vg=function(){function e(t){ii(this,e),this.co=t.co,this.lo=t.lo}return oi(e,[{key:"ho",value:function(e){this.Po=e}},{key:"Io",value:function(e){this.To=e}},{key:"onMessage",value:function(e){this.Eo=e}},{key:"close",value:function(){this.lo()}},{key:"send",value:function(e){this.co(e)}},{key:"Ao",value:function(){this.Po()}},{key:"Ro",value:function(e){this.To(e)}},{key:"Vo",value:function(e){this.Eo(e)}}]),e}(),mg="WebChannelConnection",yg=function(e){ti(n,e);var t=ri(n);function n(e){var r;return ii(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r.longPollingOptions=e.longPollingOptions,r}return oi(n,[{key:"Do",value:function(e,t,n,r){var i=dg();return new Promise((function(a,o){var s=new yl;s.setWithCredentials(!0),s.listenOnce(dl.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case hl.NO_ERROR:var t=s.getResponseJson();Tl(mg,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case hl.TIMEOUT:Tl(mg,"RPC '".concat(e,"' ").concat(i," timed out")),o(new Pl(Ml.DEADLINE_EXCEEDED,"Request time out"));break;case hl.HTTP_ERROR:var n=s.getStatus();if(Tl(mg,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson();Array.isArray(r)&&(r=r[0]);var u=null==r?void 0:r.error;if(u&&u.status&&u.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Ml).indexOf(t)>=0?t:Ml.UNKNOWN}(u.status);o(new Pl(c,u.message))}else o(new Pl(Ml.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Pl(Ml.UNAVAILABLE,"Connection failed."));break;default:Al()}}finally{Tl(mg,"RPC '".concat(e,"' ").concat(i," completed."))}}));var u=JSON.stringify(r);Tl(mg,"RPC '".concat(e,"' ").concat(i," sending request:"),r),s.send(t,"POST",u,n,15)}))}},{key:"vo",value:function(e,t,n){var r=dg(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=ll(),o=fl(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(s.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(s.useFetchStreams=!0),this.bo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;var c=i.join("");Tl(mg,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),s);var l=a.createWebChannel(c,s),f=!1,h=!1,d=new vg({co:function(t){h?Tl(mg,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(f||(Tl(mg,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),l.open(),f=!0),Tl(mg,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),l.send(t))},lo:function(){return l.close()}}),p=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return p(l,ml.EventType.OPEN,(function(){h||Tl(mg,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(l,ml.EventType.CLOSE,(function(){h||(h=!0,Tl(mg,"RPC '".concat(e,"' stream ").concat(r," transport closed")),d.Ro())})),p(l,ml.EventType.ERROR,(function(t){h||(h=!0,_l(mg,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),d.Ro(new Pl(Ml.UNAVAILABLE,"The operation could not be completed")))})),p(l,ml.EventType.MESSAGE,(function(t){var n;if(!h){var i=t.data[0];Dl(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){Tl(mg,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var s=o.status,u=function(e){var t=Lp[e];if(void 0!==t)return Qp(t)}(s),c=o.message;void 0===u&&(u=Ml.INTERNAL,c="Unknown error status: "+s+" with message "+o.message),h=!0,d.Ro(new Pl(u,c)),l.close()}else Tl(mg,"RPC '".concat(e,"' stream ").concat(r," received:"),i),d.Vo(i)}})),p(o,pl.STAT_EVENT,(function(t){t.stat===vl.PROXY?Tl(mg,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===vl.NOPROXY&&Tl(mg,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){d.Ao()}),0),d}}]),n}(function(){function e(t){ii(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.mo=n+"://"+t.host,this.fo="projects/".concat(r,"/databases/").concat(i),this.po="(default)"===this.databaseId.database?"project_id=".concat(r):"project_id=".concat(r,"&database_id=").concat(i)}return oi(e,[{key:"yo",get:function(){return!1}},{key:"wo",value:function(e,t,n,r,i){var a=dg(),o=this.So(e,t);Tl("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var s={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(s,r,i),this.Do(e,o,s,n).then((function(t){return Tl("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw _l("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"Co",value:function(e,t,n,r,i,a){return this.wo(e,t,n,r,i)}},{key:"bo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+xl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"So",value:function(e,t){var n=pg[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}]),e}());function gg(){return"undefined"!=typeof window?window:null}function bg(){return"undefined"!=typeof document?document:null}function wg(e){return new fv(e,!0)}var kg=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;ii(this,e),this.si=t,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=a,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}return oi(e,[{key:"reset",value:function(){this.Oo=0}},{key:"Lo",value:function(){this.Oo=this.xo}},{key:"ko",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&Tl("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Oo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.No=this.si.enqueueAfterDelay(this.timerId,i,(function(){return t.Bo=Date.now(),e()})),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}},{key:"Qo",value:function(){null!==this.No&&(this.No.skipDelay(),this.No=null)}},{key:"cancel",value:function(){null!==this.No&&(this.No.cancel(),this.No=null)}},{key:"qo",value:function(){return(Math.random()-.5)*this.Oo}}]),e}(),xg=function(){function e(t,n,r,i,a,o,s,u){ii(this,e),this.si=t,this.Ko=r,this.$o=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new kg(t,n)}return oi(e,[{key:"jo",value:function(){return 1===this.state||5===this.state||this.Ho()}},{key:"Ho",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Jo()}},{key:"stop",value:function(){var e=Kr(Qr().mark((function e(){return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.jo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Yo",value:function(){this.state=0,this.zo.reset()}},{key:"Zo",value:function(){var e=this;this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,(function(){return e.Xo()})))}},{key:"e_",value:function(e){this.t_(),this.stream.send(e)}},{key:"Xo",value:function(){var e=Kr(Qr().mark((function e(){return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Ho()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"t_",value:function(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}},{key:"n_",value:function(){this.Go&&(this.Go.cancel(),this.Go=null)}},{key:"close",value:function(){var e=Kr(Qr().mark((function e(t,n){return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.t_(),this.n_(),this.zo.cancel(),this.Uo++,4!==t?this.zo.reset():n&&n.code===Ml.RESOURCE_EXHAUSTED?(El(n.toString()),El("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===Ml.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.r_(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Io(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"r_",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=o(t,2),i=r[0],a=r[1];e.Uo===n&&e.s_(i,a)}),(function(n){t((function(){var t=new Pl(Ml.UNKNOWN,"Fetching auth token failed: "+n.message);return e.o_(t)}))}))}},{key:"s_",value:function(e,t){var n=this,r=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho((function(){r((function(){return n.state=2,n.Go=n.si.enqueueAfterDelay(n.$o,1e4,(function(){return n.Ho()&&(n.state=3),Promise.resolve()})),n.listener.ho()}))})),this.stream.Io((function(e){r((function(){return n.o_(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Jo",value:function(){var e=this;this.state=5,this.zo.ko(Kr(Qr().mark((function t(){return Qr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"o_",value:function(e){return Tl("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"i_",value:function(e){var t=this;return function(n){t.si.enqueueAndForget((function(){return t.Uo===e?n():(Tl("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Sg=function(e){ti(n,e);var t=ri(n);function n(e,r,i,a,o,s){var u;return ii(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u}return oi(n,[{key:"__",value:function(e,t){return this.connection.vo("Listen",e,t)}},{key:"onMessage",value:function(e){this.zo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Al()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(Dl(void 0===t||"string"==typeof t),yh.fromBase64String(t||"")):(Dl(void 0===t||t instanceof Uint8Array),yh.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?Ml.UNKNOWN:Qp(e.code);return new Pl(t,e.message||"")}(o);n=new rv(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=wv(e,u.document.name),l=mv(u.document.updateTime),f=u.document.createTime?mv(u.document.createTime):Yl.min(),h=new Hh({mapValue:{fields:u.document.fields}}),d=$h.newFoundDocument(c,l,f,h),p=u.targetIds||[],v=u.removedTargetIds||[];n=new tv(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=wv(e,m.document),g=m.readTime?mv(m.readTime):Yl.min(),b=$h.newNoDocument(y,g),w=m.removedTargetIds||[];n=new tv([],w,b.key,b)}else if("documentRemove"in t){t.documentRemove;var k=t.documentRemove;k.document;var x=wv(e,k.document),S=k.removedTargetIds||[];n=new tv([],S,x,null)}else{if(!("filter"in t))return Al();t.filter;var C=t.filter;C.targetId;var T=C.count,E=void 0===T?0:T,_=C.unchangedNames,I=new Up(E,_),A=C.targetId;n=new nv(A,I)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Yl.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Yl.min():t.readTime?mv(t.readTime):Yl.min()}(e);return this.listener.a_(t,n)}},{key:"u_",value:function(e){var t={};t.database=Sv(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=Td(r)?{documents:Dv(e,r)}:{query:Nv(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=pv(e,t.resumeToken);var i=hv(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(Yl.min())>0){n.readTime=dv(e,t.snapshotVersion.toTimestamp());var a=hv(e,t.expectedCount);null!==a&&(n.expectedCount=a)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Al()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.e_(t)}},{key:"c_",value:function(e){var t={};t.database=Sv(this.serializer),t.removeTarget=e,this.e_(t)}}]),n}(xg),Cg=function(e){ti(n,e);var t=ri(n);function n(e,r,i,a,o,s){var u;return ii(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u.l_=!1,u}return oi(n,[{key:"h_",get:function(){return this.l_}},{key:"start",value:function(){this.l_=!1,this.lastStreamToken=void 0,Xr(Jr(n.prototype),"start",this).call(this)}},{key:"r_",value:function(){this.l_&&this.P_([])}},{key:"__",value:function(e,t){return this.connection.vo("Write",e,t)}},{key:"onMessage",value:function(e){if(Dl(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();var t=function(e,t){return e&&e.length>0?(Dl(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?mv(e.updateTime):mv(t);return n.isEqual(Yl.min())&&(n=mv(t)),new xp(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=mv(e.commitTime);return this.listener.I_(n,t)}return Dl(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}},{key:"E_",value:function(){var e={};e.database=Sv(this.serializer),this.e_(e)}},{key:"P_",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Iv(t.serializer,e)}))};this.e_(n)}}]),n}(xg),Tg=function(e){ti(n,e);var t=ri(n);function n(e,r,i,a){var o;return ii(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.d_=!1,o}return oi(n,[{key:"A_",value:function(){if(this.d_)throw new Pl(Ml.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"wo",value:function(e,t,n){var r=this;return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=o(i,2),s=a[0],u=a[1];return r.connection.wo(e,t,n,s,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Ml.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Pl(Ml.UNKNOWN,e.toString())}))}},{key:"Co",value:function(e,t,n,r){var i=this;return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var s=o(a,2),u=s[0],c=s[1];return i.connection.Co(e,t,n,u,c,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Ml.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Pl(Ml.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.d_=!0}}]),n}(oi((function e(){ii(this,e)})));var Eg=function(){function e(t,n){ii(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}return oi(e,[{key:"g_",value:function(){var e=this;0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.m_=null,e.y_("Backend didn't respond within 10 seconds."),e.p_("Offline"),Promise.resolve()})))}},{key:"w_",value:function(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.p_("Offline")))}},{key:"set",value:function(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}},{key:"p_",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"y_",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.f_?(El(t),this.f_=!1):Tl("OnlineStateTracker",t)}},{key:"S_",value:function(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}]),e}(),_g=oi((function e(t,n,r,i,a){var o=this;ii(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=a,this.F_.ro((function(e){r.enqueueAndForget(Kr(Qr().mark((function e(){return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Bg(o),!e.t0){e.next=5;break}return Tl("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Kr(Qr().mark((function e(t){var n;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Nl(t)).C_.add(4),e.next=4,Dg(n);case 4:return n.M_.set("Unknown"),n.C_.delete(4),e.next=8,Ig(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.M_=new Eg(r,i)}));function Ig(e){return Ag.apply(this,arguments)}function Ag(){return(Ag=Kr(Qr().mark((function e(t){var n,r,i;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Bg(t)){e.next=18;break}n=ei(t.v_),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))).apply(this,arguments)}function Dg(e){return Ng.apply(this,arguments)}function Ng(){return(Ng=Kr(Qr().mark((function e(t){var n,r,i;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=ei(t.v_),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}function Mg(e,t){var n=Nl(e);n.D_.has(t.targetId)||(n.D_.set(t.targetId,t),Fg(n)?Lg(n):db(n).Ho()&&Og(n,t))}function Pg(e,t){var n=Nl(e),r=db(n);n.D_.delete(t),r.Ho()&&Rg(n,t),0===n.D_.size&&(r.Ho()?r.Zo():Bg(n)&&n.M_.set("Unknown"))}function Og(e,t){if(e.x_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Yl.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}db(e).u_(t)}function Rg(e,t){e.x_.Oe(t),db(e).c_(t)}function Lg(e){e.x_=new av({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},_t:function(t){return e.D_.get(t)||null},nt:function(){return e.datastore.serializer.databaseId}}),db(e).start(),e.M_.g_()}function Fg(e){return Bg(e)&&!db(e).jo()&&e.D_.size>0}function Bg(e){return 0===Nl(e).C_.size}function zg(e){e.x_=void 0}function Vg(e){return jg.apply(this,arguments)}function jg(){return(jg=Kr(Qr().mark((function e(t){return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.D_.forEach((function(e,n){Og(t,e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qg(e,t){return Ug.apply(this,arguments)}function Ug(){return(Ug=Kr(Qr().mark((function e(t,n){return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:zg(t),Fg(t)?(t.M_.w_(n),Lg(t)):t.M_.set("Unknown");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wg(e,t,n){return Qg.apply(this,arguments)}function Qg(){return Qg=Kr(Qr().mark((function e(t,n,r){var i;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.M_.set("Online"),!(n instanceof rv&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Kr(Qr().mark((function e(t,n){var r,i,a,o;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=ei(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.D_.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.D_.delete(o),t.x_.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Tl("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Gg(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof tv?t.x_.$e(n):n instanceof nv?t.x_.Je(n):t.x_.Ge(n),r.isEqual(Yl.min())){e.next=29;break}return e.prev=14,e.next=17,zy(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.x_.it(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.D_.get(r);i&&e.D_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.D_.get(t);if(r){e.D_.set(t,r.withResumeToken(yh.EMPTY_BYTE_STRING,r.snapshotVersion)),Rg(e,t);var i=new qv(r.target,t,n,r.sequenceNumber);Og(e,i)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Tl("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Gg(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),Qg.apply(this,arguments)}function Gg(e,t,n){return Kg.apply(this,arguments)}function Kg(){return(Kg=Kr(Qr().mark((function e(t,n,r){return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(wf(n)){e.next=2;break}throw n;case 2:return t.C_.add(1),e.next=5,Dg(t);case 5:t.M_.set("Offline"),r||(r=function(){return zy(t.localStore)}),t.asyncQueue.enqueueRetryable(Kr(Qr().mark((function e(){return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Tl("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.C_.delete(1),e.next=6,Ig(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hg(e,t){return t().catch((function(n){return Gg(e,n,t)}))}function Yg(e){return $g.apply(this,arguments)}function $g(){return($g=Kr(Qr().mark((function e(t){var n,r,i,a;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Nl(t),r=pb(n),i=n.b_.length>0?n.b_[n.b_.length-1].batchId:-1;case 2:if(!Jg(n)){e.next=19;break}return e.prev=3,e.next=6,qy(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.b_.length&&r.Zo(),e.abrupt("break",19);case 10:i=a.batchId,Xg(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Gg(n,e.t0);case 17:e.next=2;break;case 19:Zg(n)&&eb(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}function Jg(e){return Bg(e)&&e.b_.length<10}function Xg(e,t){e.b_.push(t);var n=pb(e);n.Ho()&&n.h_&&n.P_(t.mutations)}function Zg(e){return Bg(e)&&!pb(e).jo()&&e.b_.length>0}function eb(e){pb(e).start()}function tb(e){return nb.apply(this,arguments)}function nb(){return(nb=Kr(Qr().mark((function e(t){return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:pb(t).E_();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rb(e){return ib.apply(this,arguments)}function ib(){return(ib=Kr(Qr().mark((function e(t){var n,r,i,a;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=pb(t),r=ei(t.b_);try{for(r.s();!(i=r.n()).done;)a=i.value,n.P_(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ab(e,t,n){return ob.apply(this,arguments)}function ob(){return(ob=Kr(Qr().mark((function e(t,n,r){var i,a;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.b_.shift(),a=jp.from(i,n,r),e.next=3,Hg(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,Yg(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sb(e,t){return ub.apply(this,arguments)}function ub(){return ub=Kr(Qr().mark((function e(t,n){return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&pb(t).h_,!e.t0){e.next=4;break}return e.next=4,function(){var e=Kr(Qr().mark((function e(t,n){var r;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!function(e){return Wp(e)&&e!==Ml.ABORTED}(n.code)){e.next=7;break}return r=t.b_.shift(),pb(t).Yo(),e.next=5,Hg(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,Yg(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Zg(t)&&eb(t);case 5:case"end":return e.stop()}}),e)}))),ub.apply(this,arguments)}function cb(e,t){return lb.apply(this,arguments)}function lb(){return(lb=Kr(Qr().mark((function e(t,n){var r,i;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Nl(t)).asyncQueue.verifyOperationInProgress(),Tl("RemoteStore","RemoteStore received new credentials"),i=Bg(r),r.C_.add(3),e.next=6,Dg(r);case 6:return i&&r.M_.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.C_.delete(3),e.next=12,Ig(r);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fb(e,t){return hb.apply(this,arguments)}function hb(){return(hb=Kr(Qr().mark((function e(t,n){var r;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Nl(t),!n){e.next=7;break}return r.C_.delete(2),e.next=5,Ig(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.C_.add(2),e.next=12,Dg(r);case 12:r.M_.set("Unknown");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function db(e){return e.O_||(e.O_=function(e,t,n){var r=Nl(e);return r.A_(),new Sg(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{ho:Vg.bind(null,e),Io:qg.bind(null,e),a_:Wg.bind(null,e)}),e.v_.push(function(){var t=Kr(Qr().mark((function t(n){return Qr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.O_.Yo(),Fg(e)?Lg(e):e.M_.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.O_.stop();case 6:zg(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.O_}function pb(e){return e.N_||(e.N_=function(e,t,n){var r=Nl(e);return r.A_(),new Cg(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{ho:tb.bind(null,e),Io:sb.bind(null,e),T_:rb.bind(null,e),I_:ab.bind(null,e)}),e.v_.push(function(){var t=Kr(Qr().mark((function t(n){return Qr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.N_.Yo(),t.next=4,Yg(e);case 4:t.next=9;break;case 6:return t.next=8,e.N_.stop();case 8:e.b_.length>0&&(Tl("RemoteStore","Stopping write stream with ".concat(e.b_.length," pending writes")),e.b_=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.N_}var vb=function(){function e(t,n,r,i,a){ii(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Ol,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return oi(e,[{key:"promise",get:function(){return this.deferred.promise}},{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Pl(Ml.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function mb(e,t){if(El("AsyncQueue","".concat(t,": ").concat(e)),wf(e))return new Pl(Ml.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var yb=function(){function e(t){ii(this,e),this.comparator=t?function(e,n){return t(e,n)||ef.comparator(e.key,n.key)}:function(e,t){return ef.comparator(e.key,t.key)},this.keyedMap=$d(),this.sortedSet=new ch(this.comparator)}return oi(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),gb=function(){function e(){ii(this,e),this.B_=new ch(ef.comparator)}return oi(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.B_.get(t);n?0!==e.type&&3===n.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==n.type?this.B_=this.B_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.B_=this.B_.remove(t):1===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):Al():this.B_=this.B_.insert(t,e)}},{key:"L_",value:function(){var e=[];return this.B_.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),bb=function(){function e(t,n,r,i,a,o,s,u,c){ii(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=c}return oi(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,yb.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),wb=oi((function e(){ii(this,e),this.k_=void 0,this.listeners=[]})),kb=oi((function e(){ii(this,e),this.queries=new Gd((function(e){return Vd(e)}),zd),this.onlineState="Unknown",this.q_=new Set}));function xb(e,t){return Sb.apply(this,arguments)}function Sb(){return(Sb=Kr(Qr().mark((function e(t,n){var r,i,a,o,s;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Nl(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new wb),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.k_=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=mb(e.t0,"Initialization of query '".concat(jd(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.Q_(r.onlineState),o.k_&&n.K_(o.k_)&&Ib(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}function Cb(e,t){return Tb.apply(this,arguments)}function Tb(){return(Tb=Kr(Qr().mark((function e(t,n){var r,i,a,o,s;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Nl(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Eb(e,t){var n,r=Nl(e),i=!1,a=ei(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=ei(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.K_(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.k_=o}}}catch(f){a.e(f)}finally{a.f()}i&&Ib(r)}function _b(e,t,n){var r=Nl(e),i=r.queries.get(t);if(i){var a,o=ei(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function Ib(e){e.q_.forEach((function(e){e.next()}))}var Ab=function(){function e(t,n,r){ii(this,e),this.query=t,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}return oi(e,[{key:"K_",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=ei(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new bb(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.W_?this.z_(e)&&(this.U_.next(e),a=!0):this.j_(e,this.onlineState)&&(this.H_(e),a=!0),this.G_=e,a}},{key:"onError",value:function(e){this.U_.error(e)}},{key:"Q_",value:function(e){this.onlineState=e;var t=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),t=!0),t}},{key:"j_",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.J_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"z_",value:function(e){if(e.docChanges.length>0)return!0;var t=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"H_",value:function(e){e=bb.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}]),e}(),Db=function(){function e(t,n){ii(this,e),this.Y_=t,this.byteLength=n}return oi(e,[{key:"Z_",value:function(){return"metadata"in this.Y_}}]),e}(),Nb=function(){function e(t){ii(this,e),this.serializer=t}return oi(e,[{key:"hs",value:function(e){return wv(this.serializer,e)}},{key:"Ps",value:function(e){return e.metadata.exists?Ev(this.serializer,e.document,!1):$h.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}},{key:"Is",value:function(e){return mv(e)}}]),e}(),Mb=function(){function e(t,n,r){ii(this,e),this.X_=t,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Pb(t)}return oi(e,[{key:"ea",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++t;var n=Jl.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"ta",value:function(e){var t,n=new Map,r=new Nb(this.serializer),i=ei(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.hs(a.metadata.name),u=ei(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||rp()).add(s);n.set(c,l)}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Kr(Qr().mark((function e(){var t,n,r,i,a;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$y(this.localStore,new Nb(this.serializer),this.documents,this.X_.id);case 2:t=e.sent,n=this.ta(this.documents),r=ei(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,Xy(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,na:this.collectionGroups,ra:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function Pb(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var Ob=oi((function e(t){ii(this,e),this.key=t})),Rb=oi((function e(t){ii(this,e),this.key=t})),Lb=function(){function e(t,n){ii(this,e),this.query=t,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=rp(),this.mutatedKeys=rp(),this._a=Wd(t),this.aa=new yb(this._a)}return oi(e,[{key:"ua",get:function(){return this.ia}},{key:"ca",value:function(e,t){var n=this,r=t?t.la:new gb,i=t?t.aa:this.aa,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=qd(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.ha(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n._a(f,u)>0||c&&n._a(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{aa:o,la:r,Zi:s,mutatedKeys:a}}},{key:"ha",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n,r){var i=this,a=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;var o=e.la.L_();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Al()}};return n(e)-n(t)}(e.type,t.type)||i._a(e.doc,t.doc)})),this.Pa(n),r=null!=r&&r;var s=t&&!r?this.Ia():[],u=0===this.oa.size&&this.current&&!r?1:0,c=u!==this.sa;return this.sa=u,0!==o.length||c?{snapshot:new bb(this.query,e.aa,a,o,e.mutatedKeys,0===u,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ta:s}:{Ta:s}}},{key:"Q_",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new gb,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}},{key:"Ea",value:function(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}},{key:"Pa",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.ia=t.ia.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.ia=t.ia.delete(e)})),this.current=e.current)}},{key:"Ia",value:function(){var e=this;if(!this.current)return[];var t=this.oa;this.oa=rp(),this.aa.forEach((function(t){e.Ea(t.key)&&(e.oa=e.oa.add(t.key))}));var n=[];return t.forEach((function(t){e.oa.has(t)||n.push(new Rb(t))})),this.oa.forEach((function(e){t.has(e)||n.push(new Ob(e))})),n}},{key:"da",value:function(e){this.ia=e.ls,this.oa=rp();var t=this.ca(e.documents);return this.applyChanges(t,!0)}},{key:"Aa",value:function(){return bb.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}]),e}(),Fb=oi((function e(t,n,r){ii(this,e),this.query=t,this.targetId=n,this.view=r})),Bb=oi((function e(t){ii(this,e),this.key=t,this.Ra=!1})),zb=function(){function e(t,n,r,i,a,o){ii(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new Gd((function(e){return Vd(e)}),zd),this.fa=new Map,this.ga=new Set,this.pa=new ch(ef.comparator),this.ya=new Map,this.wa=new vy,this.Sa={},this.ba=new Map,this.Da=Wm.Nn(),this.onlineState="Unknown",this.Ca=void 0}return oi(e,[{key:"isPrimaryClient",get:function(){return!0===this.Ca}}]),e}();function Vb(e,t){return jb.apply(this,arguments)}function jb(){return(jb=Kr(Qr().mark((function e(t,n){var r,i,a,o,s,u;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Pw(t),!(o=r.ma.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Aa(),e.next=15;break;case 6:return e.next=8,Uy(r.localStore,Rd(n));case 8:return s=e.sent,u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=13,qb(r,n,i,"current"===u,s.resumeToken);case 13:a=e.sent,r.isPrimaryClient&&Mg(r.remoteStore,s);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qb(e,t,n,r,i){return Ub.apply(this,arguments)}function Ub(){return Ub=Kr(Qr().mark((function e(t,n,r,i,a){var o,s,u,c,l,f;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.va=function(e,n,r){return function(){var e=Kr(Qr().mark((function e(t,n,r,i){var a,o,s,u;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.ca(r),e.t0=a.Zi,!e.t0){e.next=6;break}return e.next=5,Gy(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.ca(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=i&&null!=i.targetMismatches.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o,s),e.abrupt("return",(cw(t,n.targetId,u.Ta),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Gy(t.localStore,n,!0);case 3:return o=e.sent,s=new Lb(n,o.ls),u=s.ca(o.documents),c=ev.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=s.applyChanges(u,t.isPrimaryClient,c),cw(t,r,l.Ta),f=new Fb(n,r,s),e.abrupt("return",(t.ma.set(n,f),t.fa.has(r)?t.fa.get(r).push(n):t.fa.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),Ub.apply(this,arguments)}function Wb(e,t){return Qb.apply(this,arguments)}function Qb(){return(Qb=Kr(Qr().mark((function e(t,n){var r,i,a;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Nl(t),i=r.ma.get(n),!((a=r.fa.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.fa.set(i.targetId,a.filter((function(e){return!zd(e,n)}))),void r.ma.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Wy(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Pg(r.remoteStore,i.targetId),sw(r,i.targetId)})).catch(df);case 9:e.next=14;break;case 11:return sw(r,i.targetId),e.next=14,Wy(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gb(e,t,n){return Kb.apply(this,arguments)}function Kb(){return Kb=Kr(Qr().mark((function e(t,n,r){var i,a,o;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ow(t),e.prev=1,e.next=4,function(e,t){var n,r,i=Nl(e),a=Hl.now(),o=t.reduce((function(e,t){return e.add(t.key)}),rp());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=Hd(),u=rp();return i.ss.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=ei(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=Ap(c,n.get(c.key).overlayedDocument);null!=l&&s.push(new Mp(c.key,l,Yh(l.value.mapValue),Sp.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:Jd(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Sa[e.currentUser.toKey()];r||(r=new ch(Ql)),r=r.insert(t,n),e.Sa[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,hw(i,a.changes);case 9:return e.next=11,Yg(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=mb(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),Kb.apply(this,arguments)}function Hb(e,t){return Yb.apply(this,arguments)}function Yb(){return(Yb=Kr(Qr().mark((function e(t,n){var r,i;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nl(t),e.prev=1,e.next=4,Vy(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.ya.get(t);n&&(Dl(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Ra=!0:e.modifiedDocuments.size>0?Dl(n.Ra):e.removedDocuments.size>0&&(Dl(n.Ra),n.Ra=!1))})),e.next=8,hw(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,df(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function $b(e,t,n){var r=Nl(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ma.forEach((function(e,n){var r=n.view.Q_(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Nl(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=ei(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Q_(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Ib(n)}(r.eventManager,t),i.length&&r.Va.a_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Jb(e,t,n){return Xb.apply(this,arguments)}function Xb(){return(Xb=Kr(Qr().mark((function e(t,n,r){var i,a,o,s,u,c;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Nl(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.ya.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new ch(ef.comparator)).insert(o,$h.newNoDocument(o,Yl.min())),u=rp().add(o),c=new Zp(Yl.min(),new Map,new ch(Ql),s,u),e.next=9,Hb(i,c);case 9:i.pa=i.pa.remove(o),i.ya.delete(n),fw(i),e.next=16;break;case 14:return e.next=16,Wy(i.localStore,n,!1).then((function(){return sw(i,n,r)})).catch(df);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zb(e,t){return ew.apply(this,arguments)}function ew(){return(ew=Kr(Qr().mark((function e(t,n){var r,i,a;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nl(t),i=n.batch.batchId,e.prev=1,e.next=4,By(r.localStore,n);case 4:return a=e.sent,ow(r,i,null),aw(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,hw(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,df(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function tw(e,t,n){return nw.apply(this,arguments)}function nw(){return(nw=Kr(Qr().mark((function e(t,n,r){var i,a;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Nl(t),e.prev=1,e.next=4,function(e,t){var n=Nl(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Dl(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,ow(i,n,r),aw(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,hw(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,df(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function rw(e,t){return iw.apply(this,arguments)}function iw(){return(iw=Kr(Qr().mark((function e(t,n){var r,i,a,o;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Bg((r=Nl(t)).remoteStore)||Tl("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Nl(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.ba.get(i)||[]).push(n),r.ba.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=mb(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}function aw(e,t){(e.ba.get(t)||[]).forEach((function(e){e.resolve()})),e.ba.delete(t)}function ow(e,t,n){var r=Nl(e),i=r.Sa[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Sa[r.currentUser.toKey()]=i}}function sw(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=ei(e.fa.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ma.delete(a),n&&e.Va.Fa(a,n)}}catch(o){i.e(o)}finally{i.f()}e.fa.delete(t),e.isPrimaryClient&&e.wa.Rr(t).forEach((function(t){e.wa.containsKey(t)||uw(e,t)}))}function uw(e,t){e.ga.delete(t.path.canonicalString());var n=e.pa.get(t);null!==n&&(Pg(e.remoteStore,n),e.pa=e.pa.remove(t),e.ya.delete(n),fw(e))}function cw(e,t,n){var r,i=ei(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Ob?(e.wa.addReference(a.key,t),lw(e,a)):a instanceof Rb?(Tl("SyncEngine","Document no longer in limbo: "+a.key),e.wa.removeReference(a.key,t),e.wa.containsKey(a.key)||uw(e,a.key)):Al()}}catch(o){i.e(o)}finally{i.f()}}function lw(e,t){var n=t.key,r=n.path.canonicalString();e.pa.get(n)||e.ga.has(r)||(Tl("SyncEngine","New document in limbo: "+n),e.ga.add(r),fw(e))}function fw(e){for(;e.ga.size>0&&e.pa.size<e.maxConcurrentLimboResolutions;){var t=e.ga.values().next().value;e.ga.delete(t);var n=new ef(Jl.fromString(t)),r=e.Da.next();e.ya.set(r,new Bb(n)),e.pa=e.pa.insert(n,r),Mg(e.remoteStore,new qv(Rd(Nd(n.path)),r,"TargetPurposeLimboResolution",_f._e))}}function hw(e,t,n){return dw.apply(this,arguments)}function dw(){return dw=Kr(Qr().mark((function e(t,n,r){var i,a,o,s;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Nl(t),a=[],o=[],s=[],e.t0=i.ma.isEmpty(),e.t0){e.next=9;break}return i.ma.forEach((function(e,t){s.push(i.va(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=Ny.Qi(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.Va.a_(a),e.next=9,function(){var e=Kr(Qr().mark((function e(t,n){var r,i,a,o,s,u,c,l;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nl(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return vf.forEach(n,(function(t){return vf.forEach(t.ki,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return vf.forEach(t.qi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),wf(e.t0)){e.next=10;break}throw e.t0;case 10:Tl("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=ei(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.ts.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.ts=r.ts.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),dw.apply(this,arguments)}function pw(e,t){return vw.apply(this,arguments)}function vw(){return(vw=Kr(Qr().mark((function e(t,n){var r,i;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Nl(t)).currentUser.isEqual(n)){e.next=11;break}return Tl("SyncEngine","User change. New user:",n.toKey()),e.next=5,Ly(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.ba.forEach((function(e){e.forEach((function(e){e.reject(new Pl(Ml.CANCELLED,t))}))})),e.ba.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,hw(r,i._s);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mw(e,t){var n=Nl(e),r=n.ya.get(t);if(r&&r.Ra)return rp().add(r.key);var i=rp(),a=n.fa.get(t);if(!a)return i;var o,s=ei(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.ma.get(u);i=i.unionWith(c.view.ua)}}catch(l){s.e(l)}finally{s.f()}return i}function yw(e,t){return gw.apply(this,arguments)}function gw(){return(gw=Kr(Qr().mark((function e(t,n){var r,i,a;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nl(t),e.next=3,Gy(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.da(i),e.abrupt("return",(r.isPrimaryClient&&cw(r,n.targetId,a.Ta),a));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bw(e,t){return ww.apply(this,arguments)}function ww(){return(ww=Kr(Qr().mark((function e(t,n){var r;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nl(t),e.abrupt("return",Hy(r.localStore,n).then((function(e){return hw(r,e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kw(e,t,n,r){return xw.apply(this,arguments)}function xw(){return(xw=Kr(Qr().mark((function e(t,n,r,i){var a,o;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Nl(t),e.next=3,function(e,t){var n=Nl(e),r=Nl(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Cn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):vf.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,Yg(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(ow(a,n,i||null),aw(a,n),function(e,t){Nl(Nl(e).mutationQueue).Fn(t)}(a.localStore,n)):Al();case 11:return e.next=13,hw(a,o);case 13:e.next=16;break;case 15:Tl("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sw(e,t){return Cw.apply(this,arguments)}function Cw(){return(Cw=Kr(Qr().mark((function e(t,n){var r,i,a,o,s,u,c,l;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Pw(r=Nl(t)),Ow(r),!0!==n||!0===r.Ca){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,Tw(r,i.toArray());case 5:return a=e.sent,r.Ca=!0,e.next=9,fb(r.remoteStore,!0);case 9:o=ei(a);try{for(o.s();!(s=o.n()).done;)u=s.value,Mg(r.remoteStore,u)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.Ca){e.next=25;break}return c=[],l=Promise.resolve(),r.fa.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return sw(r,t),Wy(r.localStore,t,!0)})),Pg(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,Tw(r,c);case 21:return function(e){var t=Nl(e);t.ya.forEach((function(e,n){Pg(t.remoteStore,n)})),t.wa.Vr(),t.ya=new Map,t.pa=new ch(ef.comparator)}(r),r.Ca=!1,e.next=25,fb(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tw(e,t,n){return Ew.apply(this,arguments)}function Ew(){return(Ew=Kr(Qr().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,d,p,v,m,y;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Nl(t),a=[],o=[],s=ei(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=45;break}if(c=u.value,l=void 0,!(f=i.fa.get(c))||0===f.length){e.next=34;break}return e.next=11,Uy(i.localStore,Rd(f[0]));case 11:l=e.sent,h=ei(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.ma.get(p),e.next=20,yw(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Ky(i.localStore,c);case 36:return y=e.sent,e.next=39,Uy(i.localStore,y);case 39:return l=e.sent,e.next=42,qb(i,_w(y),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.Va.a_(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])})))).apply(this,arguments)}function _w(e){return Dd(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Iw(e){return function(e){return Nl(Nl(e).persistence).Bi()}(Nl(e).localStore)}function Aw(e,t,n,r){return Dw.apply(this,arguments)}function Dw(){return(Dw=Kr(Qr().mark((function e(t,n,r,i){var a,o,s,u;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Nl(t)).Ca){e.next=3;break}return e.abrupt("return",void Tl("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.fa.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,Hy(a.localStore,Ud(o[0]));case 10:return s=e.sent,u=Zp.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,yh.EMPTY_BYTE_STRING),e.next=14,hw(a,s,u);case 14:return e.abrupt("break",20);case 15:return e.next=17,Wy(a.localStore,n,!0);case 17:return sw(a,n,i),e.abrupt("break",20);case 19:Al();case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nw(e,t,n){return Mw.apply(this,arguments)}function Mw(){return(Mw=Kr(Qr().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=Pw(t)).Ca){e.next=45;break}a=ei(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i.fa.has(s)){e.next=10;break}return Tl("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,Ky(i.localStore,s);case 12:return u=e.sent,e.next=15,Uy(i.localStore,u);case 15:return c=e.sent,e.next=18,qb(i,_w(u),c.targetId,!1,c.resumeToken);case 18:Mg(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=ei(r),e.prev=30,h=Qr().mark((function e(){var t;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.fa.has(t),!e.t0){e.next=5;break}return e.next=5,Wy(i.localStore,t,!1).then((function(){Pg(i.remoteStore,t),sw(i,t)})).catch(df);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])})))).apply(this,arguments)}function Pw(e){var t=Nl(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Hb.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=mw.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Jb.bind(null,t),t.Va.a_=Eb.bind(null,t.eventManager),t.Va.Fa=_b.bind(null,t.eventManager),t}function Ow(e){var t=Nl(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Zb.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=tw.bind(null,t),t}function Rw(e,t,n){var r=Nl(e);(function(){var e=Kr(Qr().mark((function e(t,n,r){var i,a,o,s,u;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Nl(e),r=mv(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Kr.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(Pb(i)),a=new Mb(i,t.localStore,n.serializer),e.next=15,n.Ma();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.ea(o);case 19:return(s=e.sent)&&r._updateProgress(s),e.next=23,n.Ma();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return u=e.sent,e.next=31,hw(t,u.ra,void 0);case 31:return e.next=33,function(e,t){var n=Nl(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Kr.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(u.progress),e.abrupt("return",Promise.resolve(u.na));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(_l("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var Lw=function(){function e(){ii(this,e),this.synchronizeTabs=!1}return oi(e,[{key:"initialize",value:function(){var e=Kr(Qr().mark((function e(t){return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=wg(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return Ry(this.persistence,new Py,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new ky(Sy.jr,this.serializer)}},{key:"createSharedClientState",value:function(e){return new cg}},{key:"terminate",value:function(){var e=Kr(Qr().mark((function e(){return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Fw=function(e){ti(n,e);var t=ri(n);function n(e,r,i){var a;return ii(this,n),(a=t.call(this)).xa=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return oi(n,[{key:"initialize",value:function(){var e=Kr(Qr().mark((function e(t){var r=this;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xr(Jr(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.xa.initialize(this,t);case 4:return e.next=6,Ow(this.xa.syncEngine);case 6:return e.next=8,Yg(this.xa.remoteStore);case 8:return e.next=10,this.persistence.mi((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createLocalStore",value:function(e){return Ry(this.persistence,new Py,e.initialUser,this.serializer)}},{key:"createGarbageCollectionScheduler",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new Jm(n,e.asyncQueue,t)}},{key:"createIndexBackfillerScheduler",value:function(e,t){var n=new Ef(t,this.persistence);return new Tf(e.asyncQueue,n)}},{key:"createPersistence",value:function(e){var t=Dy(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Lm.withCacheSize(this.cacheSizeBytes):Lm.DEFAULT;return new _y(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,gg(),bg(),this.serializer,this.sharedClientState,!!this.forceOwnership)}},{key:"createSharedClientState",value:function(e){return new cg}}]),n}(Lw),Bw=function(e){ti(n,e);var t=ri(n);function n(e,r){var i;return ii(this,n),(i=t.call(this,e,r,!1)).xa=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return oi(n,[{key:"initialize",value:function(){var e=Kr(Qr().mark((function e(t){var r,i=this;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xr(Jr(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.xa.syncEngine,e.t0=this.sharedClientState instanceof ug,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Ys:kw.bind(null,r),Zs:Aw.bind(null,r),Xs:Nw.bind(null,r),Bi:Iw.bind(null,r),Js:bw.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.mi(function(){var e=Kr(Qr().mark((function e(t){return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sw(i.xa.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createSharedClientState",value:function(e){var t=gg();if(!ug.D(t))throw new Pl(Ml.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Dy(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ug(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(Fw),zw=function(){function e(){ii(this,e)}return oi(e,[{key:"initialize",value:function(){var e=Kr(Qr().mark((function e(t,n){var r=this;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return $b(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=pw.bind(null,this.syncEngine),e.next=12,fb(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new kb}},{key:"createDatastore",value:function(e){var t=wg(e.databaseInfo.databaseId),n=function(e){return new yg(e)}(e.databaseInfo);return function(e,t,n,r){return new Tg(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}},{key:"createRemoteStore",value:function(e){var t=this;return function(e,t,n,r,i){return new _g(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(function(e){return $b(t.syncEngine,e,0)}),fg.D()?new fg:new lg)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new zb(e,t,n,r,i,a);return o&&(s.Ca=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Kr(Qr().mark((function e(t){var n;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Nl(t),Tl("RemoteStore","RemoteStore shutting down."),n.C_.add(5),e.next=5,Dg(n);case 5:n.F_.shutdown(),n.M_.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function Vw(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Kr(Qr().mark((function r(){var i;return Qr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Kr(Qr().mark((function e(){return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.resolve()}}var jw=function(){function e(t){ii(this,e),this.observer=t,this.muted=!1}return oi(e,[{key:"next",value:function(e){this.observer.next&&this.Oa(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Oa(this.observer.error,e):El("Uncaught Error in snapshot listener:",e.toString())}},{key:"Na",value:function(){this.muted=!0}},{key:"Oa",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),qw=function(){function e(t,n){var r=this;ii(this,e),this.Ba=t,this.serializer=n,this.metadata=new Ol,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then((function(e){e&&e.Z_()?r.metadata.resolve(e.Y_.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Y_))))}),(function(e){return r.metadata.reject(e)}))}return oi(e,[{key:"close",value:function(){return this.Ba.cancel()}},{key:"getMetadata",value:function(){var e=Kr(Qr().mark((function e(){return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ma",value:function(){var e=Kr(Qr().mark((function e(){return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.ka());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ka",value:function(){var e=Kr(Qr().mark((function e(){var t,n,r,i;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.qa();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.La.decode(t),r=Number(n),isNaN(r)&&this.Qa("length string (".concat(n,") is not valid number")),e.next=9,this.Ka(r);case 9:return i=e.sent,e.abrupt("return",new Db(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"$a",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"qa",value:function(){var e=Kr(Qr().mark((function e(){var t,n;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.$a()<0)){e.next=7;break}return e.next=3,this.Ua();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.$a())<0&&this.Qa("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ka",value:function(){var e=Kr(Qr().mark((function e(t){var n;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Ua();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Qa("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.La.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Qa",value:function(e){throw this.Ba.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Ua",value:function(){var e=Kr(Qr().mark((function e(){var t,n;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ba.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Uw=function(){function e(t){ii(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return oi(e,[{key:"lookup",value:function(){var e=Kr(Qr().mark((function e(t){var n,r=this;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Pl(Ml.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Kr(Qr().mark((function e(t,n){var r,i,a,o,s,u;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nl(t),i=Sv(r.serializer)+"/documents",a={documents:n.map((function(e){return bv(r.serializer,e)}))},e.next=5,r.Co("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=_v(r.serializer,e);s.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());Dl(!!t),u.push(t)})),u));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Bp(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Kr(Qr().mark((function e(){var t,n=this;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=ef.fromPath(t);n.mutations.push(new zp(r,n.precondition(r)))})),e.next=7,function(){var e=Kr(Qr().mark((function e(t,n){var r,i,a;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nl(t),i=Sv(r.serializer)+"/documents",a={writes:n.map((function(e){return Iv(r.serializer,e)}))},e.next=3,r.wo("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Al();t=Yl.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Pl(Ml.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Yl.min())?Sp.exists(!1):Sp.updateTime(t):Sp.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Yl.min()))throw new Pl(Ml.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Sp.updateTime(t)}return Sp.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),Ww=function(){function e(t,n,r,i,a){ii(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Wa=r.maxAttempts,this.zo=new kg(this.asyncQueue,"transaction_retry")}return oi(e,[{key:"run",value:function(){this.Wa-=1,this.Ga()}},{key:"Ga",value:function(){var e=this;this.zo.ko(Kr(Qr().mark((function t(){var n,r;return Qr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new Uw(e.datastore),(r=e.za(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.ja(t)}))}))})).catch((function(t){e.ja(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"za",value:function(e){try{var t=this.updateFunction(e);return!If(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"ja",value:function(e){var t=this;this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget((function(){return t.Ga(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Ha",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Wp(t)}return!1}}]),e}(),Qw=function(){function e(t,n,r,i){var a=this;ii(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=kl.UNAUTHENTICATED,this.clientId=Wl.newId(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Kr(Qr().mark((function e(t){return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Tl("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Tl("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return oi(e,[{key:"getConfiguration",value:function(){var e=Kr(Qr().mark((function e(){return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Pl(Ml.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Ol;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Kr(Qr().mark((function n(){var r;return Qr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=mb(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function Gw(e,t){return Kw.apply(this,arguments)}function Kw(){return Kw=Kr(Qr().mark((function e(t,n){var r,i;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Tl("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Kr(Qr().mark((function e(t){return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Ly(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),Kw.apply(this,arguments)}function Hw(e,t){return Yw.apply(this,arguments)}function Yw(){return(Yw=Kr(Qr().mark((function e(t,n){var r,i;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,Jw(t);case 3:return r=e.sent,Tl("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return cb(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return cb(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $w(e){return"FirebaseError"===e.name?e.code===Ml.FAILED_PRECONDITION||e.code===Ml.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function Jw(e){return Xw.apply(this,arguments)}function Xw(){return(Xw=Kr(Qr().mark((function e(t){var n;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return Tl("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,Gw(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),$w(n=e.t0)){e.next=13;break}throw n;case 13:return _l("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,Gw(t,new Lw);case 16:e.next=21;break;case 18:return Tl("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,Gw(t,new Lw);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}function Zw(e){return ek.apply(this,arguments)}function ek(){return(ek=Kr(Qr().mark((function e(t){return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return Tl("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,Hw(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return Tl("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,Hw(t,new zw);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tk(e){return Jw(e).then((function(e){return e.persistence}))}function nk(e){return Jw(e).then((function(e){return e.localStore}))}function rk(e){return Zw(e).then((function(e){return e.remoteStore}))}function ik(e){return Zw(e).then((function(e){return e.syncEngine}))}function ak(e){return Zw(e).then((function(e){return e.datastore}))}function ok(e){return sk.apply(this,arguments)}function sk(){return(sk=Kr(Qr().mark((function e(t){var n,r;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zw(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Vb.bind(null,n.syncEngine),r.onUnlisten=Wb.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uk(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Ol;return e.asyncQueue.enqueueAndForget(Kr(Qr().mark((function i(){return Qr().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new jw({next:function(a){t.enqueueAndForget((function(){return Cb(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new Pl(Ml.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new Pl(Ml.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new Ab(Nd(n.path),a,{includeMetadataChanges:!0,J_:!0});return xb(e,o)},i.next=3,ok(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function ck(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Ol;return e.asyncQueue.enqueueAndForget(Kr(Qr().mark((function i(){return Qr().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new jw({next:function(n){t.enqueueAndForget((function(){return Cb(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Pl(Ml.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Ab(n,a,{includeMetadataChanges:!0,J_:!0});return xb(e,o)},i.next=3,ok(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function lk(e){var t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}var fk=new Map;function hk(e,t,n){if(!n)throw new Pl(Ml.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function dk(e,t,n,r){if(!0===t&&!0===r)throw new Pl(Ml.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function pk(e){if(!ef.isDocumentKey(e))throw new Pl(Ml.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function vk(e){if(ef.isDocumentKey(e))throw new Pl(Ml.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function mk(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Al()}function yk(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Pl(Ml.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=mk(e);throw new Pl(Ml.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function gk(e,t){if(t<=0)throw new Pl(Ml.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var bk=function(){function e(t){var n,r;if(ii(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Pl(Ml.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Pl(Ml.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}dk("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lk(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Pl(Ml.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Pl(Ml.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Pl(Ml.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}return oi(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),wk=function(){function e(t,n,r,i){ii(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bk({}),this._settingsFrozen=!1}return oi(e,[{key:"app",get:function(){if(!this._app)throw new Pl(Ml.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Pl(Ml.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bk(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Ll;switch(e.type){case"firstParty":return new Vl(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Pl(Ml.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=fk.get(e);t&&(Tl("ComponentProvider","Removing Datastore"),fk.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function kk(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=yk(e,wk))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==a.host&&a.host!==o&&_l("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),i.mockUserToken){var s,u;if("string"==typeof i.mockUserToken)s=i.mockUserToken,u=kl.MOCK_USER;else{s=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[li(JSON.stringify({alg:"none",type:"JWT"})),li(JSON.stringify(a)),""].join(".")}(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new Pl(Ml.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new kl(c)}e._authCredentials=new Fl(new Rl(s,u))}}var xk=function(){function e(t,n,r){ii(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return oi(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Sk=function(){function e(t,n,r){ii(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return oi(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Ck(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),Ck=function(e){ti(n,e);var t=ri(n);function n(e,r,i){var a;return ii(this,n),(a=t.call(this,e,r,Nd(i)))._path=i,a.type="collection",a}return oi(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Sk(this.firestore,null,new ef(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(xk);function Tk(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ni(e),hk("collection","path",t),e instanceof wk){var a=Jl.fromString.apply(Jl,[t].concat(r));return vk(a),new Ck(e,null,a)}if(!(e instanceof Sk||e instanceof Ck))throw new Pl(Ml.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Jl.fromString.apply(Jl,[t].concat(r)));return vk(o),new Ck(e.firestore,null,o)}function Ek(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ni(e),1===arguments.length&&(t=Wl.newId()),hk("doc","path",t),e instanceof wk){var a=Jl.fromString.apply(Jl,[t].concat(r));return pk(a),new Sk(e,null,new ef(a))}if(!(e instanceof Sk||e instanceof Ck))throw new Pl(Ml.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Jl.fromString.apply(Jl,[t].concat(r)));return pk(o),new Sk(e.firestore,e instanceof Ck?e.converter:null,new ef(o))}function _k(e,t){return e=Ni(e),t=Ni(t),(e instanceof Sk||e instanceof Ck)&&(t instanceof Sk||t instanceof Ck)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Ik(e,t){return e=Ni(e),t=Ni(t),e instanceof xk&&t instanceof xk&&e.firestore===t.firestore&&zd(e._query,t._query)&&e.converter===t.converter}var Ak=function(){function e(){var t=this;ii(this,e),this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new kg(this,"async_queue_retry"),this.iu=function(){var e=bg();e&&Tl("AsyncQueue","Visibility state changed to "+e.visibilityState),t.zo.Qo()};var n=bg();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.iu)}return oi(e,[{key:"isShuttingDown",get:function(){return this.Za}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.su(),this.ou(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Za){this.Za=!0,this.nu=e||!1;var t=bg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.iu)}}},{key:"enqueue",value:function(e){var t=this;if(this.su(),this.Za)return new Promise((function(){}));var n=new Ol;return this.ou((function(){return t.Za&&t.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Ya.push(e),t._u()}))}},{key:"_u",value:function(){var e=Kr(Qr().mark((function e(){var t=this;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Ya.length){e.next=14;break}return e.prev=1,e.next=4,this.Ya[0]();case 4:this.Ya.shift(),this.zo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),wf(e.t0)){e.next=12;break}throw e.t0;case 12:Tl("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Ya.length>0&&this.zo.ko((function(){return t._u()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"ou",value:function(e){var t=this,n=this.Ja.then((function(){return t.tu=!0,e().catch((function(e){t.eu=e,t.tu=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw El("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.tu=!1,e}))}));return this.Ja=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.su(),this.ru.indexOf(e)>-1&&(t=0);var i=vb.createAndSchedule(this,e,t,n,(function(e){return r.au(e)}));return this.Xa.push(i),i}},{key:"su",value:function(){this.eu&&Al()}},{key:"verifyOperationInProgress",value:function(){}},{key:"uu",value:function(){var e=Kr(Qr().mark((function e(){var t;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Ja,e.next=3,t;case 3:if(t!==this.Ja){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cu",value:function(e){var t,n=ei(this.Xa);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"lu",value:function(e){var t=this;return this.uu().then((function(){t.Xa.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=ei(t.Xa);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.uu()}))}},{key:"hu",value:function(e){this.ru.push(e)}},{key:"au",value:function(e){var t=this.Xa.indexOf(e);this.Xa.splice(t,1)}}]),e}();function Dk(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=ei(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var Nk=function(){function e(){ii(this,e),this._progressObserver={},this._taskCompletionResolver=new Ol,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return oi(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),Mk=function(e){ti(n,e);var t=ri(n);function n(e,r,i,a){var o;return ii(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new Ak,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return oi(n,[{key:"_terminate",value:function(){return this._firestoreClient||Ok(this),this._firestoreClient.terminate()}}]),n}(wk);function Pk(e){return e._firestoreClient||Ok(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Ok(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new Th(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,lk(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new Qw(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function Rk(e,t,n){var r=new Ol;return e.asyncQueue.enqueue(Kr(Qr().mark((function i(){var a;return Qr().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Gw(e,n);case 3:return i.next=5,Hw(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),$w(a=i.t0)){i.next=13;break}throw a;case 13:_l("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function Lk(e){return function(e){var t=new Ol;return e.asyncQueue.enqueueAndForget(Kr(Qr().mark((function n(){return Qr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=rw,n.next=3,ik(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(Pk(e=yk(e,Mk)))}function Fk(e){return function(e){return e.asyncQueue.enqueue(Kr(Qr().mark((function t(){var n,r;return Qr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,tk(e);case 2:return n=t.sent,t.next=5,rk(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Nl(e);return t.C_.delete(0),Ig(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(Pk(e=yk(e,Mk)))}function Bk(e){return function(e){return e.asyncQueue.enqueue(Kr(Qr().mark((function t(){var n,r;return Qr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,tk(e);case 2:return n=t.sent,t.next=5,rk(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Kr(Qr().mark((function e(t){var n;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Nl(t)).C_.add(0),e.next=4,Dg(n);case 4:n.M_.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(Pk(e=yk(e,Mk)))}function zk(e,t){var n=Pk(e=yk(e,Mk)),r=new Nk;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new qw(e,t)}(function(e,t){if(e instanceof Uint8Array)return Vw(e,t);if(e instanceof ArrayBuffer)return Vw(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?Kp().encode(e):e),t)}(n,wg(t));e.asyncQueue.enqueueAndForget(Kr(Qr().mark((function t(){return Qr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Rw,t.next=3,ik(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function Vk(e,t){return function(e,t){return e.asyncQueue.enqueue(Kr(Qr().mark((function n(){return Qr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Nl(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Kr.getNamedQuery(e,t)}))},n.next=3,nk(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(Pk(e=yk(e,Mk)),t).then((function(t){return t?new xk(e,null,t.query):null}))}function jk(e){if(e._initialized||e._terminated)throw new Pl(Ml.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var qk=function(){function e(t){ii(this,e),this._byteString=t}return oi(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(yh.fromBase64String(t))}catch(t){throw new Pl(Ml.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(yh.fromUint8Array(t))}}]),e}(),Uk=function(){function e(){ii(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Pl(Ml.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zl(n)}return oi(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var Wk=oi((function e(t){ii(this,e),this._methodName=t})),Qk=function(){function e(t,n){if(ii(this,e),!isFinite(t)||t<-90||t>90)throw new Pl(Ml.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Pl(Ml.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return oi(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Ql(this._lat,e._lat)||Ql(this._long,e._long)}}]),e}(),Gk=/^__.*__$/,Kk=function(){function e(t,n,r){ii(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return oi(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Mp(e,this.data,this.fieldMask,t,this.fieldTransforms):new Np(e,this.data,t,this.fieldTransforms)}}]),e}(),Hk=function(){function e(t,n,r){ii(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return oi(e,[{key:"toMutation",value:function(e,t){return new Mp(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function Yk(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Al()}}var $k=function(){function e(t,n,r,i,a,o){ii(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Pu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return oi(e,[{key:"path",get:function(){return this.settings.path}},{key:"Iu",get:function(){return this.settings.Iu}},{key:"Tu",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Eu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:n,du:!1});return r.Au(e),r}},{key:"Ru",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:n,du:!1});return r.Pu(),r}},{key:"Vu",value:function(e){return this.Tu({path:void 0,du:!0})}},{key:"mu",value:function(e){return mx(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Pu",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Au(this.path.get(e))}},{key:"Au",value:function(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(Yk(this.Iu)&&Gk.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}]),e}(),Jk=function(){function e(t,n,r){ii(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||wg(t)}return oi(e,[{key:"pu",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new $k({Iu:e,methodName:t,gu:n,path:Zl.emptyPath(),du:!1,fu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function Xk(e){var t=e._freezeSettings(),n=wg(e._databaseId);return new Jk(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Zk(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.pu(a.merge||a.mergeFields?2:0,t,n,i);hx("Data must be an object, but it was:",o,r);var s,u,c=lx(r,o);if(a.merge)s=new vh(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=ei(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=dx(t,l.value,n);if(!o.contains(d))throw new Pl(Ml.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));yx(f,d)||f.push(d)}}catch(p){h.e(p)}finally{h.f()}s=new vh(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new Kk(new Hh(c),s,u)}var ex=function(e){ti(n,e);var t=ri(n);function n(){return ii(this,n),t.apply(this,arguments)}return oi(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Iu)throw 1===e.Iu?e.mu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.mu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(Wk);function tx(e,t,n){return new $k({Iu:3,gu:t.settings.gu,methodName:e._methodName,du:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}var nx=function(e){ti(n,e);var t=ri(n);function n(){return ii(this,n),t.apply(this,arguments)}return oi(n,[{key:"_toFieldTransform",value:function(e){return new kp(e.path,new dp)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(Wk),rx=function(e){ti(n,e);var t=ri(n);function n(e,r){var i;return ii(this,n),(i=t.call(this,e)).yu=r,i}return oi(n,[{key:"_toFieldTransform",value:function(e){var t=tx(this,e,!0),n=this.yu.map((function(e){return cx(e,t)})),r=new pp(n);return new kp(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Wk),ix=function(e){ti(n,e);var t=ri(n);function n(e,r){var i;return ii(this,n),(i=t.call(this,e)).yu=r,i}return oi(n,[{key:"_toFieldTransform",value:function(e){var t=tx(this,e,!0),n=this.yu.map((function(e){return cx(e,t)})),r=new mp(n);return new kp(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Wk),ax=function(e){ti(n,e);var t=ri(n);function n(e,r){var i;return ii(this,n),(i=t.call(this,e)).wu=r,i}return oi(n,[{key:"_toFieldTransform",value:function(e){var t=new gp(e.serializer,up(e.serializer,this.wu));return new kp(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Wk);function ox(e,t,n,r){var i=e.pu(1,t,n);hx("Data must be an object, but it was:",i,r);var a=[],o=Hh.empty();sh(r,(function(e,r){var s=vx(t,e,n);r=Ni(r);var u=i.Ru(s);if(r instanceof ex)a.push(s);else{var c=cx(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new vh(a);return new Hk(o,s,i.fieldTransforms)}function sx(e,t,n,r,i,a){var o=e.pu(1,t,n),s=[dx(t,r,n)],u=[i];if(a.length%2!=0)throw new Pl(Ml.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(dx(t,a[c])),u.push(a[c+1]);for(var l=[],f=Hh.empty(),h=s.length-1;h>=0;--h)if(!yx(l,s[h])){var d=s[h],p=u[h];p=Ni(p);var v=o.Ru(d);if(p instanceof ex)l.push(d);else{var m=cx(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new vh(l);return new Hk(f,y,o.fieldTransforms)}function ux(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return cx(n,e.pu(r?4:3,t))}function cx(e,t){if(fx(e=Ni(e)))return hx("Unsupported field value:",t,e),lx(e,t);if(e instanceof Wk)return function(e,t){if(!Yk(t.Iu))throw t.mu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.mu("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.du&&4!==t.Iu)throw t.mu("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=ei(e);try{for(a.s();!(n=a.n()).done;){var o=cx(n.value,t.Vu(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Ni(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return up(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Hl.fromDate(e);return{timestampValue:dv(t.serializer,n)}}if(e instanceof Hl){var r=new Hl(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:dv(t.serializer,r)}}if(e instanceof Qk)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof qk)return{bytesValue:pv(t.serializer,e._byteString)};if(e instanceof Sk){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.mu("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:yv(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.mu("Unsupported field value: ".concat(mk(e)))}(e,t)}function lx(e,t){var n={};return uh(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):sh(e,(function(e,r){var i=cx(r,t.Eu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function fx(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Hl||e instanceof Qk||e instanceof qk||e instanceof Sk||e instanceof Wk)}function hx(e,t,n){if(!fx(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=mk(n);throw"an object"===r?t.mu(e+" a custom object"):t.mu(e+" "+r)}}function dx(e,t,n){if((t=Ni(t))instanceof Uk)return t._internalPath;if("string"==typeof t)return vx(e,t);throw mx("Field path arguments must be of type string or ",e,!1,void 0,n)}var px=new RegExp("[~\\*/\\[\\]]");function vx(e,t,n){if(t.search(px)>=0)throw mx("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return $r(Uk,et(t.split(".")))._internalPath}catch(r){throw mx("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function mx(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new Pl(Ml.INVALID_ARGUMENT,s+e+u)}function yx(e,t){return e.some((function(e){return e.isEqual(t)}))}var gx=function(){function e(t,n,r,i,a){ii(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return oi(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Sk(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new bx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(wx("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),bx=function(e){ti(n,e);var t=ri(n);function n(){return ii(this,n),t.apply(this,arguments)}return oi(n,[{key:"data",value:function(){return Xr(Jr(n.prototype),"data",this).call(this)}}]),n}(gx);function wx(e,t){return"string"==typeof t?vx(e,t):t instanceof Uk?t._internalPath:t._delegate._internalPath}function kx(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Pl(Ml.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var xx=oi((function e(){ii(this,e)})),Sx=function(e){ti(n,e);var t=ri(n);function n(){return ii(this,n),t.apply(this,arguments)}return oi(n)}(xx);function Cx(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof xx&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof Ex})).length,n=e.filter((function(e){return e instanceof Tx})).length;if(t>1||t>0&&n>0)throw new Pl(Ml.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,s=ei(n);try{for(s.s();!(o=s.n()).done;){e=o.value._apply(e)}}catch(u){s.e(u)}finally{s.f()}return e}var Tx=function(e){ti(n,e);var t=ri(n);function n(e,r,i){var a;return ii(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return oi(n,[{key:"_apply",value:function(e){var t=this._parse(e);return Bx(e._query,t),new xk(e.firestore,e.converter,Fd(e._query,t))}},{key:"_parse",value:function(e){var t=Xk(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Pl(Ml.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){Fx(o,a);var u,c=[],l=ei(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(Lx(r,e,f))}}catch(h){l.e(h)}finally{l.f()}s={arrayValue:{values:c}}}else s=Lx(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||Fx(o,a),s=ux(n,t,o,"in"===a||"not-in"===a);return rd.create(i,a,s)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(Sx);var Ex=function(e){ti(n,e);var t=ri(n);function n(e,r){var i;return ii(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return oi(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:id.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=ei(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;Bx(r,a),r=Fd(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new xk(e.firestore,e.converter,Fd(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(xx);var _x=function(e){ti(n,e);var t=ri(n);function n(e,r){var i;return ii(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return oi(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Pl(Ml.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Pl(Ml.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ed(t,n)}(e._query,this._field,this._direction);return new xk(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Ad(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Sx);var Ix=function(e){ti(n,e);var t=ri(n);function n(e,r,i){var a;return ii(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return oi(n,[{key:"_apply",value:function(e){return new xk(e.firestore,e.converter,Bd(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(Sx);var Ax=function(e){ti(n,e);var t=ri(n);function n(e,r,i){var a;return ii(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return oi(n,[{key:"_apply",value:function(e){var t=Rx(e,this.type,this._docOrFields,this._inclusive);return new xk(e.firestore,e.converter,function(e,t){return new Ad(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(Sx);function Dx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ax._create("startAt",t,!0)}function Nx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ax._create("startAfter",t,!1)}var Mx=function(e){ti(n,e);var t=ri(n);function n(e,r,i){var a;return ii(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return oi(n,[{key:"_apply",value:function(e){var t=Rx(e,this.type,this._docOrFields,this._inclusive);return new xk(e.firestore,e.converter,function(e,t){return new Ad(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(Sx);function Px(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Mx._create("endBefore",t,!1)}function Ox(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Mx._create("endAt",t,!0)}function Rx(e,t,n,r){if(n[0]=Ni(n[0]),n[0]instanceof gx)return function(e,t,n,r,i){if(!r)throw new Pl(Ml.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=ei(Od(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(Lh(t,r.key));else{var c=r.data.field(u.field);if(xh(c))throw new Pl(Ml.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Pl(Ml.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){s.e(f)}finally{s.f()}return new Jh(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Xk(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Pl(Ml.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new Pl(Ml.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Pd(e)&&-1!==c.indexOf("/"))throw new Pl(Ml.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Jl.fromString(c));if(!ef.isDocumentKey(l))throw new Pl(Ml.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new ef(l);s.push(Lh(t,f))}else{var h=ux(n,r,c);s.push(h)}}return new Jh(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function Lx(e,t,n){if("string"==typeof(n=Ni(n))){if(""===n)throw new Pl(Ml.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Pd(t)&&-1!==n.indexOf("/"))throw new Pl(Ml.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Jl.fromString(n));if(!ef.isDocumentKey(r))throw new Pl(Ml.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Lh(e,new ef(r))}if(n instanceof Sk)return Lh(e,n._key);throw new Pl(Ml.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(mk(n),"."))}function Fx(e,t){if(!Array.isArray(e)||0===e.length)throw new Pl(Ml.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Bx(e,t){var n=function(e,t){var n,r=ei(e);try{for(r.s();!(n=r.n()).done;){var i,a=ei(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(s){a.e(s)}finally{a.f()}}}catch(s){r.e(s)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Pl(Ml.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Pl(Ml.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}var zx=function(){function e(){ii(this,e)}return oi(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Ah(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wh(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(kh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Al()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return sh(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertGeoPoint",value:function(e){return new Qk(wh(e.latitude),wh(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Sh(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Ch(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=bh(e);return new Hl(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Jl.fromString(e);Dl(jv(n));var r=new Eh(n.get(1),n.get(3)),i=new ef(n.popFirst(5));return r.isEqual(t)||El("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function Vx(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var jx=function(e){ti(n,e);var t=ri(n);function n(e){var r;return ii(this,n),(r=t.call(this)).firestore=e,r}return oi(n,[{key:"convertBytes",value:function(e){return new qk(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Sk(this.firestore,null,t)}}]),n}(zx);var qx=function(){function e(t,n){ii(this,e),this.hasPendingWrites=t,this.fromCache=n}return oi(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Ux=function(e){ti(n,e);var t=ri(n);function n(e,r,i,a,o,s){var u;return ii(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return oi(n,[{key:"exists",value:function(){return Xr(Jr(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new Wx(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(wx("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(gx),Wx=function(e){ti(n,e);var t=ri(n);function n(){return ii(this,n),t.apply(this,arguments)}return oi(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Xr(Jr(n.prototype),"data",this).call(this,e)}}]),n}(Ux),Qx=function(){function e(t,n,r,i){ii(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new qx(i.hasPendingWrites,i.fromCache),this.query=r}return oi(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Wx(n._firestore,n._userDataWriter,r.key,r,new qx(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Pl(Ml.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new Wx(e._firestore,e._userDataWriter,t.doc.key,t.doc,new qx(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Wx(e._firestore,e._userDataWriter,t.doc.key,t.doc,new qx(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Gx(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function Gx(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Al()}}function Kx(e,t){return e instanceof Ux&&t instanceof Ux?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Qx&&t instanceof Qx&&e._firestore===t._firestore&&Ik(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Hx(e){e=yk(e,Sk);var t=yk(e.firestore,Mk);return uk(Pk(t),e._key).then((function(n){return aS(t,e,n)}))}var Yx=function(e){ti(n,e);var t=ri(n);function n(e){var r;return ii(this,n),(r=t.call(this)).firestore=e,r}return oi(n,[{key:"convertBytes",value:function(e){return new qk(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Sk(this.firestore,null,t)}}]),n}(zx);function $x(e){e=yk(e,Sk);var t=yk(e.firestore,Mk),n=Pk(t),r=new Yx(t);return function(e,t){var n=new Ol;return e.asyncQueue.enqueueAndForget(Kr(Qr().mark((function r(){return Qr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Kr(Qr().mark((function e(t,n,r){var i,a;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Nl(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Pl(Ml.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=mb(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,nk(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new Ux(t,r,e._key,n,new qx(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function Jx(e){e=yk(e,xk);var t=yk(e.firestore,Mk),n=Pk(t),r=new Yx(t);return kx(e._query),ck(n,e._query).then((function(n){return new Qx(t,r,e,n)}))}function Xx(e){e=yk(e,xk);var t=yk(e.firestore,Mk),n=Pk(t),r=new Yx(t);return function(e,t){var n=new Ol;return e.asyncQueue.enqueueAndForget(Kr(Qr().mark((function r(){return Qr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Kr(Qr().mark((function e(t,n,r){var i,a,o,s,u;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Gy(t,n,!0);case 3:i=e.sent,a=new Lb(n,i.ls),o=a.ca(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=mb(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,nk(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new Qx(t,r,e,n)}))}function Zx(e){e=yk(e,xk);var t=yk(e.firestore,Mk),n=Pk(t),r=new Yx(t);return ck(n,e._query,{source:"server"}).then((function(n){return new Qx(t,r,e,n)}))}function eS(e,t,n){e=yk(e,Sk);var r=yk(e.firestore,Mk),i=Vx(e.converter,t,n);return iS(r,[Zk(Xk(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Sp.none())])}function tS(e,t,n){e=yk(e,Sk);for(var r=yk(e.firestore,Mk),i=Xk(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return iS(r,[("string"==typeof(t=Ni(t))||t instanceof Uk?sx(i,"updateDoc",e._key,t,n,o):ox(i,"updateDoc",e._key,t)).toMutation(e._key,Sp.exists(!0))])}function nS(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Ni(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||Dk(n[u])||(s=n[u],u++);var c,l,f,h={includeMetadataChanges:s.includeMetadataChanges};if(Dk(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof Sk)l=yk(e.firestore,Mk),f=Nd(e._key.path),c={next:function(t){n[u]&&n[u](aS(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=yk(e,xk);l=yk(p.firestore,Mk),f=p._query;var v=new Yx(l);c={next:function(e){n[u]&&n[u](new Qx(l,v,p,e))},error:n[u+1],complete:n[u+2]},kx(e._query)}return function(e,t,n,r){var i=new jw(r),a=new Ab(t,i,n);return e.asyncQueue.enqueueAndForget(Kr(Qr().mark((function t(){return Qr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=xb,t.next=3,ok(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Na(),e.asyncQueue.enqueueAndForget(Kr(Qr().mark((function t(){return Qr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Cb,t.next=3,ok(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Pk(l),f,h,c)}function rS(e,t){return function(e,t){var n=new jw(t);return e.asyncQueue.enqueueAndForget(Kr(Qr().mark((function t(){return Qr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Nl(e).q_.add(t),t.next()},t.next=3,ok(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Na(),e.asyncQueue.enqueueAndForget(Kr(Qr().mark((function t(){return Qr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Nl(e).q_.delete(t)},t.next=3,ok(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Pk(e=yk(e,Mk)),Dk(t)?t:{next:t})}function iS(e,t){return function(e,t){var n=new Ol;return e.asyncQueue.enqueueAndForget(Kr(Qr().mark((function r(){return Qr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=Gb,r.next=3,ik(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(Pk(e),t)}function aS(e,t,n){var r=n.docs.get(t._key),i=new Yx(e);return new Ux(e,i,t._key,r,new qx(n.hasPendingWrites,n.fromCache),t.converter)}var oS={maxAttempts:5},sS=function(){function e(t,n){ii(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Xk(t)}return oi(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=uS(e,this._firestore),i=Vx(r.converter,t,n),a=Zk(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Sp.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=uS(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=Ni(t))||t instanceof Uk?sx(this._dataReader,"WriteBatch.update",i._key,t,n,o):ox(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Sp.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=uS(e,this._firestore);return this._mutations=this._mutations.concat(new Bp(t._key,Sp.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Pl(Ml.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function uS(e,t){if((e=Ni(e)).firestore!==t)throw new Pl(Ml.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var cS=function(e){ti(n,e);var t=ri(n);function n(e,r){var i;return ii(this,n),(i=t.call(this,e,r))._firestore=e,i}return oi(n,[{key:"get",value:function(e){var t=this,r=uS(e,this._firestore),i=new Yx(this._firestore);return Xr(Jr(n.prototype),"get",this).call(this,e).then((function(e){return new Ux(t._firestore,i,r._key,e._document,new qx(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){ii(this,e),this._firestore=t,this._transaction=n,this._dataReader=Xk(t)}return oi(e,[{key:"get",value:function(e){var t=this,n=uS(e,this._firestore),r=new jx(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Al();var i=e[0];if(i.isFoundDocument())return new gx(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new gx(t._firestore,r,n._key,null,n.converter);throw Al()}))}},{key:"set",value:function(e,t,n){var r=uS(e,this._firestore),i=Vx(r.converter,t,n),a=Zk(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=uS(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=Ni(t))||t instanceof Uk?sx(this._dataReader,"Transaction.update",i._key,t,n,o):ox(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=uS(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function lS(e,t,n){e=yk(e,Mk);var r=Object.assign(Object.assign({},oS),n);return function(e){if(e.maxAttempts<1)throw new Pl(Ml.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new Ol;return e.asyncQueue.enqueueAndForget(Kr(Qr().mark((function i(){var a;return Qr().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,ak(e);case 2:a=i.sent,new Ww(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(Pk(e),(function(n){return t(new cS(e,n))}),r)}function fS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new rx("arrayUnion",t)}function hS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ix("arrayRemove",t)}var dS;new WeakMap;!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){xl=e}(Ea),ba(new Mi("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new Mk(new Bl(e.getProvider("auth-internal")),new ql(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Pl(Ml.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Eh(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Ma(wl,"4.4.0",e),Ma(wl,"4.4.0","esm2017")}();var pS=function(){function e(t,n){var r=this;ii(this,e),this._delegate=t,this.firebase=n,ya(t,new Mi("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return oi(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Da(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:da;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:da;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){ya(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){ga(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),vS=(qe(dS={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),qe(dS,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),dS),mS=new Si("app-compat","Firebase",vS);var yS=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=_a(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Ti(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Ma,setLogLevel:Oa,onLog:Pa,apps:null,SDK_VERSION:Ea,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(ba(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw mS.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&hi(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Ti(n,e=e||da))throw mS.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(pS);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){hi(n,e)},createSubscribe:Ii,ErrorFactory:Si,deepExtend:hi}),n}(),gS=new Ui("@firebase/app-compat"),bS="@firebase/app-compat",wS="0.2.25";if("object"===typeof self&&self.self===self&&void 0!==self.firebase){gS.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var kS=self.firebase.SDK_VERSION;kS&&kS.indexOf("LITE")>=0&&gS.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var xS=yS;!function(e){Ma(bS,wS,e)}();xS.registerVersion("firebase","10.7.1","app-compat");var SS="@firebase/firestore-compat",CS="0.3.23";function TS(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Pl("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function ES(){if("undefined"===typeof Uint8Array)throw new Pl("unimplemented","Uint8Arrays are not available in this environment.")}function _S(){if("undefined"==typeof atob)throw new Pl("unimplemented","Blobs are unavailable in Firestore in this environment.")}var IS=function(){function e(t){ii(this,e),this._delegate=t}return oi(e,[{key:"toBase64",value:function(){return _S(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return ES(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return _S(),new e(qk.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return ES(),new e(qk.fromUint8Array(t))}}]),e}();function AS(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=ei(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var DS=function(){function e(){ii(this,e)}return oi(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){jk(e=yk(e,Mk));var n=Pk(e);if(n._uninitializedComponentsProvider)throw new Pl(Ml.FAILED_PRECONDITION,"SDK cache is already specified.");_l("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var r=e._freezeSettings(),i=new zw;return Rk(n,i,new Fw(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){jk(e=yk(e,Mk));var t=Pk(e);if(t._uninitializedComponentsProvider)throw new Pl(Ml.FAILED_PRECONDITION,"SDK cache is already specified.");_l("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var n=e._freezeSettings(),r=new zw;return Rk(t,r,new Bw(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Pl(Ml.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Ol;return e._queue.enqueueAndForgetEvenWhileRestricted(Kr(Qr().mark((function n(){return Qr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Kr(Qr().mark((function e(t){var n;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(yf.D()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,yf.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(Dy(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),NS=function(){function e(t,n,r){var i=this;ii(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Eh||(this._appCompat=t)}return oi(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||_l("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};kk(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return Fk(this._delegate)}},{key:"disableNetwork",value:function(){return Bk(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&dk("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return Lk(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return rS(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Pl("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new QS(this,Tk(this._delegate,e))}catch(t){throw FS(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new LS(this,Ek(this._delegate,e))}catch(t){throw FS(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new qS(this,function(e,t){if(e=yk(e,wk),hk("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Pl(Ml.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new xk(e,null,function(e){return new Ad(Jl.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw FS(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return lS(this._delegate,(function(n){return e(new PS(t,n))}))}},{key:"batch",value:function(){var e=this;return Pk(this._delegate),new OS(new sS(this._delegate,(function(t){return iS(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return zk(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return Vk(this._delegate,e).then((function(e){return e?new qS(t,e):null}))}}]),e}(),MS=function(e){ti(n,e);var t=ri(n);function n(e){var r;return ii(this,n),(r=t.call(this)).firestore=e,r}return oi(n,[{key:"convertBytes",value:function(e){return new IS(new qk(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return LS.forKey(t,this.firestore,null)}}]),n}(zx);var PS=function(){function e(t,n){ii(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new MS(t)}return oi(e,[{key:"get",value:function(e){var t=this,n=GS(e);return this._delegate.get(n).then((function(e){return new VS(t._firestore,new Ux(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=GS(e);return n?(TS("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=GS(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=GS(e);return this._delegate.delete(t),this}}]),e}(),OS=function(){function e(t){ii(this,e),this._delegate=t}return oi(e,[{key:"set",value:function(e,t,n){var r=GS(e);return n?(TS("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=GS(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=GS(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),RS=function(){function e(t,n,r){ii(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return oi(e,[{key:"fromFirestore",value:function(e,t){var n=new Wx(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new jS(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new MS(t),n),i.set(n,a)),a}}]),e}();RS.INSTANCES=new WeakMap;var LS=function(){function e(t,n){ii(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new MS(t)}return oi(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new QS(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new QS(this.firestore,Tk(this._delegate,e))}catch(t){throw FS(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Ni(e))instanceof Sk&&_k(this._delegate,e)}},{key:"set",value:function(e,t){t=TS("DocumentReference.set",t);try{return t?eS(this._delegate,e,t):eS(this._delegate,e)}catch(n){throw FS(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?tS(this._delegate,e):tS.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw FS(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return iS(yk((e=this._delegate).firestore,Mk),[new Bp(e._key,Sp.none())]);var e}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=BS(n),a=zS(n,(function(t){return new VS(e.firestore,new Ux(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return nS(this._delegate,i,a)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?$x(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=yk(e,Sk);var t=yk(e.firestore,Mk);return uk(Pk(t),e._key,{source:"server"}).then((function(n){return aS(t,e,n)}))}(this._delegate):Hx(this._delegate)).then((function(e){return new VS(t.firestore,new Ux(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(RS.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Pl("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new Sk(n._delegate,r,new ef(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new Sk(n._delegate,r,t))}}]),e}();function FS(e,t,n){return e.message=e.message.replace(t,n),e}function BS(e){var t,n=ei(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!AS(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function zS(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=AS(e[0])?e[0]:AS(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var VS=function(){function e(t,n){ii(this,e),this._firestore=t,this._delegate=n}return oi(e,[{key:"ref",get:function(){return new LS(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return Kx(this._delegate,e._delegate)}}]),e}(),jS=function(e){ti(n,e);var t=ri(n);function n(){return ii(this,n),t.apply(this,arguments)}return oi(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return this._delegate._converter||void 0!==t||Al(),t}}]),n}(VS),qS=function(){function e(t,n){ii(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new MS(t)}return oi(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,Cx(this._delegate,function(e,t,n){var r=t,i=wx("where",e);return Tx._create(i,r,n)}(t,n,r)))}catch(i){throw FS(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,Cx(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=wx("orderBy",e);return _x._create(n,t)}(t,n)))}catch(r){throw FS(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,Cx(this._delegate,(gk("limit",n=t),Ix._create("limit",n,"F"))))}catch(n){throw FS(n,"limit()","Query.limit()")}var n}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,Cx(this._delegate,(gk("limitToLast",n=t),Ix._create("limitToLast",n,"L"))))}catch(n){throw FS(n,"limitToLast()","Query.limitToLast()")}var n}},{key:"startAt",value:function(){try{return new e(this.firestore,Cx(this._delegate,Dx.apply(void 0,arguments)))}catch(t){throw FS(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,Cx(this._delegate,Nx.apply(void 0,arguments)))}catch(t){throw FS(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,Cx(this._delegate,Px.apply(void 0,arguments)))}catch(t){throw FS(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,Cx(this._delegate,Ox.apply(void 0,arguments)))}catch(t){throw FS(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return Ik(this._delegate,e._delegate)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?Xx(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?Zx(this._delegate):Jx(this._delegate)).then((function(e){return new WS(t.firestore,new Qx(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=BS(n),a=zS(n,(function(t){return new WS(e.firestore,new Qx(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return nS(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(RS.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),US=function(){function e(t,n){ii(this,e),this._firestore=t,this._delegate=n}return oi(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new jS(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),WS=function(){function e(t,n){ii(this,e),this._firestore=t,this._delegate=n}return oi(e,[{key:"query",get:function(){return new qS(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new jS(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new US(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new jS(n._firestore,r))}))}},{key:"isEqual",value:function(e){return Kx(this._delegate,e._delegate)}}]),e}(),QS=function(e){ti(n,e);var t=ri(n);function n(e,r){var i;return ii(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return oi(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new LS(this.firestore,e):null}},{key:"doc",value:function(e){try{return new LS(this.firestore,void 0===e?Ek(this._delegate):Ek(this._delegate,e))}catch(t){throw FS(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=yk(e.firestore,Mk),r=Ek(e),i=Vx(e.converter,t);return iS(n,[Zk(Xk(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Sp.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new LS(t.firestore,e)}))}},{key:"isEqual",value:function(e){return _k(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(RS.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(qS);function GS(e){return yk(e,Sk)}var KS,HS=function(){function e(){ii(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=$r(Uk,n)}return oi(e,[{key:"isEqual",value:function(e){return(e=Ni(e))instanceof Uk&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Zl.keyField().canonicalString())}}]),e}(),YS=function(){function e(t){ii(this,e),this._delegate=t}return oi(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new nx("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new ex("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=fS.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=hS.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=new ax("increment",t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),$S={Firestore:NS,GeoPoint:Qk,Timestamp:Hl,Blob:IS,Transaction:PS,WriteBatch:OS,DocumentReference:LS,DocumentSnapshot:VS,Query:qS,QueryDocumentSnapshot:jS,QuerySnapshot:WS,CollectionReference:QS,FieldPath:HS,FieldValue:YS,setLogLevel:function(e){var t;t=e,Sl.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new Mi("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},$S)))})(KS=xS,(function(e,t){return new NS(e,t,new DS)})),KS.registerVersion(SS,CS);var JS,XS,ZS,eC,tC,nC,rC,iC,aC,oC,sC,uC,cC,lC,fC,hC,dC,pC,vC,mC=xS.initializeApp({apiKey:"60829957132",authDomain:"cotf-trivia-4644c.firebaseapp.com",projectId:"cotf-trivia-4644c",storageBucket:"cotf-trivia-4644c.appspot.com",messagingSenderId:"60829957132",appId:"1:60829957132:web:98c50e9c5a0d6439914229",measurementId:"G-YJPTMZCJX3"}),yC=(xS.firestore(),ze.h2(JS||(JS=tt(["\n  font-weight: 700;\n  font-size: 32px;\n  color: ",";\n"])),(function(e){return e.theme.colors.themeColor}))),gC=ze.div(XS||(XS=tt(["\n  font-size: 20px;\n  font-weight: 500;\n  margin-top: 15px;\n  margin-bottom: 40px;\n  text-align: center;\n  max-width: 500px;\n"]))),bC=ze.p(ZS||(ZS=tt(["\n  font-size: 20px;\n  font-weight: 500;\n  margin-top: 15px;\n  line-height: 1.3;\n"]))),wC=function(e,t){var n="string"==typeof e?e:t||"(default)",r=wa("object"==typeof e?e:Ia(),"firestore").getImmediate({identifier:n});if(!r._initialized){var i=vi("firestore");i&&kk.apply(void 0,[r].concat(et(i)))}return r}(mC),kC=function(){var e=He(),n=e.setCurrentScreen,r=e.quizDetails,i=r.selectedQuizTopic,a=(r.totalQuestions,r.totalTime,o((0,t.useState)(0),2)),s=a[0],u=a[1],c=o((0,t.useState)(0),2),l=c[0],f=c[1],h=o((0,t.useState)(0),2),d=h[0],p=h[1],v=o((0,t.useState)(0),2),m=v[0],y=v[1];function g(){return b.apply(this,arguments)}function b(){return(b=Kr(Qr().mark((function e(){var t,n,r;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Ek(wC,"quizQuestions","AMORY WARS"),e.next=3,Hx(t);case 3:if(!(n=e.sent).exists()){e.next=7;break}return r=n.data().questionID,e.abrupt("return",r);case 7:return e.abrupt("return",0);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(){return k.apply(this,arguments)}function k(){return(k=Kr(Qr().mark((function e(){var t,n,r;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Ek(wC,"quizQuestions","Coheed and Cambria"),e.next=3,Hx(t);case 3:if(!(n=e.sent).exists()){e.next=7;break}return r=n.data().questionID,e.abrupt("return",r);case 7:return e.abrupt("return",0);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){return S.apply(this,arguments)}function S(){return(S=Kr(Qr().mark((function e(){var t,n,r;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Ek(wC,"quizQuestions","S.S. Neverender"),e.next=3,Hx(t);case 3:if(!(n=e.sent).exists()){e.next=7;break}return r=n.data().questionID,e.abrupt("return",r);case 7:return e.abrupt("return",0);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return T.apply(this,arguments)}function T(){return(T=Kr(Qr().mark((function e(){var t,n,r;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Ek(wC,"quizQuestions","Side Projects"),e.next=3,Hx(t);case 3:if(!(n=e.sent).exists()){e.next=7;break}return r=n.data().questionID,e.abrupt("return",r);case 7:return e.abrupt("return",0);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,t.useEffect)((function(){function e(){return(e=Kr(Qr().mark((function e(){var t,n,r,i;return Qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:return t=e.sent,u(t),e.next=6,w();case 6:return n=e.sent,f(n),e.next=10,x();case 10:return r=e.sent,p(r),e.next=14,C();case 14:i=e.sent,y(i);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);tr();return(0,Qe.jsx)(lr,{light:!0,justifyCenter:!0,children:(0,Qe.jsxs)(hr,{children:[(0,Qe.jsx)(pr,{children:(0,Qe.jsx)(ut,{})}),(0,Qe.jsx)(yC,{children:"COTF TRIVIA"}),(0,Qe.jsxs)(gC,{children:[(0,Qe.jsxs)(bC,{children:["Selected Quiz Topic: ",(0,Qe.jsx)(dr,{children:i})]}),(0,Qe.jsxs)(bC,{children:["Total questions available in the selected quiz:"," ",(0,Qe.jsx)(dr,{children:function(){switch(i){case"AMORY WARS":return s;case"Coheed and Cambria":return l;case"S.S. Neverender":return d;case"Side Projects":return m;default:return 0}}()})]}),(0,Qe.jsx)(bC,{children:"You will have 10 seconds to answer each question in the quiz"}),(0,Qe.jsx)(bC,{children:"To save time, you can skip questions. Skipped questions will show up at the end of the quiz."})]}),(0,Qe.jsx)(br,{text:"Start",icon:(0,Qe.jsx)(nn,{}),iconPosition:"left",onClick:function(){n(Ue.QuestionScreen)},bold:!0})]})})},xC=[{title:"Coheed and Cambria",icon:(0,Qe.jsx)(ut,{})},{title:"AMORY WARS",icon:(0,Qe.jsx)(ut,{})},{title:"Side Projects",icon:(0,Qe.jsx)(ut,{})},{title:"S.S. Neverender",icon:(0,Qe.jsx)(ut,{})}],SC=ze.h2(eC||(eC=tt(["\n  font-size: 50px;\n  font-weight: 700;\n  margin-bottom: 20px;\n  text-align: center;\n"]))),CC=ze.p(tC||(tC=tt(["\n  font-weight: 500;\n  font-size: 20px;\n  line-height: 29px;\n  text-align: center;\n"]))),TC=ze.div(nC||(nC=tt(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  max-width: 60%;\n  gap: 30px;\n  margin-top: 40px;\n  margin-bottom: 45px;\n  @media "," {\n    row-gap: 20px;\n    column-gap: 20px;\n    max-width: 100%;\n  }\n"])),ur.md),EC=ze.div(rC||(rC=tt(["\n  background-color: ",";\n  border: ",";\n  transition: background-color 0.4s ease-out;\n  border-radius: 10px;\n  padding: 14px 10px;\n  display: flex;\n  align-items: center;\n  cursor: ",";\n  @media "," {\n    padding: 10px;\n    tap-highlight-color: transparent;\n    -webkit-tap-highlight-color: transparent;\n  }\n"])),(function(e){var t=e.disabled,n=e.theme;return"".concat(t?n.colors.disabledCard:n.colors.selectTopicBg)}),(function(e){var t=e.active,n=e.theme;return t?"2px solid ".concat(n.colors.themeColor):"1px solid ".concat(n.colors.disabledButton)}),(function(e){return e.disabled?"not-allowed":"pointer"}),ur.md),_C=ze.span(iC||(iC=tt(["\n  font-size: 18px;\n  font-weight: 600;\n  margin-left: 10px;\n  @media "," {\n    font-size: 16px;\n    font-weight: 500;\n  }\n"])),ur.md),IC=function(){var e=He(),t=e.quizTopic,n=e.selectQuizTopic,r=e.setCurrentScreen;return(0,Qe.jsx)(lr,{light:!0,justifyCenter:!0,children:(0,Qe.jsxs)(hr,{children:[(0,Qe.jsx)(pr,{children:(0,Qe.jsx)(ut,{})}),(0,Qe.jsxs)(SC,{children:["WELCOME TO ",(0,Qe.jsx)(dr,{children:" COTF TRIVIA"})]}),(0,Qe.jsx)(CC,{children:"Select topic below to start your Quiz."}),(0,Qe.jsx)(TC,{children:xC.map((function(e){var r=e.title,i=e.icon,a=e.disabled;return(0,Qe.jsxs)(EC,{active:t===r,onClick:function(){return!a&&n(r)},disabled:a,children:[i,(0,Qe.jsx)(_C,{children:r})]},r)}))}),(0,Qe.jsx)(br,{text:"CONTINUE",onClick:function(){r(Ue.QuizDetailsScreen)},bold:!0})]})})},AC=ze.div(aC||(aC=tt(["\n  text-align: center;\n  margin-bottom: 70px;\n  @media "," {\n    margin-bottom: 30px;\n  }\n  p {\n    margin-top: 15px;\n    font-weight: 500;\n    font-size: 18px;\n  }\n"])),ur.md),DC=function(e){var t=e.result,n=He(),r=n.quizDetails,i=n.endTime,a=t.length;return(0,Qe.jsxs)(AC,{children:[(0,Qe.jsxs)("p",{children:["You attempted questions:"," ",(0,Qe.jsxs)(dr,{children:[" ",a," "]}),"/"," ",r.totalQuestions]}),(0,Qe.jsxs)("p",{children:["Time Spent:",(0,Qe.jsxs)(dr,{children:[" ",er(i)," "]})]})]})},NC=ze.p(oC||(oC=tt(["\n  font-size: 18px;\n  font-weight: 400;\n  color: ",";\n  margin-top: 15px;\n  line-height: 1.2;\n"])),(function(e){return e.theme.colors.darkerGray})),MC=function(e){var t=e.correctAnswers,n=e.choices;return(0,Qe.jsxs)(NC,{children:["Right ".concat(t.length<2?"Answer":"Answers",": "),t.map((function(e,r){var i=String.fromCharCode(65+n.indexOf(e));return(0,Qe.jsx)(dr,{themeText:!0,children:"".concat(i," (").concat(e,")").concat(r!==t.length-1?", ":"")},r)}))]})},PC=ze.div(sC||(sC=tt(["\n  max-width: 900px;\n  margin: 60px auto;\n  @media "," {\n    width: 90%;\n    margin: 30px auto;\n    padding-top: 40px;\n  }\n"])),ur.md),OC=ze.div(uC||(uC=tt(["\n  background: ",";\n  border-radius: 4px;\n  margin: 0 auto;\n  margin-bottom: 40px;\n  padding: 40px 90px 90px 90px;\n  @media "," {\n    padding: 15px;\n  }\n"])),(function(e){return e.theme.colors.cardBackground}),ur.md),RC=ze.div(cC||(cC=tt(["\n  display: flex;\n  justify-content: space-between;\n  margin-top: 40px;\n  @media "," {\n    flex-direction: column;\n  }\n"])),ur.md),LC=ze.h6(lC||(lC=tt(["\n  font-size: clamp(16px, 5vw, 24px);\n  font-weight: 500;\n  line-height: 1.3;\n  color: ",";\n"])),(function(e){return e.theme.colors.primaryText})),FC=ze.span(fC||(fC=tt(["\n  font-size: clamp(16px, 5vw, 24px);\n  font-weight: 500;\n  line-height: 1.3;\n  color: ",";\n  margin-bottom: 20px;\n  @media "," {\n    margin-bottom: 10px;\n  }\n"])),(function(e){return e.theme.colors.primaryText}),ur.md),BC=ze.li(hC||(hC=tt(["\n  border: 1px solid ",";\n  width: 90%;\n  @media "," {\n    width: 100%;\n  }\n  background: ",";\n  border-radius: 16px;\n  font-size: clamp(16px, 5vw, 18px);\n  font-weight: 600;\n  padding: 15px;\n  color: ",";\n  margin-top: clamp(13px, calc(10px + 6 * ((100vw - 600px) / 1320)), 16px);\n\n  // if user answer matches to correct answer make answer background success color otherwise danger color\n  ","\n\n  ","\n\n  span {\n    margin-right: 14px;\n  }\n\n  @media "," {\n    font-weight: 400;\n  }\n"])),(function(e){return e.theme.colors.border}),ur.md,(function(e){return e.theme.colors.answerBg}),(function(e){return e.theme.colors.secondaryText}),(function(e){return e.correct&&ke(dC||(dC=tt(["\n      border: 1px solid ",";\n      background-color: ",";\n    "])),(function(e){return e.theme.colors.success}),(function(e){return e.theme.colors.successLight}))}),(function(e){return e.wrong&&ke(pC||(pC=tt(["\n      border: 1px solid ",";\n      background-color: ",";\n    "])),(function(e){return e.theme.colors.danger}),(function(e){return e.theme.colors.dangerLight}))}),ur.md),zC=function(){var e=He().result;return(0,Qe.jsxs)(PC,{children:[(0,Qe.jsx)(pr,{children:(0,Qe.jsx)(ut,{})}),(0,Qe.jsxs)(OC,{children:[(0,Qe.jsx)(DC,{result:e}),e.map((function(e,t){var n=e.question,r=e.choices,i=e.image,a=e.correctAnswers,o=e.selectedAnswer,s=e.isMatch;return(0,Qe.jsx)(RC,{children:(0,Qe.jsxs)(vr,{width:"90%",children:[(0,Qe.jsxs)(fr,{gap:"4px",children:[(0,Qe.jsx)(LC,{children:"".concat(t+1,". ")}),(0,Qe.jsx)(FC,{children:n})]}),(0,Qe.jsxs)("div",{children:[i&&(0,Qe.jsx)(Dr,{image:i}),(0,Qe.jsx)("ul",{children:r.map((function(e,t){var n=String.fromCharCode(65+t),r=o.includes(e)&&a.includes(e),i=o.includes(e)&&!a.includes(e);return(0,Qe.jsxs)(BC,{correct:r,wrong:i,children:[(0,Qe.jsxs)("span",{children:[n,"."]}),e]},e)}))}),!s&&(0,Qe.jsx)(MC,{correctAnswers:a,choices:r})]})]})},n)}))]}),(0,Qe.jsx)(fr,{flxEnd:!0,children:(0,Qe.jsx)(br,{text:"RETRY",onClick:function(){window.location.reload()},icon:(0,Qe.jsx)(Lt,{}),iconPosition:"left",bold:!0})})]})},VC=ze.div(vC||(vC=tt(["\n  svg {\n    width: ",";\n    transition: width 1s;\n  }\n"])),(function(e){return e.logoSize})),jC=function(){var e=o((0,t.useState)("80px"),2),n=e[0],r=e[1];return(0,t.useEffect)((function(){var e=function(){window.innerWidth<900?r("240px"):r("350px")};return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),(0,Qe.jsx)(lr,{justifyCenter:!0,children:(0,Qe.jsx)(VC,{logoSize:n,children:(0,Qe.jsx)(ut,{})})})};var qC,UC,WC,QC,GC,KC=function(){var e,n=He(),r=n.currentScreen,i=n.setCurrentScreen;(0,t.useEffect)((function(){setTimeout((function(){i(Ue.QuizTopicsScreen)}),1e3)}),[i]);var a=(qe(e={},Ue.SplashScreen,(0,Qe.jsx)(jC,{})),qe(e,Ue.QuizTopicsScreen,(0,Qe.jsx)(IC,{})),qe(e,Ue.QuizDetailsScreen,(0,Qe.jsx)(kC,{})),qe(e,Ue.QuestionScreen,(0,Qe.jsx)(Wr,{})),qe(e,Ue.ResultScreen,(0,Qe.jsx)(zC,{})),e)[r]||(0,Qe.jsx)(jC,{});return(0,Qe.jsx)(Qe.Fragment,{children:a})},HC=ze.label(qC||(qC=tt(["\n  font-size: 16px;\n  font-weight: 700;\n  color: ",";\n  display: flex;\n  align-items: center;\n  position: absolute;\n  top: 12px;\n  right: 25px;\n"])),(function(e){return e.theme.colors.themeText})),YC=Be(UC||(UC=tt(["\n  0% {\n    transform: translateX(0) scale(1);\n  }\n  50% {\n    transform: translateX(15px) scale(1.1);\n  }\n  100% {\n    transform: translateX(23px) scale(1);\n  }\n"]))),$C=Be(WC||(WC=tt(["\n  0% {\n    transform: translateX(23px) scale(1);\n  }\n  50% {\n    transform: translateX(15px) scale(1.1);\n  }\n  100% {\n    transform: translateX(0px) scale(1);\n  }\n"]))),JC=ze.input(QC||(QC=tt(["\n  visibility: hidden;\n  border: 1px solid red;\n  margin: 0;\n  &:checked + span {\n    background-color: ",";\n    svg {\n      animation: "," 0.2s linear forwards;\n    }\n  }\n  &:checked + span::after {\n    background-color: ",";\n    animation: "," 0.2s linear forwards;\n  }\n"])),(function(e){return e.theme.colors.dark}),YC,(function(e){return e.theme.colors.white}),YC),XC=ze.span(GC||(GC=tt(["\n  width: 52px;\n  height: 26px;\n  background-color: ",";\n  display: inline-block;\n  cursor: pointer;\n  border-radius: 50px;\n  position: relative;\n  svg {\n    position: absolute;\n    top: 5px;\n    left: 7px;\n    z-index: 1;\n    animation: "," 0.2s linear forwards;\n  }\n  &::after {\n    content: '';\n    width: 21px;\n    height: 21px;\n    background-color: ",";\n    border-radius: 50%;\n    display: inline-block;\n    position: absolute;\n    top: 3px;\n    left: 5px;\n    align-items: center;\n    justify-content: center;\n    animation: "," 0.2s linear forwards;\n  }\n"])),(function(e){return e.theme.colors.white}),$C,(function(e){return e.theme.colors.dark}),$C),ZC=function(e){var t=e.onChange,n=e.id,r=e.value,i=e.checked,a=e.currentTheme;return(0,Qe.jsxs)(HC,{htmlFor:n,children:["Mode:",(0,Qe.jsx)(JC,{type:"checkbox",id:n,onChange:t,value:r,checked:i}),(0,Qe.jsx)(XC,{children:"light"===a?(0,Qe.jsx)(cn,{}):(0,Qe.jsx)(pn,{})})]})},eT={light:{colors:{primaryText:"#11052C",secondaryText:"#2D264B",themeText:"#000000",themeColor:"#800080",themeGradient:"linear-gradient(to right,#800080, #FFC0CB)",background:"#E5E5E5",cardBackground:"#FFFFFF",selectTopicBg:"#FFFFFF",appLogo:"#000000",buttonText:"#FFFFFF",outlineButtonText:"#800080",buttonBackground:"linear-gradient(90.04deg, #800080 0.03%, #FFC0CB 99.96%)",selectedAnswer:"#FFD6FF",infoText:"#FF783F",infoBackground:"#ffb23f26",border:"#EAEAEA",answerBg:"#ffffff",disabledCard:"#fbf4ecbc",disabledButton:"#e7e8e9",success:"#12B40E",successLight:"#DDFFDC",danger:"#FF143E",dangerLight:"#FFD7DE",white:"#FFFFFF",black:"#000000",dark:"#282526",darkGray:"#9fa3a9",darkerGray:"#817a8e"},fonts:{anekMalayalam:"Anek Malayalam"},shadows:{activeButton:"3px 2px 22px 1px rgba(0, 0, 0, 0.24)"},paddings:{container:"15px",pageTop:"30px"},margins:{pageTop:"30px"}},dark:{colors:{primaryText:"#FFFFFF",secondaryText:"#FFFFFF",themeText:"#FFFFFF",themeColor:"#C000C0",themeGradient:"linear-gradient(90deg, #0e050e 0%, #281e20 100%)",background:"linear-gradient(90deg, #0e050e 0%, #281e20 100%)",cardBackground:"#241a1a",selectTopicBg:"#21191C",appLogo:"#FFFFFF",buttonText:"#000000",outlineButtonText:"#ffffff",buttonBackground:"linear-gradient(90.04deg, #800080 0.03%, #FFC0CB 99.96%)",selectedAnswer:"#151113",infoText:"#FF783F",infoBackground:"#ffb23f26",border:"transparent",answerBg:"#151113",disabledCard:"#00000080",disabledButton:"#181214",success:"#12B40E",successLight:"#151113",danger:"#FF143E",dangerLight:"#151113",white:"#FFFFFF",black:"#000000",dark:"#282526",darkGray:"#9fa3a9",darkerGray:"#817a8e"},fonts:{anekMalayalam:"Anek Malayalam"},shadows:{activeButton:"3px 2px 22px 1px rgba(0, 0, 0, 0.24)"},paddings:{container:"15px",pageTop:"30px"},margins:{pageTop:"30px"}}};var tT=function(){var e=o((0,t.useState)((function(){return localStorage.getItem("theme")||"light"})),2),n=e[0],r=e[1],i="light"===n?eT.light:eT.dark;return(0,Qe.jsxs)(Pe,{theme:i,children:[(0,Qe.jsx)(cr,{}),(0,Qe.jsxs)(Je,{children:[(0,Qe.jsx)(ZC,{onChange:function(e){var t=e.target.checked;r(t?"dark":"light"),localStorage.setItem("theme",t?"dark":"light")},currentTheme:n,checked:"dark"===n,id:"toggleTheme",value:"theme"}),(0,Qe.jsx)(KC,{})]})]})},nT=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};r.createRoot(document.getElementById("root")).render((0,Qe.jsx)(t.StrictMode,{children:(0,Qe.jsx)(tT,{})})),nT()}()}();
//# sourceMappingURL=main.e01fa0fd.js.map